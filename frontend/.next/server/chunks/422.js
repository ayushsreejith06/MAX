"use strict";exports.id=422,exports.ids=[422],exports.modules={422:(e,t,s)=>{s.d(t,{Z:()=>b});var a=s(326),r=s(7577),l=s(660),i=s(1581),n=s(8423),o=s(2637),d=s(9997),c=s(4675),x=s(4390),m=s(8378),u=s(1890),g=s(9183);let h=({cx:e,cy:t})=>void 0===e||void 0===t?null:a.jsx("circle",{cx:e,cy:t,r:4,fill:"#FFFFFF",stroke:"#171717",strokeWidth:1.5});function b({data:e,sectorName:t,sectorSymbol:s,initialWindowHours:b=2,initialTickIncrement:p=10}){let[f,j]=(0,r.useState)(p),[v,k]=(0,r.useState)(b),[w,N]=(0,r.useState)(0),[y,D]=(0,r.useState)(!0),[M,F]=(0,r.useState)(!1),E="Market Index"===t,W=e=>{let[t,s]=e.split(":").map(Number);return 60*t+s},S=(0,r.useMemo)(()=>e.length?f<=5?e:e.filter(e=>W(e.time)%f==0):[],[e,f]),V=(0,r.useMemo)(()=>{if(!S.length)return{data:[],startTime:"00:00",endTime:"00:00",totalWindows:1};let e=S.map(e=>W(e.time)),t=Math.min(...e),s=60*Math.max(v,1),a=Math.max(1,Math.ceil(Math.max(s,Math.max(...e)-t+f)/s)),r=t+Math.min(w,a-1)*s,l=r+s,i=S.filter(e=>{let t=W(e.time);return t>=r&&t<l}),n=i.length?i:S.slice(-Math.ceil(s/Math.max(f,1))),o=n[0]?.time??S[0].time,d=n[n.length-1]?.time??S[S.length-1].time;return{data:n,startTime:o,endTime:d,totalWindows:a}},[S,v,w,f]),_=(0,r.useMemo)(()=>{let e=V.data.length?V.data:S;if(!e.length)return[];let t=new Map;return e.forEach(e=>{t.set(e.time,e)}),Array.from(t.entries()).sort((e,t)=>W(e[0])-W(t[0])).map(([,e])=>e)},[V.data,S]),{chartSeries:A,trendMap:B}=(0,r.useMemo)(()=>{let e=_.map(e=>({...e,riseValue:null,fallValue:null})),t=new Map;e.length&&t.set(e[0].time,"flat");for(let s=1;s<e.length;s++){let a=e[s-1],r=e[s];Number.isFinite(a.value)&&Number.isFinite(r.value)&&(r.value>a.value?(a.riseValue=a.value,r.riseValue=r.value,t.set(r.time,"up")):r.value<a.value?(a.fallValue=a.value,r.fallValue=r.value,t.set(r.time,"down")):t.set(r.time,"flat"))}return{chartSeries:e,trendMap:t}},[_]);return(0,a.jsxs)("div",{className:"w-full",children:[a.jsx("div",{className:"flex justify-end mb-4",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx("button",{onClick:()=>F(!M),className:`p-2 rounded-full border transition-colors ${M?"border-sage-green bg-sage-green/30 shadow-[0_0_20px_rgba(127,176,105,0.45)]":"border-sage-green/50 bg-transparent hover:bg-sage-green/10"}`,"aria-label":"Toggle chart settings",children:a.jsx(m.Z,{className:"w-4 h-4 text-sage-green"})}),M&&a.jsx("div",{className:"absolute right-0 top-full mt-3 w-72 rounded-2xl border border-sage-green/40 bg-pure-black p-4 shadow-2xl backdrop-blur z-20",children:(0,a.jsxs)("div",{className:"space-y-4 text-sage-green",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-sage-green/80",children:"Time Increment"}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:[5,10,15,30,60].map(e=>(0,a.jsxs)("button",{onClick:()=>j(e),className:`px-3 py-1.5 rounded-full text-xs font-mono transition-all ${f===e?"bg-sage-green text-pure-black shadow-[0_0_15px_rgba(127,176,105,0.45)]":"border border-sage-green/30 text-sage-green hover:bg-sage-green/10"}`,children:[e,"m"]},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-sage-green/80",children:"Window Size"}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:[1,2,4,6,12,24].map(e=>(0,a.jsxs)("button",{onClick:()=>k(e),className:`px-3 py-1.5 rounded-full text-xs font-mono transition-all ${v===e?"bg-sage-green text-pure-black shadow-[0_0_15px_rgba(127,176,105,0.45)]":"border border-sage-green/30 text-sage-green hover:bg-sage-green/10"}`,children:[e,"h"]},e))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{children:"Markers"}),a.jsx("button",{onClick:()=>D(e=>!e),className:`px-3 py-1 rounded-full text-xs font-semibold transition-colors ${y?"bg-sage-green text-pure-black":"border border-sage-green/30 text-sage-green hover:bg-sage-green/10"}`,children:y?"Visible":"Hidden"})]}),a.jsx("button",{onClick:()=>{j(10),k(2),D(!0)},className:"w-full rounded-full border border-sage-green/40 bg-transparent px-3 py-2 text-xs font-semibold uppercase tracking-wider text-sage-green hover:bg-sage-green/10 transition-colors",children:"Reset Defaults"})]})})]})}),(0,a.jsxs)("div",{className:"relative rounded-2xl border border-ink-500 bg-card-bg/70 p-4",children:[a.jsx(l.h,{width:"100%",height:420,children:(0,a.jsxs)(i.w,{data:A,margin:{top:10,right:30,left:20,bottom:20},children:[a.jsx(n.q,{strokeDasharray:"3 3",stroke:"#2D2D2D"}),a.jsx(o.K,{dataKey:"time",stroke:"#EDEDED",style:{fontSize:"12px",fontFamily:"IBM Plex Mono, monospace"},tick:{fill:"#EDEDED"}}),a.jsx(d.B,{stroke:"#EDEDED",style:{fontSize:"12px",fontFamily:"IBM Plex Mono, monospace"},tick:{fill:"#EDEDED"},domain:[e=>Number.isFinite(e)?Math.floor(e-10):0,e=>Number.isFinite(e)?Math.ceil(e+10):10],tickFormatter:e=>E?`$${e.toFixed(2)}`:e.toFixed(2)}),a.jsx(c.u,{content:a.jsx(({active:e,payload:t,label:r})=>{if(!e||!t?.length)return null;let l=t[0]?.payload;if(!l)return null;let i=B.get(r)??"flat";return(0,a.jsxs)("div",{className:"rounded-2xl border border-ink-500 bg-card-bg px-3 py-2 shadow-xl",children:[a.jsx("p",{className:"text-[0.65rem] font-mono uppercase tracking-[0.3em] text-floral-white/60",children:r}),(0,a.jsxs)("p",{className:"text-sm font-mono",style:{color:"up"===i?"#14B116":"down"===i?"#BD0000":"#EDEDED"},children:[s," : $",l.value.toFixed(2)]})]})},{}),cursor:{stroke:"#EDEDED",strokeDasharray:"3 3"}}),a.jsx(x.x,{type:"linear",dataKey:"value",stroke:"#F5F5F580",strokeWidth:2,dot:!!y&&a.jsx(h,{}),activeDot:!!y&&{r:6,fill:"#FFFFFF",stroke:"#171717",strokeWidth:1.5},connectNulls:!0,isAnimationActive:!1}),a.jsx(x.x,{type:"linear",dataKey:"riseValue",stroke:"#14B116",strokeWidth:2.5,dot:!1,connectNulls:!1,isAnimationActive:!1}),a.jsx(x.x,{type:"linear",dataKey:"fallValue",stroke:"#BD0000",strokeWidth:2.5,dot:!1,connectNulls:!1,isAnimationActive:!1})]})}),V.totalWindows>1&&(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 rounded-xl border border-ink-500 bg-ink-600/40 px-4 py-3 mt-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-floral-white/60",children:"Window"}),(0,a.jsxs)("p",{className:"text-sm font-semibold text-floral-white",children:[w+1," / ",V.totalWindows]})]}),(0,a.jsxs)("div",{className:"text-sm text-floral-white/70 font-mono",children:[V.startTime," - ",V.endTime]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{N(e=>Math.max(0,e-1))},disabled:0===w,className:"p-2 rounded-full border border-ink-500 hover:border-sage-green disabled:opacity-40 disabled:cursor-not-allowed transition-colors bg-card-bg/70","aria-label":"Previous window",children:a.jsx(u.Z,{className:"w-4 h-4 text-floral-white"})}),a.jsx("button",{onClick:()=>{N(e=>Math.min(V.totalWindows-1,e+1))},disabled:w>=V.totalWindows-1,className:"p-2 rounded-full border border-ink-500 hover:border-sage-green disabled:opacity-40 disabled:cursor-not-allowed transition-colors bg-card-bg/70","aria-label":"Next window",children:a.jsx(g.Z,{className:"w-4 h-4 text-floral-white"})})]})]}),!_.length&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-floral-white/40 text-sm font-mono",children:"No datapoints available"})]})]})}}};