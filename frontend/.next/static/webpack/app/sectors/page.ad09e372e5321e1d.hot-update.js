"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/sectors/page",{

/***/ "(app-pages-browser)/./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   acceptDiscussion: function() { return /* binding */ acceptDiscussion; },\n/* harmony export */   addDiscussionMessage: function() { return /* binding */ addDiscussionMessage; },\n/* harmony export */   archiveDiscussion: function() { return /* binding */ archiveDiscussion; },\n/* harmony export */   closeDiscussion: function() { return /* binding */ closeDiscussion; },\n/* harmony export */   createAgent: function() { return /* binding */ createAgent; },\n/* harmony export */   createDiscussion: function() { return /* binding */ createDiscussion; },\n/* harmony export */   createSector: function() { return /* binding */ createSector; },\n/* harmony export */   deleteAgent: function() { return /* binding */ deleteAgent; },\n/* harmony export */   deleteSector: function() { return /* binding */ deleteSector; },\n/* harmony export */   depositSector: function() { return /* binding */ depositSector; },\n/* harmony export */   fetchAgentById: function() { return /* binding */ fetchAgentById; },\n/* harmony export */   fetchAgents: function() { return /* binding */ fetchAgents; },\n/* harmony export */   fetchDiscussionById: function() { return /* binding */ fetchDiscussionById; },\n/* harmony export */   fetchDiscussions: function() { return /* binding */ fetchDiscussions; },\n/* harmony export */   fetchManagerDecisions: function() { return /* binding */ fetchManagerDecisions; },\n/* harmony export */   fetchManagerStatus: function() { return /* binding */ fetchManagerStatus; },\n/* harmony export */   fetchSectorById: function() { return /* binding */ fetchSectorById; },\n/* harmony export */   fetchSectors: function() { return /* binding */ fetchSectors; },\n/* harmony export */   getUserBalance: function() { return /* binding */ getUserBalance; },\n/* harmony export */   isRateLimitError: function() { return /* binding */ isRateLimitError; },\n/* harmony export */   rejectDiscussion: function() { return /* binding */ rejectDiscussion; },\n/* harmony export */   runConfidenceTick: function() { return /* binding */ runConfidenceTick; },\n/* harmony export */   simulateTick: function() { return /* binding */ simulateTick; },\n/* harmony export */   updateAgent: function() { return /* binding */ updateAgent; },\n/* harmony export */   updateSectorPerformance: function() { return /* binding */ updateSectorPerformance; }\n/* harmony export */ });\n/* harmony import */ var _desktopEnv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./desktopEnv */ \"(app-pages-browser)/./lib/desktopEnv.ts\");\n/* harmony import */ var _rateLimit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rateLimit */ \"(app-pages-browser)/./lib/rateLimit.ts\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n\n\n/**\n * Check if an error is a rate limit error that should be handled silently\n */ function isRateLimitError(error) {\n    return (error === null || error === void 0 ? void 0 : error.isRateLimit) === true || error instanceof Error && error.message.includes(\"rate limited\");\n}\n// Use desktop-aware base URL\nconst getApiBase = ()=>{\n    if (true) {\n        // Client-side: use dynamic detection\n        return (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)();\n    }\n    // Server-side: use environment variable or default\n    // Support NEXT_PUBLIC_API_URL (full API URL) or NEXT_PUBLIC_MAX_BACKEND_URL/NEXT_PUBLIC_BACKEND_URL (base URL)\n    const apiUrl = \"http://localhost:8000/api\";\n    if (apiUrl) {\n        return apiUrl.replace(/\\/$/, \"\");\n    }\n    const backend = process.env.NEXT_PUBLIC_MAX_BACKEND_URL || process.env.NEXT_PUBLIC_BACKEND_URL || \"http://localhost:8000\";\n    return \"\".concat(backend.replace(/\\/$/, \"\"), \"/api\");\n};\nconst API_BASE = getApiBase();\nconst BACKEND = (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getBackendBaseUrl)();\nfunction unwrapPayload(payload) {\n    if (payload && typeof payload === \"object\" && \"data\" in payload) {\n        return payload.data;\n    }\n    return payload;\n}\nasync function request(path, init) {\n    try {\n        // Get API base URL dynamically (handles desktop vs web mode)\n        const apiBase =  true ? (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)() : 0;\n        const fullUrl = \"\".concat(apiBase).concat(path);\n        // Debug logging (always log to help debug issues)\n        if (true) {\n            console.log(\"[API Request] \".concat((init === null || init === void 0 ? void 0 : init.method) || \"GET\", \" \").concat(fullUrl));\n        }\n        const responseResult = await (0,_rateLimit__WEBPACK_IMPORTED_MODULE_1__.rateLimitedFetch)(fullUrl, 2500, {\n            cache: \"no-store\",\n            credentials: \"omit\",\n            ...init\n        });\n        // Handle rate limiting - return skipped status instead of throwing\n        if (responseResult && typeof responseResult === \"object\" && \"skipped\" in responseResult && responseResult.skipped === true) {\n            return {\n                skipped: true\n            };\n        }\n        const response = responseResult;\n        if (!response.ok) {\n            let errorMessage = \"Request failed: \".concat(response.status);\n            try {\n                const errorData = await response.json();\n                if (errorData.error) {\n                    errorMessage = errorData.error;\n                } else if (typeof errorData === \"string\") {\n                    errorMessage = errorData;\n                }\n            } catch (e) {\n                const text = await response.text();\n                if (text) {\n                    errorMessage = text;\n                }\n            }\n            throw new Error(errorMessage);\n        }\n        const payload = await response.json();\n        return unwrapPayload(payload);\n    } catch (error) {\n        if (error instanceof Error) {\n            // Check if it's a network error\n            if (error.message.includes(\"fetch\") || error.message.includes(\"Failed to fetch\") || error.message.includes(\"NetworkError\") || error.name === \"TypeError\") {\n                // Always use dynamic detection for error messages\n                const apiBase =  true ? (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)() : 0;\n                const backendUrl = (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getBackendBaseUrl)();\n                const fullUrl = \"\".concat(apiBase).concat(path);\n                // Log more details in development\n                if (true) {\n                    console.error(\"[API Error]\", {\n                        error: error.message,\n                        name: error.name,\n                        attemptedUrl: fullUrl,\n                        backendUrl,\n                        envApiUrl: \"http://localhost:8000/api\",\n                        envBackendUrl: process.env.NEXT_PUBLIC_MAX_BACKEND_URL || process.env.NEXT_PUBLIC_BACKEND_URL\n                    });\n                }\n                throw new Error(\"Cannot connect to backend server. Please ensure the backend is running on \".concat(backendUrl, \". Attempted URL: \").concat(fullUrl));\n            }\n            throw error;\n        }\n        throw new Error(\"An unknown error occurred\");\n    }\n}\nfunction normalizeCandleData(entry, index, fallbackPrice) {\n    if (entry && typeof entry.time === \"string\" && typeof entry.value === \"number\") {\n        return entry;\n    }\n    const valueCandidate = typeof (entry === null || entry === void 0 ? void 0 : entry.value) === \"number\" ? entry.value : typeof (entry === null || entry === void 0 ? void 0 : entry.close) === \"number\" ? entry.close : typeof fallbackPrice === \"number\" ? fallbackPrice : 0;\n    const hours = index * 2 % 24;\n    const minutes = index * 5 % 60;\n    const time = \"\".concat(hours.toString().padStart(2, \"0\"), \":\").concat(minutes.toString().padStart(2, \"0\"));\n    if (!Number.isFinite(valueCandidate)) {\n        return null;\n    }\n    return {\n        time,\n        value: Number(valueCandidate.toFixed(2))\n    };\n}\nfunction normalizeAgent(raw) {\n    var _raw_performance, _raw_personality, _raw_personality1, _raw_personality2, _raw_personality3;\n    const performanceValue = typeof (raw === null || raw === void 0 ? void 0 : raw.performance) === \"number\" ? raw.performance : typeof (raw === null || raw === void 0 ? void 0 : (_raw_performance = raw.performance) === null || _raw_performance === void 0 ? void 0 : _raw_performance.pnl) === \"number\" ? raw.performance.pnl : 0;\n    const tradesCount = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.trades) ? raw.trades.length : typeof (raw === null || raw === void 0 ? void 0 : raw.trades) === \"number\" ? raw.trades : 0;\n    var _raw_id, _raw_name, _raw_role, _raw_status, _raw_sectorId, _ref, _raw_sectorSymbol, _ref1, _raw_sectorName, _ref2, _raw_personality_riskTolerance, _ref3, _raw_personality_decisionStyle, _ref4, _raw_createdAt, _ref5;\n    return {\n        id: String((_raw_id = raw === null || raw === void 0 ? void 0 : raw.id) !== null && _raw_id !== void 0 ? _raw_id : \"\"),\n        name: String((_raw_name = raw === null || raw === void 0 ? void 0 : raw.name) !== null && _raw_name !== void 0 ? _raw_name : \"Unnamed Agent\"),\n        role: String((_raw_role = raw === null || raw === void 0 ? void 0 : raw.role) !== null && _raw_role !== void 0 ? _raw_role : \"agent\"),\n        performance: Number(performanceValue || 0),\n        trades: Number(tradesCount || 0),\n        status: (_raw_status = raw === null || raw === void 0 ? void 0 : raw.status) !== null && _raw_status !== void 0 ? _raw_status : \"idle\",\n        sectorId: (_ref = (_raw_sectorId = raw === null || raw === void 0 ? void 0 : raw.sectorId) !== null && _raw_sectorId !== void 0 ? _raw_sectorId : raw === null || raw === void 0 ? void 0 : raw.sector_id) !== null && _ref !== void 0 ? _ref : null,\n        sectorSymbol: (_ref1 = (_raw_sectorSymbol = raw === null || raw === void 0 ? void 0 : raw.sectorSymbol) !== null && _raw_sectorSymbol !== void 0 ? _raw_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.sector_symbol) !== null && _ref1 !== void 0 ? _ref1 : undefined,\n        sectorName: (_ref2 = (_raw_sectorName = raw === null || raw === void 0 ? void 0 : raw.sectorName) !== null && _raw_sectorName !== void 0 ? _raw_sectorName : raw === null || raw === void 0 ? void 0 : raw.sector_name) !== null && _ref2 !== void 0 ? _ref2 : undefined,\n        personality: {\n            riskTolerance: (_ref3 = (_raw_personality_riskTolerance = raw === null || raw === void 0 ? void 0 : (_raw_personality = raw.personality) === null || _raw_personality === void 0 ? void 0 : _raw_personality.riskTolerance) !== null && _raw_personality_riskTolerance !== void 0 ? _raw_personality_riskTolerance : raw === null || raw === void 0 ? void 0 : (_raw_personality1 = raw.personality) === null || _raw_personality1 === void 0 ? void 0 : _raw_personality1.risk_tolerance) !== null && _ref3 !== void 0 ? _ref3 : \"Unknown\",\n            decisionStyle: (_ref4 = (_raw_personality_decisionStyle = raw === null || raw === void 0 ? void 0 : (_raw_personality2 = raw.personality) === null || _raw_personality2 === void 0 ? void 0 : _raw_personality2.decisionStyle) !== null && _raw_personality_decisionStyle !== void 0 ? _raw_personality_decisionStyle : raw === null || raw === void 0 ? void 0 : (_raw_personality3 = raw.personality) === null || _raw_personality3 === void 0 ? void 0 : _raw_personality3.decision_style) !== null && _ref4 !== void 0 ? _ref4 : \"Unknown\"\n        },\n        prompt: typeof (raw === null || raw === void 0 ? void 0 : raw.prompt) === \"string\" ? raw.prompt : undefined,\n        preferences: (raw === null || raw === void 0 ? void 0 : raw.preferences) ? {\n            riskWeight: typeof raw.preferences.riskWeight === \"number\" ? raw.preferences.riskWeight : undefined,\n            profitWeight: typeof raw.preferences.profitWeight === \"number\" ? raw.preferences.profitWeight : undefined,\n            speedWeight: typeof raw.preferences.speedWeight === \"number\" ? raw.preferences.speedWeight : undefined,\n            accuracyWeight: typeof raw.preferences.accuracyWeight === \"number\" ? raw.preferences.accuracyWeight : undefined\n        } : undefined,\n        morale: typeof (raw === null || raw === void 0 ? void 0 : raw.morale) === \"number\" ? raw.morale : undefined,\n        rewardPoints: typeof (raw === null || raw === void 0 ? void 0 : raw.rewardPoints) === \"number\" ? raw.rewardPoints : undefined,\n        confidence: typeof (raw === null || raw === void 0 ? void 0 : raw.confidence) === \"number\" ? raw.confidence : 0,\n        createdAt: (_ref5 = (_raw_createdAt = raw === null || raw === void 0 ? void 0 : raw.createdAt) !== null && _raw_createdAt !== void 0 ? _raw_createdAt : raw === null || raw === void 0 ? void 0 : raw.created_at) !== null && _ref5 !== void 0 ? _ref5 : new Date().toISOString(),\n        rawTrades: Array.isArray(raw === null || raw === void 0 ? void 0 : raw.trades) ? raw.trades : undefined,\n        rawPerformance: typeof (raw === null || raw === void 0 ? void 0 : raw.performance) === \"object\" ? raw.performance : undefined\n    };\n}\nfunction normalizeDiscussion(raw) {\n    const messages = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.messages) ? raw.messages.map((message, index)=>{\n        var _raw_id, _message_id, _message_agentName, _ref, _message_content, _message_timestamp;\n        return {\n            id: String((_message_id = message === null || message === void 0 ? void 0 : message.id) !== null && _message_id !== void 0 ? _message_id : \"\".concat((_raw_id = raw === null || raw === void 0 ? void 0 : raw.id) !== null && _raw_id !== void 0 ? _raw_id : \"disc\", \"-msg-\").concat(index)),\n            agentName: String((_ref = (_message_agentName = message === null || message === void 0 ? void 0 : message.agentName) !== null && _message_agentName !== void 0 ? _message_agentName : message === null || message === void 0 ? void 0 : message.agent_name) !== null && _ref !== void 0 ? _ref : \"Unknown Agent\"),\n            content: String((_message_content = message === null || message === void 0 ? void 0 : message.content) !== null && _message_content !== void 0 ? _message_content : \"\"),\n            timestamp: (_message_timestamp = message === null || message === void 0 ? void 0 : message.timestamp) !== null && _message_timestamp !== void 0 ? _message_timestamp : new Date().toISOString()\n        };\n    }) : [];\n    var _raw_id, _raw_sectorId, _ref, _raw_title, _raw_status, _raw_createdAt, _ref1, _raw_updatedAt, _ref2, _raw_sectorSymbol, _ref3, _raw_sectorName, _ref4;\n    return {\n        id: String((_raw_id = raw === null || raw === void 0 ? void 0 : raw.id) !== null && _raw_id !== void 0 ? _raw_id : \"\"),\n        sectorId: String((_ref = (_raw_sectorId = raw === null || raw === void 0 ? void 0 : raw.sectorId) !== null && _raw_sectorId !== void 0 ? _raw_sectorId : raw === null || raw === void 0 ? void 0 : raw.sector_id) !== null && _ref !== void 0 ? _ref : \"\"),\n        title: String((_raw_title = raw === null || raw === void 0 ? void 0 : raw.title) !== null && _raw_title !== void 0 ? _raw_title : \"Untitled discussion\"),\n        status: (_raw_status = raw === null || raw === void 0 ? void 0 : raw.status) !== null && _raw_status !== void 0 ? _raw_status : \"in_progress\",\n        agentIds: Array.isArray(raw === null || raw === void 0 ? void 0 : raw.agentIds) ? raw.agentIds.map((agentId)=>String(agentId)) : Array.isArray(raw === null || raw === void 0 ? void 0 : raw.agent_ids) ? raw.agent_ids.map((agentId)=>String(agentId)) : [],\n        messages,\n        createdAt: (_ref1 = (_raw_createdAt = raw === null || raw === void 0 ? void 0 : raw.createdAt) !== null && _raw_createdAt !== void 0 ? _raw_createdAt : raw === null || raw === void 0 ? void 0 : raw.created_at) !== null && _ref1 !== void 0 ? _ref1 : new Date().toISOString(),\n        updatedAt: (_ref2 = (_raw_updatedAt = raw === null || raw === void 0 ? void 0 : raw.updatedAt) !== null && _raw_updatedAt !== void 0 ? _raw_updatedAt : raw === null || raw === void 0 ? void 0 : raw.updated_at) !== null && _ref2 !== void 0 ? _ref2 : new Date().toISOString(),\n        sectorSymbol: (_ref3 = (_raw_sectorSymbol = raw === null || raw === void 0 ? void 0 : raw.sectorSymbol) !== null && _raw_sectorSymbol !== void 0 ? _raw_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.sector_symbol) !== null && _ref3 !== void 0 ? _ref3 : undefined,\n        sectorName: (_ref4 = (_raw_sectorName = raw === null || raw === void 0 ? void 0 : raw.sectorName) !== null && _raw_sectorName !== void 0 ? _raw_sectorName : raw === null || raw === void 0 ? void 0 : raw.sector_name) !== null && _ref4 !== void 0 ? _ref4 : undefined\n    };\n}\nfunction normalizeSector(raw) {\n    var _raw_currentPrice, _ref;\n    const basePrice = Number((_ref = (_raw_currentPrice = raw === null || raw === void 0 ? void 0 : raw.currentPrice) !== null && _raw_currentPrice !== void 0 ? _raw_currentPrice : raw === null || raw === void 0 ? void 0 : raw.price) !== null && _ref !== void 0 ? _ref : 0);\n    const agents = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.agents) ? raw.agents.map((agent)=>{\n        var _agent_sectorId, _agent_sectorSymbol, _ref, _agent_sectorName, _ref1;\n        return normalizeAgent({\n            ...agent,\n            sectorId: (_agent_sectorId = agent === null || agent === void 0 ? void 0 : agent.sectorId) !== null && _agent_sectorId !== void 0 ? _agent_sectorId : raw === null || raw === void 0 ? void 0 : raw.id,\n            sectorSymbol: (_ref = (_agent_sectorSymbol = agent === null || agent === void 0 ? void 0 : agent.sectorSymbol) !== null && _agent_sectorSymbol !== void 0 ? _agent_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.symbol) !== null && _ref !== void 0 ? _ref : raw === null || raw === void 0 ? void 0 : raw.sectorSymbol,\n            sectorName: (_ref1 = (_agent_sectorName = agent === null || agent === void 0 ? void 0 : agent.sectorName) !== null && _agent_sectorName !== void 0 ? _agent_sectorName : raw === null || raw === void 0 ? void 0 : raw.name) !== null && _ref1 !== void 0 ? _ref1 : raw === null || raw === void 0 ? void 0 : raw.sectorName\n        });\n    }) : [];\n    const candleData = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.candleData) ? raw.candleData.map((entry, index)=>normalizeCandleData(entry, index, basePrice)).filter((point)=>Boolean(point)) : [];\n    const discussions = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.discussions) ? raw.discussions.map((discussion)=>{\n        var _discussion_sectorId, _discussion_sectorSymbol, _ref, _discussion_sectorName, _ref1;\n        return normalizeDiscussion({\n            ...discussion,\n            sectorId: (_discussion_sectorId = discussion === null || discussion === void 0 ? void 0 : discussion.sectorId) !== null && _discussion_sectorId !== void 0 ? _discussion_sectorId : raw === null || raw === void 0 ? void 0 : raw.id,\n            sectorSymbol: (_ref = (_discussion_sectorSymbol = discussion === null || discussion === void 0 ? void 0 : discussion.sectorSymbol) !== null && _discussion_sectorSymbol !== void 0 ? _discussion_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.symbol) !== null && _ref !== void 0 ? _ref : raw === null || raw === void 0 ? void 0 : raw.sectorSymbol,\n            sectorName: (_ref1 = (_discussion_sectorName = discussion === null || discussion === void 0 ? void 0 : discussion.sectorName) !== null && _discussion_sectorName !== void 0 ? _discussion_sectorName : raw === null || raw === void 0 ? void 0 : raw.name) !== null && _ref1 !== void 0 ? _ref1 : raw === null || raw === void 0 ? void 0 : raw.sectorName\n        });\n    }) : [];\n    var _raw_id, _raw_name, _ref1, _raw_sectorSymbol, _ref2, _raw_change, _raw_changePercent, _ref3, _raw_volume, _raw_activeAgents, _ref4, _raw_buyAgents, _ref5, _raw_sellAgents, _ref6, _raw_statusPercent, _ref7, _raw_createdAt, _ref8;\n    return {\n        id: String((_raw_id = raw === null || raw === void 0 ? void 0 : raw.id) !== null && _raw_id !== void 0 ? _raw_id : \"\"),\n        name: String((_ref1 = (_raw_name = raw === null || raw === void 0 ? void 0 : raw.name) !== null && _raw_name !== void 0 ? _raw_name : raw === null || raw === void 0 ? void 0 : raw.sectorName) !== null && _ref1 !== void 0 ? _ref1 : \"Unknown Sector\"),\n        symbol: String((_ref2 = (_raw_sectorSymbol = raw === null || raw === void 0 ? void 0 : raw.sectorSymbol) !== null && _raw_sectorSymbol !== void 0 ? _raw_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.symbol) !== null && _ref2 !== void 0 ? _ref2 : \"N/A\"),\n        currentPrice: Number.isFinite(basePrice) ? Number(basePrice.toFixed(2)) : 0,\n        change: Number((_raw_change = raw === null || raw === void 0 ? void 0 : raw.change) !== null && _raw_change !== void 0 ? _raw_change : 0),\n        changePercent: Number((_ref3 = (_raw_changePercent = raw === null || raw === void 0 ? void 0 : raw.changePercent) !== null && _raw_changePercent !== void 0 ? _raw_changePercent : raw === null || raw === void 0 ? void 0 : raw.change_percent) !== null && _ref3 !== void 0 ? _ref3 : 0),\n        volume: Number((_raw_volume = raw === null || raw === void 0 ? void 0 : raw.volume) !== null && _raw_volume !== void 0 ? _raw_volume : 0),\n        agents,\n        activeAgents: Number((_ref4 = (_raw_activeAgents = raw === null || raw === void 0 ? void 0 : raw.activeAgents) !== null && _raw_activeAgents !== void 0 ? _raw_activeAgents : raw === null || raw === void 0 ? void 0 : raw.active_agents) !== null && _ref4 !== void 0 ? _ref4 : agents.filter((agent)=>agent.status === \"active\").length),\n        buyAgents: Number((_ref5 = (_raw_buyAgents = raw === null || raw === void 0 ? void 0 : raw.buyAgents) !== null && _raw_buyAgents !== void 0 ? _raw_buyAgents : raw === null || raw === void 0 ? void 0 : raw.buy_agents) !== null && _ref5 !== void 0 ? _ref5 : 0),\n        sellAgents: Number((_ref6 = (_raw_sellAgents = raw === null || raw === void 0 ? void 0 : raw.sellAgents) !== null && _raw_sellAgents !== void 0 ? _raw_sellAgents : raw === null || raw === void 0 ? void 0 : raw.sell_agents) !== null && _ref6 !== void 0 ? _ref6 : 0),\n        statusPercent: Number((_ref7 = (_raw_statusPercent = raw === null || raw === void 0 ? void 0 : raw.statusPercent) !== null && _raw_statusPercent !== void 0 ? _raw_statusPercent : raw === null || raw === void 0 ? void 0 : raw.status_percent) !== null && _ref7 !== void 0 ? _ref7 : 0),\n        candleData,\n        discussions,\n        createdAt: (_ref8 = (_raw_createdAt = raw === null || raw === void 0 ? void 0 : raw.createdAt) !== null && _raw_createdAt !== void 0 ? _raw_createdAt : raw === null || raw === void 0 ? void 0 : raw.created_at) !== null && _ref8 !== void 0 ? _ref8 : new Date().toISOString(),\n        volatility: typeof (raw === null || raw === void 0 ? void 0 : raw.volatility) === \"number\" ? Number(raw.volatility.toFixed(4)) : undefined,\n        riskScore: typeof (raw === null || raw === void 0 ? void 0 : raw.riskScore) === \"number\" ? Number(raw.riskScore) : undefined,\n        lastSimulatedPrice: typeof (raw === null || raw === void 0 ? void 0 : raw.lastSimulatedPrice) === \"number\" ? Number(raw.lastSimulatedPrice.toFixed(2)) : null,\n        balance: typeof (raw === null || raw === void 0 ? void 0 : raw.balance) === \"number\" ? Number(raw.balance.toFixed(2)) : 0\n    };\n}\nasync function fetchSectors() {\n    try {\n        const payload = await request(\"/sectors\");\n        if (!payload) {\n            return [];\n        }\n        return Array.isArray(payload) ? payload.map(normalizeSector) : [];\n    } catch (error) {\n        console.error(\"Error fetching sectors:\", error);\n        throw error;\n    }\n}\nasync function fetchSectorById(id) {\n    if (!id) {\n        return null;\n    }\n    const payload = await request(\"/sectors/\".concat(id));\n    return payload ? normalizeSector(payload) : null;\n}\nasync function fetchManagerStatus() {\n    try {\n        const payload = await request(\"/simulation/status\");\n        return payload && payload.success ? payload.data : null;\n    } catch (error) {\n        console.error(\"Error fetching manager status:\", error);\n        return null;\n    }\n}\nasync function fetchManagerDecisions(sectorId) {\n    try {\n        const payload = await request(\"/simulation/decisions/\".concat(sectorId));\n        return payload && payload.success ? payload.data : [];\n    } catch (error) {\n        console.error(\"Error fetching manager decisions:\", error);\n        return [];\n    }\n}\nasync function fetchAgents() {\n    const payload = await request(\"/agents\");\n    return Array.isArray(payload) ? payload.map((agent)=>normalizeAgent(agent)) : [];\n}\nasync function fetchAgentById(id) {\n    if (!id) {\n        return null;\n    }\n    const payload = await request(\"/agents/\".concat(id));\n    return payload ? normalizeAgent(payload) : null;\n}\nasync function fetchDiscussions() {\n    const payload = await request(\"/discussions\");\n    return Array.isArray(payload) ? payload.map(normalizeDiscussion) : [];\n}\nasync function fetchDiscussionById(id) {\n    if (!id) {\n        return null;\n    }\n    const payload = await request(\"/discussions/\".concat(id));\n    return payload ? normalizeDiscussion(payload) : null;\n}\nasync function createDiscussion(sectorId, title) {\n    let agentIds = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [];\n    const payload = await request(\"/discussions\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            sectorId,\n            title,\n            agentIds\n        })\n    });\n    return normalizeDiscussion(payload);\n}\nasync function addDiscussionMessage(discussionId, message) {\n    const payload = await request(\"/discussions/\".concat(discussionId, \"/message\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(message)\n    });\n    return normalizeDiscussion(payload);\n}\nasync function closeDiscussion(discussionId) {\n    const payload = await request(\"/discussions/\".concat(discussionId, \"/close\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    return normalizeDiscussion(payload);\n}\nasync function archiveDiscussion(discussionId) {\n    const payload = await request(\"/discussions/\".concat(discussionId, \"/archive\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    return normalizeDiscussion(payload);\n}\nasync function acceptDiscussion(discussionId) {\n    const payload = await request(\"/discussions/\".concat(discussionId, \"/accept\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    return normalizeDiscussion(payload);\n}\nasync function rejectDiscussion(discussionId) {\n    const payload = await request(\"/discussions/\".concat(discussionId, \"/reject\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    return normalizeDiscussion(payload);\n}\nasync function createSector(sectorName, sectorSymbol) {\n    const payload = await request(\"/sectors\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            sectorName,\n            sectorSymbol\n        })\n    });\n    return normalizeSector(payload);\n}\nasync function createAgent(prompt, sectorId, role) {\n    try {\n        const payload = await request(\"/agents\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                prompt,\n                sectorId,\n                role: role || null\n            })\n        });\n        // Handle both `{ success: true, data: Agent }` and direct `Agent`\n        let rawAgent;\n        if (payload && typeof payload === \"object\" && \"success\" in payload && payload.success === true && \"data\" in payload) {\n            rawAgent = payload.data;\n        } else {\n            rawAgent = payload;\n        }\n        // At this point we expect `rawAgent` to be an Agent-like object\n        const agent = normalizeAgent(rawAgent);\n        return agent;\n    } catch (error) {\n        // Optionally inspect error.response / error.message depending on `request` helper\n        const message = error && error.message || \"Failed to create agent. Please try again.\";\n        // Re-throw as a standard Error for callers (modals/pages) to handle\n        throw new Error(message);\n    }\n}\nasync function simulateTick(sectorId) {\n    let decisions = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n    const payload = await request(\"/simulation/tick\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            sectorId,\n            decisions\n        })\n    });\n    // Handle both wrapped and unwrapped responses\n    if (payload && typeof payload === \"object\" && \"success\" in payload && \"data\" in payload) {\n        return payload.data;\n    }\n    return payload;\n}\nasync function updateSectorPerformance(sectorId) {\n    const payload = await request(\"/simulation/\".concat(sectorId, \"/performance\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    // Handle both wrapped and unwrapped responses\n    let sectorData = payload;\n    if (payload && typeof payload === \"object\" && \"success\" in payload && \"data\" in payload) {\n        sectorData = payload.data;\n    }\n    return normalizeSector(sectorData);\n}\nasync function depositSector(sectorId, amount) {\n    const payload = await request(\"/sectors/\".concat(sectorId, \"/deposit\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            amount\n        })\n    });\n    // Handle both wrapped and unwrapped responses\n    let sectorData = payload;\n    if (payload && typeof payload === \"object\" && \"success\" in payload && \"data\" in payload) {\n        sectorData = payload.data;\n    }\n    return normalizeSector(sectorData);\n}\nasync function updateAgent(agentId, updates) {\n    const payload = await request(\"/agents/\".concat(agentId), {\n        method: \"PUT\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(updates)\n    });\n    return normalizeAgent(payload);\n}\nasync function deleteAgent(agentId) {\n    await request(\"/agents/\".concat(agentId), {\n        method: \"DELETE\"\n    });\n}\nasync function deleteSector(sectorId, confirmationCode) {\n    const payload = await request(\"/sectors/\".concat(sectorId), {\n        method: \"DELETE\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            confirmationCode\n        })\n    });\n    return payload;\n}\nasync function getUserBalance() {\n    try {\n        const result = await request(\"/user/balance\");\n        // Handle rate limiting - return 0 when skipped\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            return 0;\n        }\n        const data = result;\n        return typeof data.balance === \"number\" ? data.balance : 0;\n    } catch (error) {\n        console.error(\"Failed to fetch user balance:\", error);\n        return 0;\n    }\n}\nasync function runConfidenceTick(sectorId) {\n    try {\n        const result = await request(\"/sectors/\".concat(sectorId, \"/confidence-tick\"), {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({})\n        });\n        // Handle rate limiting - return null when skipped so polling can continue silently\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            return null;\n        }\n        return result;\n    } catch (error) {\n        // Re-throw errors (only real HTTP errors should reach here)\n        throw error;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFFQSxtRkFBbUY7UUFDbkYsSUFBSXNCLFVBQVUsT0FBT0EsV0FBVyxZQUFZLGFBQWFBLFVBQVUsT0FBZ0JqSixPQUFPLEtBQUssTUFBTTtZQUNuRyxPQUFPO1FBQ1Q7UUFFQSxPQUFPaUo7SUFDVCxFQUFFLE9BQU8vSyxPQUFZO1FBQ25CLDREQUE0RDtRQUM1RCxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL2FwaS50cz82OGExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFnZW50LCBBcGlQYXlsb2FkLCBEaXNjdXNzaW9uLCBTZWN0b3IsIENhbmRsZURhdGEgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGdldEFwaUJhc2VVcmwsIGdldEJhY2tlbmRCYXNlVXJsIH0gZnJvbSAnLi9kZXNrdG9wRW52JztcbmltcG9ydCB7IHJhdGVMaW1pdGVkRmV0Y2ggfSBmcm9tICcuL3JhdGVMaW1pdCc7XG5cbi8qKlxuICogQ2hlY2sgaWYgYW4gZXJyb3IgaXMgYSByYXRlIGxpbWl0IGVycm9yIHRoYXQgc2hvdWxkIGJlIGhhbmRsZWQgc2lsZW50bHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmF0ZUxpbWl0RXJyb3IoZXJyb3I6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIGVycm9yPy5pc1JhdGVMaW1pdCA9PT0gdHJ1ZSB8fFxuICAgIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ3JhdGUgbGltaXRlZCcpKVxuICApO1xufVxuXG4vLyBVc2UgZGVza3RvcC1hd2FyZSBiYXNlIFVSTFxuY29uc3QgZ2V0QXBpQmFzZSA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gQ2xpZW50LXNpZGU6IHVzZSBkeW5hbWljIGRldGVjdGlvblxuICAgIHJldHVybiBnZXRBcGlCYXNlVXJsKCk7XG4gIH1cbiAgLy8gU2VydmVyLXNpZGU6IHVzZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBvciBkZWZhdWx0XG4gIC8vIFN1cHBvcnQgTkVYVF9QVUJMSUNfQVBJX1VSTCAoZnVsbCBBUEkgVVJMKSBvciBORVhUX1BVQkxJQ19NQVhfQkFDS0VORF9VUkwvTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwgKGJhc2UgVVJMKVxuICBjb25zdCBhcGlVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMO1xuICBpZiAoYXBpVXJsKSB7XG4gICAgcmV0dXJuIGFwaVVybC5yZXBsYWNlKC9cXC8kLywgJycpO1xuICB9XG4gIGNvbnN0IGJhY2tlbmQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQVhfQkFDS0VORF9VUkwgfHwgXG4gICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTCB8fCBcbiAgICAgICAgICAgICAgICAgICdodHRwOi8vbG9jYWxob3N0OjgwMDAnO1xuICByZXR1cm4gYCR7YmFja2VuZC5yZXBsYWNlKC9cXC8kLywgJycpfS9hcGlgO1xufTtcblxuY29uc3QgQVBJX0JBU0UgPSBnZXRBcGlCYXNlKCk7XG5jb25zdCBCQUNLRU5EID0gZ2V0QmFja2VuZEJhc2VVcmwoKTtcblxuZnVuY3Rpb24gdW53cmFwUGF5bG9hZDxUPihwYXlsb2FkOiBBcGlQYXlsb2FkPFQ+KTogVCB7XG4gIGlmIChwYXlsb2FkICYmIHR5cGVvZiBwYXlsb2FkID09PSAnb2JqZWN0JyAmJiAnZGF0YScgaW4gcGF5bG9hZCkge1xuICAgIHJldHVybiAocGF5bG9hZCBhcyB7IGRhdGE6IFQgfSkuZGF0YTtcbiAgfVxuXG4gIHJldHVybiBwYXlsb2FkIGFzIFQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlcXVlc3Q8VD4ocGF0aDogc3RyaW5nLCBpbml0PzogUmVxdWVzdEluaXQpOiBQcm9taXNlPFQgfCB7IHNraXBwZWQ6IHRydWUgfT4ge1xuICB0cnkge1xuICAgIC8vIEdldCBBUEkgYmFzZSBVUkwgZHluYW1pY2FsbHkgKGhhbmRsZXMgZGVza3RvcCB2cyB3ZWIgbW9kZSlcbiAgICBjb25zdCBhcGlCYXNlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBnZXRBcGlCYXNlVXJsKCkgOiBBUElfQkFTRTtcbiAgICBjb25zdCBmdWxsVXJsID0gYCR7YXBpQmFzZX0ke3BhdGh9YDtcbiAgICBcbiAgICAvLyBEZWJ1ZyBsb2dnaW5nIChhbHdheXMgbG9nIHRvIGhlbHAgZGVidWcgaXNzdWVzKVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coYFtBUEkgUmVxdWVzdF0gJHtpbml0Py5tZXRob2QgfHwgJ0dFVCd9ICR7ZnVsbFVybH1gKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2VSZXN1bHQgPSBhd2FpdCByYXRlTGltaXRlZEZldGNoKGZ1bGxVcmwsIDI1MDAsIHtcbiAgICAgIGNhY2hlOiAnbm8tc3RvcmUnLFxuICAgICAgY3JlZGVudGlhbHM6ICdvbWl0JyxcbiAgICAgIC4uLmluaXQsXG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHJldHVybiBza2lwcGVkIHN0YXR1cyBpbnN0ZWFkIG9mIHRocm93aW5nXG4gICAgaWYgKHJlc3BvbnNlUmVzdWx0ICYmIHR5cGVvZiByZXNwb25zZVJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3BvbnNlUmVzdWx0ICYmIChyZXNwb25zZVJlc3VsdCBhcyBhbnkpLnNraXBwZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiB7IHNraXBwZWQ6IHRydWUgfTtcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZSA9IHJlc3BvbnNlUmVzdWx0IGFzIFJlc3BvbnNlO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGBSZXF1ZXN0IGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9YDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKGVycm9yRGF0YS5lcnJvcikge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5lcnJvcjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3JEYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gdGV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcGF5bG9hZCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpIGFzIEFwaVBheWxvYWQ8VD47XG4gICAgcmV0dXJuIHVud3JhcFBheWxvYWQ8VD4ocGF5bG9hZCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIENoZWNrIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnZmV0Y2gnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdGYWlsZWQgdG8gZmV0Y2gnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdOZXR3b3JrRXJyb3InKSB8fCBlcnJvci5uYW1lID09PSAnVHlwZUVycm9yJykge1xuICAgICAgICAvLyBBbHdheXMgdXNlIGR5bmFtaWMgZGV0ZWN0aW9uIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBhcGlCYXNlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBnZXRBcGlCYXNlVXJsKCkgOiBBUElfQkFTRTtcbiAgICAgICAgY29uc3QgYmFja2VuZFVybCA9IGdldEJhY2tlbmRCYXNlVXJsKCk7XG4gICAgICAgIGNvbnN0IGZ1bGxVcmwgPSBgJHthcGlCYXNlfSR7cGF0aH1gO1xuICAgICAgICBcbiAgICAgICAgLy8gTG9nIG1vcmUgZGV0YWlscyBpbiBkZXZlbG9wbWVudFxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQVBJIEVycm9yXScsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgbmFtZTogZXJyb3IubmFtZSxcbiAgICAgICAgICAgIGF0dGVtcHRlZFVybDogZnVsbFVybCxcbiAgICAgICAgICAgIGJhY2tlbmRVcmwsXG4gICAgICAgICAgICBlbnZBcGlVcmw6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwsXG4gICAgICAgICAgICBlbnZCYWNrZW5kVXJsOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQVhfQkFDS0VORF9VUkwgfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNvbm5lY3QgdG8gYmFja2VuZCBzZXJ2ZXIuIFBsZWFzZSBlbnN1cmUgdGhlIGJhY2tlbmQgaXMgcnVubmluZyBvbiAke2JhY2tlbmRVcmx9LiBBdHRlbXB0ZWQgVVJMOiAke2Z1bGxVcmx9YCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplQ2FuZGxlRGF0YShlbnRyeTogYW55LCBpbmRleDogbnVtYmVyLCBmYWxsYmFja1ByaWNlOiBudW1iZXIpOiBDYW5kbGVEYXRhIHwgbnVsbCB7XG4gIGlmIChlbnRyeSAmJiB0eXBlb2YgZW50cnkudGltZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGVudHJ5LnZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBlbnRyeTtcbiAgfVxuXG4gIGNvbnN0IHZhbHVlQ2FuZGlkYXRlID1cbiAgICB0eXBlb2YgZW50cnk/LnZhbHVlID09PSAnbnVtYmVyJ1xuICAgICAgPyBlbnRyeS52YWx1ZVxuICAgICAgOiB0eXBlb2YgZW50cnk/LmNsb3NlID09PSAnbnVtYmVyJ1xuICAgICAgPyBlbnRyeS5jbG9zZVxuICAgICAgOiB0eXBlb2YgZmFsbGJhY2tQcmljZSA9PT0gJ251bWJlcidcbiAgICAgID8gZmFsbGJhY2tQcmljZVxuICAgICAgOiAwO1xuXG4gIGNvbnN0IGhvdXJzID0gKGluZGV4ICogMikgJSAyNDtcbiAgY29uc3QgbWludXRlcyA9IChpbmRleCAqIDUpICUgNjA7XG4gIGNvbnN0IHRpbWUgPSBgJHtob3Vycy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7bWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcblxuICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWx1ZUNhbmRpZGF0ZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdGltZSxcbiAgICB2YWx1ZTogTnVtYmVyKHZhbHVlQ2FuZGlkYXRlLnRvRml4ZWQoMikpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVBZ2VudChyYXc6IGFueSk6IEFnZW50IHtcbiAgY29uc3QgcGVyZm9ybWFuY2VWYWx1ZSA9XG4gICAgdHlwZW9mIHJhdz8ucGVyZm9ybWFuY2UgPT09ICdudW1iZXInXG4gICAgICA/IHJhdy5wZXJmb3JtYW5jZVxuICAgICAgOiB0eXBlb2YgcmF3Py5wZXJmb3JtYW5jZT8ucG5sID09PSAnbnVtYmVyJ1xuICAgICAgPyByYXcucGVyZm9ybWFuY2UucG5sXG4gICAgICA6IDA7XG5cbiAgY29uc3QgdHJhZGVzQ291bnQgPSBBcnJheS5pc0FycmF5KHJhdz8udHJhZGVzKVxuICAgID8gcmF3LnRyYWRlcy5sZW5ndGhcbiAgICA6IHR5cGVvZiByYXc/LnRyYWRlcyA9PT0gJ251bWJlcidcbiAgICA/IHJhdy50cmFkZXNcbiAgICA6IDA7XG5cbiAgcmV0dXJuIHtcbiAgICBpZDogU3RyaW5nKHJhdz8uaWQgPz8gJycpLFxuICAgIG5hbWU6IFN0cmluZyhyYXc/Lm5hbWUgPz8gJ1VubmFtZWQgQWdlbnQnKSxcbiAgICByb2xlOiBTdHJpbmcocmF3Py5yb2xlID8/ICdhZ2VudCcpLFxuICAgIHBlcmZvcm1hbmNlOiBOdW1iZXIocGVyZm9ybWFuY2VWYWx1ZSB8fCAwKSxcbiAgICB0cmFkZXM6IE51bWJlcih0cmFkZXNDb3VudCB8fCAwKSxcbiAgICBzdGF0dXM6IChyYXc/LnN0YXR1cyA/PyAnaWRsZScpIGFzIEFnZW50WydzdGF0dXMnXSxcbiAgICBzZWN0b3JJZDogcmF3Py5zZWN0b3JJZCA/PyByYXc/LnNlY3Rvcl9pZCA/PyBudWxsLFxuICAgIHNlY3RvclN5bWJvbDogcmF3Py5zZWN0b3JTeW1ib2wgPz8gcmF3Py5zZWN0b3Jfc3ltYm9sID8/IHVuZGVmaW5lZCxcbiAgICBzZWN0b3JOYW1lOiByYXc/LnNlY3Rvck5hbWUgPz8gcmF3Py5zZWN0b3JfbmFtZSA/PyB1bmRlZmluZWQsXG4gICAgcGVyc29uYWxpdHk6IHtcbiAgICAgIHJpc2tUb2xlcmFuY2U6IHJhdz8ucGVyc29uYWxpdHk/LnJpc2tUb2xlcmFuY2UgPz8gcmF3Py5wZXJzb25hbGl0eT8ucmlza190b2xlcmFuY2UgPz8gJ1Vua25vd24nLFxuICAgICAgZGVjaXNpb25TdHlsZTogcmF3Py5wZXJzb25hbGl0eT8uZGVjaXNpb25TdHlsZSA/PyByYXc/LnBlcnNvbmFsaXR5Py5kZWNpc2lvbl9zdHlsZSA/PyAnVW5rbm93bicsXG4gICAgfSxcbiAgICBwcm9tcHQ6IHR5cGVvZiByYXc/LnByb21wdCA9PT0gJ3N0cmluZycgPyByYXcucHJvbXB0IDogdW5kZWZpbmVkLFxuICAgIHByZWZlcmVuY2VzOiByYXc/LnByZWZlcmVuY2VzID8ge1xuICAgICAgcmlza1dlaWdodDogdHlwZW9mIHJhdy5wcmVmZXJlbmNlcy5yaXNrV2VpZ2h0ID09PSAnbnVtYmVyJyA/IHJhdy5wcmVmZXJlbmNlcy5yaXNrV2VpZ2h0IDogdW5kZWZpbmVkLFxuICAgICAgcHJvZml0V2VpZ2h0OiB0eXBlb2YgcmF3LnByZWZlcmVuY2VzLnByb2ZpdFdlaWdodCA9PT0gJ251bWJlcicgPyByYXcucHJlZmVyZW5jZXMucHJvZml0V2VpZ2h0IDogdW5kZWZpbmVkLFxuICAgICAgc3BlZWRXZWlnaHQ6IHR5cGVvZiByYXcucHJlZmVyZW5jZXMuc3BlZWRXZWlnaHQgPT09ICdudW1iZXInID8gcmF3LnByZWZlcmVuY2VzLnNwZWVkV2VpZ2h0IDogdW5kZWZpbmVkLFxuICAgICAgYWNjdXJhY3lXZWlnaHQ6IHR5cGVvZiByYXcucHJlZmVyZW5jZXMuYWNjdXJhY3lXZWlnaHQgPT09ICdudW1iZXInID8gcmF3LnByZWZlcmVuY2VzLmFjY3VyYWN5V2VpZ2h0IDogdW5kZWZpbmVkLFxuICAgIH0gOiB1bmRlZmluZWQsXG4gICAgbW9yYWxlOiB0eXBlb2YgcmF3Py5tb3JhbGUgPT09ICdudW1iZXInID8gcmF3Lm1vcmFsZSA6IHVuZGVmaW5lZCxcbiAgICByZXdhcmRQb2ludHM6IHR5cGVvZiByYXc/LnJld2FyZFBvaW50cyA9PT0gJ251bWJlcicgPyByYXcucmV3YXJkUG9pbnRzIDogdW5kZWZpbmVkLFxuICAgIGNvbmZpZGVuY2U6IHR5cGVvZiByYXc/LmNvbmZpZGVuY2UgPT09ICdudW1iZXInID8gcmF3LmNvbmZpZGVuY2UgOiAwLFxuICAgIGNyZWF0ZWRBdDogcmF3Py5jcmVhdGVkQXQgPz8gcmF3Py5jcmVhdGVkX2F0ID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICByYXdUcmFkZXM6IEFycmF5LmlzQXJyYXkocmF3Py50cmFkZXMpID8gcmF3LnRyYWRlcyA6IHVuZGVmaW5lZCxcbiAgICByYXdQZXJmb3JtYW5jZTogdHlwZW9mIHJhdz8ucGVyZm9ybWFuY2UgPT09ICdvYmplY3QnID8gcmF3LnBlcmZvcm1hbmNlIDogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVEaXNjdXNzaW9uKHJhdzogYW55KTogRGlzY3Vzc2lvbiB7XG4gIGNvbnN0IG1lc3NhZ2VzID0gQXJyYXkuaXNBcnJheShyYXc/Lm1lc3NhZ2VzKVxuICAgID8gcmF3Lm1lc3NhZ2VzLm1hcCgobWVzc2FnZTogYW55LCBpbmRleDogbnVtYmVyKSA9PiAoe1xuICAgICAgICBpZDogU3RyaW5nKG1lc3NhZ2U/LmlkID8/IGAke3Jhdz8uaWQgPz8gJ2Rpc2MnfS1tc2ctJHtpbmRleH1gKSxcbiAgICAgICAgYWdlbnROYW1lOiBTdHJpbmcobWVzc2FnZT8uYWdlbnROYW1lID8/IG1lc3NhZ2U/LmFnZW50X25hbWUgPz8gJ1Vua25vd24gQWdlbnQnKSxcbiAgICAgICAgY29udGVudDogU3RyaW5nKG1lc3NhZ2U/LmNvbnRlbnQgPz8gJycpLFxuICAgICAgICB0aW1lc3RhbXA6IG1lc3NhZ2U/LnRpbWVzdGFtcCA/PyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9KSlcbiAgICA6IFtdO1xuXG4gIHJldHVybiB7XG4gICAgaWQ6IFN0cmluZyhyYXc/LmlkID8/ICcnKSxcbiAgICBzZWN0b3JJZDogU3RyaW5nKHJhdz8uc2VjdG9ySWQgPz8gcmF3Py5zZWN0b3JfaWQgPz8gJycpLFxuICAgIHRpdGxlOiBTdHJpbmcocmF3Py50aXRsZSA/PyAnVW50aXRsZWQgZGlzY3Vzc2lvbicpLFxuICAgIHN0YXR1czogKHJhdz8uc3RhdHVzID8/ICdpbl9wcm9ncmVzcycpIGFzIERpc2N1c3Npb25bJ3N0YXR1cyddLFxuICAgIGFnZW50SWRzOiBBcnJheS5pc0FycmF5KHJhdz8uYWdlbnRJZHMpXG4gICAgICA/IHJhdy5hZ2VudElkcy5tYXAoKGFnZW50SWQ6IGFueSkgPT4gU3RyaW5nKGFnZW50SWQpKVxuICAgICAgOiBBcnJheS5pc0FycmF5KHJhdz8uYWdlbnRfaWRzKVxuICAgICAgPyByYXcuYWdlbnRfaWRzLm1hcCgoYWdlbnRJZDogYW55KSA9PiBTdHJpbmcoYWdlbnRJZCkpXG4gICAgICA6IFtdLFxuICAgIG1lc3NhZ2VzLFxuICAgIGNyZWF0ZWRBdDogcmF3Py5jcmVhdGVkQXQgPz8gcmF3Py5jcmVhdGVkX2F0ID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB1cGRhdGVkQXQ6IHJhdz8udXBkYXRlZEF0ID8/IHJhdz8udXBkYXRlZF9hdCA/PyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgc2VjdG9yU3ltYm9sOiByYXc/LnNlY3RvclN5bWJvbCA/PyByYXc/LnNlY3Rvcl9zeW1ib2wgPz8gdW5kZWZpbmVkLFxuICAgIHNlY3Rvck5hbWU6IHJhdz8uc2VjdG9yTmFtZSA/PyByYXc/LnNlY3Rvcl9uYW1lID8/IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplU2VjdG9yKHJhdzogYW55KTogU2VjdG9yIHtcbiAgY29uc3QgYmFzZVByaWNlID0gTnVtYmVyKHJhdz8uY3VycmVudFByaWNlID8/IHJhdz8ucHJpY2UgPz8gMCk7XG5cbiAgY29uc3QgYWdlbnRzID0gQXJyYXkuaXNBcnJheShyYXc/LmFnZW50cylcbiAgICA/IHJhdy5hZ2VudHMubWFwKChhZ2VudDogYW55KSA9PlxuICAgICAgICBub3JtYWxpemVBZ2VudCh7XG4gICAgICAgICAgLi4uYWdlbnQsXG4gICAgICAgICAgc2VjdG9ySWQ6IGFnZW50Py5zZWN0b3JJZCA/PyByYXc/LmlkLFxuICAgICAgICAgIHNlY3RvclN5bWJvbDogYWdlbnQ/LnNlY3RvclN5bWJvbCA/PyByYXc/LnN5bWJvbCA/PyByYXc/LnNlY3RvclN5bWJvbCxcbiAgICAgICAgICBzZWN0b3JOYW1lOiBhZ2VudD8uc2VjdG9yTmFtZSA/PyByYXc/Lm5hbWUgPz8gcmF3Py5zZWN0b3JOYW1lLFxuICAgICAgICB9KSxcbiAgICAgIClcbiAgICA6IFtdO1xuXG4gIGNvbnN0IGNhbmRsZURhdGEgPSBBcnJheS5pc0FycmF5KHJhdz8uY2FuZGxlRGF0YSlcbiAgICA/IHJhdy5jYW5kbGVEYXRhXG4gICAgICAgIC5tYXAoKGVudHJ5OiBhbnksIGluZGV4OiBudW1iZXIpID0+IG5vcm1hbGl6ZUNhbmRsZURhdGEoZW50cnksIGluZGV4LCBiYXNlUHJpY2UpKVxuICAgICAgICAuZmlsdGVyKChwb2ludDogYW55KTogcG9pbnQgaXMgQ2FuZGxlRGF0YSA9PiBCb29sZWFuKHBvaW50KSlcbiAgICA6IFtdO1xuXG4gIGNvbnN0IGRpc2N1c3Npb25zID0gQXJyYXkuaXNBcnJheShyYXc/LmRpc2N1c3Npb25zKVxuICAgID8gcmF3LmRpc2N1c3Npb25zLm1hcCgoZGlzY3Vzc2lvbjogYW55KSA9PlxuICAgICAgICBub3JtYWxpemVEaXNjdXNzaW9uKHtcbiAgICAgICAgICAuLi5kaXNjdXNzaW9uLFxuICAgICAgICAgIHNlY3RvcklkOiBkaXNjdXNzaW9uPy5zZWN0b3JJZCA/PyByYXc/LmlkLFxuICAgICAgICAgIHNlY3RvclN5bWJvbDogZGlzY3Vzc2lvbj8uc2VjdG9yU3ltYm9sID8/IHJhdz8uc3ltYm9sID8/IHJhdz8uc2VjdG9yU3ltYm9sLFxuICAgICAgICAgIHNlY3Rvck5hbWU6IGRpc2N1c3Npb24/LnNlY3Rvck5hbWUgPz8gcmF3Py5uYW1lID8/IHJhdz8uc2VjdG9yTmFtZSxcbiAgICAgICAgfSksXG4gICAgICApXG4gICAgOiBbXTtcblxuICByZXR1cm4ge1xuICAgIGlkOiBTdHJpbmcocmF3Py5pZCA/PyAnJyksXG4gICAgbmFtZTogU3RyaW5nKHJhdz8ubmFtZSA/PyByYXc/LnNlY3Rvck5hbWUgPz8gJ1Vua25vd24gU2VjdG9yJyksXG4gICAgc3ltYm9sOiBTdHJpbmcocmF3Py5zZWN0b3JTeW1ib2wgPz8gcmF3Py5zeW1ib2wgPz8gJ04vQScpLFxuICAgIGN1cnJlbnRQcmljZTogTnVtYmVyLmlzRmluaXRlKGJhc2VQcmljZSkgPyBOdW1iZXIoYmFzZVByaWNlLnRvRml4ZWQoMikpIDogMCxcbiAgICBjaGFuZ2U6IE51bWJlcihyYXc/LmNoYW5nZSA/PyAwKSxcbiAgICBjaGFuZ2VQZXJjZW50OiBOdW1iZXIocmF3Py5jaGFuZ2VQZXJjZW50ID8/IHJhdz8uY2hhbmdlX3BlcmNlbnQgPz8gMCksXG4gICAgdm9sdW1lOiBOdW1iZXIocmF3Py52b2x1bWUgPz8gMCksXG4gICAgYWdlbnRzLFxuICAgIGFjdGl2ZUFnZW50czogTnVtYmVyKHJhdz8uYWN0aXZlQWdlbnRzID8/IHJhdz8uYWN0aXZlX2FnZW50cyA/PyBhZ2VudHMuZmlsdGVyKChhZ2VudDogYW55KSA9PiBhZ2VudC5zdGF0dXMgPT09ICdhY3RpdmUnKS5sZW5ndGgpLFxuICAgIGJ1eUFnZW50czogTnVtYmVyKHJhdz8uYnV5QWdlbnRzID8/IHJhdz8uYnV5X2FnZW50cyA/PyAwKSxcbiAgICBzZWxsQWdlbnRzOiBOdW1iZXIocmF3Py5zZWxsQWdlbnRzID8/IHJhdz8uc2VsbF9hZ2VudHMgPz8gMCksXG4gICAgc3RhdHVzUGVyY2VudDogTnVtYmVyKHJhdz8uc3RhdHVzUGVyY2VudCA/PyByYXc/LnN0YXR1c19wZXJjZW50ID8/IDApLFxuICAgIGNhbmRsZURhdGEsXG4gICAgZGlzY3Vzc2lvbnMsXG4gICAgY3JlYXRlZEF0OiByYXc/LmNyZWF0ZWRBdCA/PyByYXc/LmNyZWF0ZWRfYXQgPz8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHZvbGF0aWxpdHk6IHR5cGVvZiByYXc/LnZvbGF0aWxpdHkgPT09ICdudW1iZXInID8gTnVtYmVyKHJhdy52b2xhdGlsaXR5LnRvRml4ZWQoNCkpIDogdW5kZWZpbmVkLFxuICAgIHJpc2tTY29yZTogdHlwZW9mIHJhdz8ucmlza1Njb3JlID09PSAnbnVtYmVyJyA/IE51bWJlcihyYXcucmlza1Njb3JlKSA6IHVuZGVmaW5lZCxcbiAgICBsYXN0U2ltdWxhdGVkUHJpY2U6IHR5cGVvZiByYXc/Lmxhc3RTaW11bGF0ZWRQcmljZSA9PT0gJ251bWJlcicgPyBOdW1iZXIocmF3Lmxhc3RTaW11bGF0ZWRQcmljZS50b0ZpeGVkKDIpKSA6IG51bGwsXG4gICAgYmFsYW5jZTogdHlwZW9mIHJhdz8uYmFsYW5jZSA9PT0gJ251bWJlcicgPyBOdW1iZXIocmF3LmJhbGFuY2UudG9GaXhlZCgyKSkgOiAwLFxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hTZWN0b3JzKCk6IFByb21pc2U8U2VjdG9yW10+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDxTZWN0b3JbXT4oJy9zZWN0b3JzJyk7XG4gICAgaWYgKCFwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZC5tYXAobm9ybWFsaXplU2VjdG9yKSA6IFtdO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHNlY3RvcnM6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFNlY3RvckJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8U2VjdG9yIHwgbnVsbD4ge1xuICBpZiAoIWlkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDxTZWN0b3I+KGAvc2VjdG9ycy8ke2lkfWApO1xuICByZXR1cm4gcGF5bG9hZCA/IG5vcm1hbGl6ZVNlY3RvcihwYXlsb2FkKSA6IG51bGw7XG59XG5cbi8vIE1hbmFnZXIgQWdlbnQgQVBJIGZ1bmN0aW9uc1xuZXhwb3J0IGludGVyZmFjZSBNYW5hZ2VyU3RhdHVzIHtcbiAgaXNSdW5uaW5nOiBib29sZWFuO1xuICBtYW5hZ2VyQ291bnQ6IG51bWJlcjtcbiAgdGlja0ludGVydmFsTXM6IG51bWJlcjtcbiAgZGVjaXNpb25Mb2dTaXplOiBudW1iZXI7XG4gIG1hbmFnZXJzOiBBcnJheTx7XG4gICAgaWQ6IHN0cmluZztcbiAgICBzZWN0b3JJZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBsYXN0RGVjaXNpb246IHtcbiAgICAgIGFjdGlvbjogc3RyaW5nO1xuICAgICAgY29uZmlkZW5jZTogbnVtYmVyO1xuICAgICAgcmVhc29uOiBzdHJpbmc7XG4gICAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgICB9IHwgbnVsbDtcbiAgICBkZWNpc2lvbkNvdW50OiBudW1iZXI7XG4gIH0+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1hbmFnZXJEZWNpc2lvbiB7XG4gIG1hbmFnZXJJZDogc3RyaW5nO1xuICBzZWN0b3JJZDogc3RyaW5nO1xuICBkZWNpc2lvbjoge1xuICAgIGFjdGlvbjogc3RyaW5nO1xuICAgIGNvbmZpZGVuY2U6IG51bWJlcjtcbiAgICByZWFzb246IHN0cmluZztcbiAgICB2b3RlQnJlYWtkb3duPzogeyBCVVk6IG51bWJlcjsgU0VMTDogbnVtYmVyOyBIT0xEOiBudW1iZXIgfTtcbiAgICBjb25mbGljdFNjb3JlPzogbnVtYmVyO1xuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICB9O1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoTWFuYWdlclN0YXR1cygpOiBQcm9taXNlPE1hbmFnZXJTdGF0dXMgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhOiBNYW5hZ2VyU3RhdHVzIH0+KCcvc2ltdWxhdGlvbi9zdGF0dXMnKTtcbiAgICByZXR1cm4gcGF5bG9hZCAmJiBwYXlsb2FkLnN1Y2Nlc3MgPyBwYXlsb2FkLmRhdGEgOiBudWxsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG1hbmFnZXIgc3RhdHVzOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hNYW5hZ2VyRGVjaXNpb25zKHNlY3RvcklkOiBzdHJpbmcpOiBQcm9taXNlPE1hbmFnZXJEZWNpc2lvbltdPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhOiBNYW5hZ2VyRGVjaXNpb25bXSB9PihgL3NpbXVsYXRpb24vZGVjaXNpb25zLyR7c2VjdG9ySWR9YCk7XG4gICAgcmV0dXJuIHBheWxvYWQgJiYgcGF5bG9hZC5zdWNjZXNzID8gcGF5bG9hZC5kYXRhIDogW107XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbWFuYWdlciBkZWNpc2lvbnM6JywgZXJyb3IpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hBZ2VudHMoKTogUHJvbWlzZTxBZ2VudFtdPiB7XG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0PEFnZW50W10+KCcvYWdlbnRzJyk7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZC5tYXAoYWdlbnQgPT4gbm9ybWFsaXplQWdlbnQoYWdlbnQpKSA6IFtdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hBZ2VudEJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8QWdlbnQgfCBudWxsPiB7XG4gIGlmICghaWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0PEFnZW50PihgL2FnZW50cy8ke2lkfWApO1xuICByZXR1cm4gcGF5bG9hZCA/IG5vcm1hbGl6ZUFnZW50KHBheWxvYWQpIDogbnVsbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoRGlzY3Vzc2lvbnMoKTogUHJvbWlzZTxEaXNjdXNzaW9uW10+IHtcbiAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8RGlzY3Vzc2lvbltdPignL2Rpc2N1c3Npb25zJyk7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZC5tYXAobm9ybWFsaXplRGlzY3Vzc2lvbikgOiBbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoRGlzY3Vzc2lvbkJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8RGlzY3Vzc2lvbiB8IG51bGw+IHtcbiAgaWYgKCFpZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8RGlzY3Vzc2lvbj4oYC9kaXNjdXNzaW9ucy8ke2lkfWApO1xuICByZXR1cm4gcGF5bG9hZCA/IG5vcm1hbGl6ZURpc2N1c3Npb24ocGF5bG9hZCkgOiBudWxsO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRGlzY3Vzc2lvbihcbiAgc2VjdG9ySWQ6IHN0cmluZyxcbiAgdGl0bGU6IHN0cmluZyxcbiAgYWdlbnRJZHM6IHN0cmluZ1tdID0gW11cbik6IFByb21pc2U8RGlzY3Vzc2lvbj4ge1xuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDxEaXNjdXNzaW9uPignL2Rpc2N1c3Npb25zJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBzZWN0b3JJZCxcbiAgICAgIHRpdGxlLFxuICAgICAgYWdlbnRJZHMsXG4gICAgfSksXG4gIH0pO1xuICByZXR1cm4gbm9ybWFsaXplRGlzY3Vzc2lvbihwYXlsb2FkKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZGRNZXNzYWdlUGFyYW1zIHtcbiAgYWdlbnRJZDogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHJvbGU/OiBzdHJpbmc7XG4gIGFnZW50TmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZERpc2N1c3Npb25NZXNzYWdlKFxuICBkaXNjdXNzaW9uSWQ6IHN0cmluZyxcbiAgbWVzc2FnZTogQWRkTWVzc2FnZVBhcmFtc1xuKTogUHJvbWlzZTxEaXNjdXNzaW9uPiB7XG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0PERpc2N1c3Npb24+KGAvZGlzY3Vzc2lvbnMvJHtkaXNjdXNzaW9uSWR9L21lc3NhZ2VgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpLFxuICB9KTtcbiAgcmV0dXJuIG5vcm1hbGl6ZURpc2N1c3Npb24ocGF5bG9hZCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZURpc2N1c3Npb24oZGlzY3Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPERpc2N1c3Npb24+IHtcbiAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8RGlzY3Vzc2lvbj4oYC9kaXNjdXNzaW9ucy8ke2Rpc2N1c3Npb25JZH0vY2xvc2VgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIG5vcm1hbGl6ZURpc2N1c3Npb24ocGF5bG9hZCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcmNoaXZlRGlzY3Vzc2lvbihkaXNjdXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8RGlzY3Vzc2lvbj4ge1xuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDxEaXNjdXNzaW9uPihgL2Rpc2N1c3Npb25zLyR7ZGlzY3Vzc2lvbklkfS9hcmNoaXZlYCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiBub3JtYWxpemVEaXNjdXNzaW9uKHBheWxvYWQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWNjZXB0RGlzY3Vzc2lvbihkaXNjdXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8RGlzY3Vzc2lvbj4ge1xuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDxEaXNjdXNzaW9uPihgL2Rpc2N1c3Npb25zLyR7ZGlzY3Vzc2lvbklkfS9hY2NlcHRgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIG5vcm1hbGl6ZURpc2N1c3Npb24ocGF5bG9hZCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3REaXNjdXNzaW9uKGRpc2N1c3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTxEaXNjdXNzaW9uPiB7XG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0PERpc2N1c3Npb24+KGAvZGlzY3Vzc2lvbnMvJHtkaXNjdXNzaW9uSWR9L3JlamVjdGAsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gbm9ybWFsaXplRGlzY3Vzc2lvbihwYXlsb2FkKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNlY3RvcihzZWN0b3JOYW1lOiBzdHJpbmcsIHNlY3RvclN5bWJvbDogc3RyaW5nKTogUHJvbWlzZTxTZWN0b3I+IHtcbiAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8U2VjdG9yPignL3NlY3RvcnMnLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHNlY3Rvck5hbWUsXG4gICAgICBzZWN0b3JTeW1ib2wsXG4gICAgfSksXG4gIH0pO1xuICByZXR1cm4gbm9ybWFsaXplU2VjdG9yKHBheWxvYWQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQWdlbnQoXG4gIHByb21wdDogc3RyaW5nLFxuICBzZWN0b3JJZDogc3RyaW5nIHwgbnVsbCxcbiAgcm9sZT86IHN0cmluZyB8IG51bGxcbik6IFByb21pc2U8QWdlbnQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDx1bmtub3duPignL2FnZW50cycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcHJvbXB0LFxuICAgICAgICBzZWN0b3JJZCxcbiAgICAgICAgcm9sZTogcm9sZSB8fCBudWxsLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgYm90aCBgeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBBZ2VudCB9YCBhbmQgZGlyZWN0IGBBZ2VudGBcbiAgICBsZXQgcmF3QWdlbnQ6IHVua25vd247XG5cbiAgICBpZiAoXG4gICAgICBwYXlsb2FkICYmXG4gICAgICB0eXBlb2YgcGF5bG9hZCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICdzdWNjZXNzJyBpbiBwYXlsb2FkICYmXG4gICAgICAocGF5bG9hZCBhcyBhbnkpLnN1Y2Nlc3MgPT09IHRydWUgJiZcbiAgICAgICdkYXRhJyBpbiBwYXlsb2FkXG4gICAgKSB7XG4gICAgICByYXdBZ2VudCA9IChwYXlsb2FkIGFzIGFueSkuZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmF3QWdlbnQgPSBwYXlsb2FkO1xuICAgIH1cblxuICAgIC8vIEF0IHRoaXMgcG9pbnQgd2UgZXhwZWN0IGByYXdBZ2VudGAgdG8gYmUgYW4gQWdlbnQtbGlrZSBvYmplY3RcbiAgICBjb25zdCBhZ2VudCA9IG5vcm1hbGl6ZUFnZW50KHJhd0FnZW50IGFzIEFnZW50KTtcbiAgICByZXR1cm4gYWdlbnQ7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAvLyBPcHRpb25hbGx5IGluc3BlY3QgZXJyb3IucmVzcG9uc2UgLyBlcnJvci5tZXNzYWdlIGRlcGVuZGluZyBvbiBgcmVxdWVzdGAgaGVscGVyXG4gICAgY29uc3QgbWVzc2FnZSA9XG4gICAgICAoZXJyb3IgJiYgZXJyb3IubWVzc2FnZSkgfHxcbiAgICAgICdGYWlsZWQgdG8gY3JlYXRlIGFnZW50LiBQbGVhc2UgdHJ5IGFnYWluLic7XG5cbiAgICAvLyBSZS10aHJvdyBhcyBhIHN0YW5kYXJkIEVycm9yIGZvciBjYWxsZXJzIChtb2RhbHMvcGFnZXMpIHRvIGhhbmRsZVxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpbXVsYXRlVGlja1Jlc3VsdCB7XG4gIHNlY3RvcklkOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xuICBuZXdQcmljZTogbnVtYmVyO1xuICByaXNrU2NvcmU6IG51bWJlcjtcbiAgZXhlY3V0ZWRUcmFkZXM6IGFueVtdO1xuICByZWplY3RlZFRyYWRlczogYW55W107XG4gIG9yZGVyYm9vazogYW55O1xuICBsYXN0VHJhZGU6IGFueTtcbiAgcHJpY2VDaGFuZ2U6IG51bWJlcjtcbiAgcHJpY2VDaGFuZ2VQZXJjZW50OiBudW1iZXI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaW11bGF0ZVRpY2soc2VjdG9ySWQ6IHN0cmluZywgZGVjaXNpb25zOiBhbnlbXSA9IFtdKTogUHJvbWlzZTxTaW11bGF0ZVRpY2tSZXN1bHQ+IHtcbiAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhOiBTaW11bGF0ZVRpY2tSZXN1bHQgfSB8IFNpbXVsYXRlVGlja1Jlc3VsdD4oYC9zaW11bGF0aW9uL3RpY2tgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHNlY3RvcklkLFxuICAgICAgZGVjaXNpb25zLFxuICAgIH0pLFxuICB9KTtcbiAgXG4gIC8vIEhhbmRsZSBib3RoIHdyYXBwZWQgYW5kIHVud3JhcHBlZCByZXNwb25zZXNcbiAgaWYgKHBheWxvYWQgJiYgdHlwZW9mIHBheWxvYWQgPT09ICdvYmplY3QnICYmICdzdWNjZXNzJyBpbiBwYXlsb2FkICYmICdkYXRhJyBpbiBwYXlsb2FkKSB7XG4gICAgcmV0dXJuIChwYXlsb2FkIGFzIHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogU2ltdWxhdGVUaWNrUmVzdWx0IH0pLmRhdGE7XG4gIH1cbiAgcmV0dXJuIHBheWxvYWQgYXMgU2ltdWxhdGVUaWNrUmVzdWx0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2VjdG9yUGVyZm9ybWFuY2Uoc2VjdG9ySWQ6IHN0cmluZyk6IFByb21pc2U8U2VjdG9yPiB7XG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0PHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogU2VjdG9yIH0gfCBTZWN0b3I+KGAvc2ltdWxhdGlvbi8ke3NlY3RvcklkfS9wZXJmb3JtYW5jZWAsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0sXG4gIH0pO1xuICBcbiAgLy8gSGFuZGxlIGJvdGggd3JhcHBlZCBhbmQgdW53cmFwcGVkIHJlc3BvbnNlc1xuICBsZXQgc2VjdG9yRGF0YTogYW55ID0gcGF5bG9hZDtcbiAgaWYgKHBheWxvYWQgJiYgdHlwZW9mIHBheWxvYWQgPT09ICdvYmplY3QnICYmICdzdWNjZXNzJyBpbiBwYXlsb2FkICYmICdkYXRhJyBpbiBwYXlsb2FkKSB7XG4gICAgc2VjdG9yRGF0YSA9IChwYXlsb2FkIGFzIHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogU2VjdG9yIH0pLmRhdGE7XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZVNlY3RvcihzZWN0b3JEYXRhKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlcG9zaXRTZWN0b3Ioc2VjdG9ySWQ6IHN0cmluZywgYW1vdW50OiBudW1iZXIpOiBQcm9taXNlPFNlY3Rvcj4ge1xuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE6IFNlY3RvciB9IHwgU2VjdG9yPihgL3NlY3RvcnMvJHtzZWN0b3JJZH0vZGVwb3NpdGAsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhbW91bnQgfSksXG4gIH0pO1xuICBcbiAgLy8gSGFuZGxlIGJvdGggd3JhcHBlZCBhbmQgdW53cmFwcGVkIHJlc3BvbnNlc1xuICBsZXQgc2VjdG9yRGF0YTogYW55ID0gcGF5bG9hZDtcbiAgaWYgKHBheWxvYWQgJiYgdHlwZW9mIHBheWxvYWQgPT09ICdvYmplY3QnICYmICdzdWNjZXNzJyBpbiBwYXlsb2FkICYmICdkYXRhJyBpbiBwYXlsb2FkKSB7XG4gICAgc2VjdG9yRGF0YSA9IChwYXlsb2FkIGFzIHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogU2VjdG9yIH0pLmRhdGE7XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZVNlY3RvcihzZWN0b3JEYXRhKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFnZW50KGFnZW50SWQ6IHN0cmluZywgdXBkYXRlczoge1xuICBuYW1lPzogc3RyaW5nO1xuICByb2xlPzogc3RyaW5nO1xuICBwcm9tcHQ/OiBzdHJpbmc7XG4gIHNlY3RvcklkPzogc3RyaW5nIHwgbnVsbDtcbiAgcGVyc29uYWxpdHk/OiB7XG4gICAgcmlza1RvbGVyYW5jZT86IHN0cmluZztcbiAgICBkZWNpc2lvblN0eWxlPzogc3RyaW5nO1xuICB9O1xuICBwcmVmZXJlbmNlcz86IHtcbiAgICByaXNrV2VpZ2h0PzogbnVtYmVyO1xuICAgIHByb2ZpdFdlaWdodD86IG51bWJlcjtcbiAgICBzcGVlZFdlaWdodD86IG51bWJlcjtcbiAgICBhY2N1cmFjeVdlaWdodD86IG51bWJlcjtcbiAgfTtcbn0pOiBQcm9taXNlPEFnZW50PiB7XG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0PEFnZW50PihgL2FnZW50cy8ke2FnZW50SWR9YCwge1xuICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZXMpLFxuICB9KTtcbiAgcmV0dXJuIG5vcm1hbGl6ZUFnZW50KHBheWxvYWQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQWdlbnQoYWdlbnRJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGF3YWl0IHJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlPzogc3RyaW5nIH0+KGAvYWdlbnRzLyR7YWdlbnRJZH1gLCB7XG4gICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVTZWN0b3Ioc2VjdG9ySWQ6IHN0cmluZywgY29uZmlybWF0aW9uQ29kZTogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U/OiBzdHJpbmc7IHdpdGhkcmF3bkJhbGFuY2U/OiBudW1iZXIgfT4ge1xuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U/OiBzdHJpbmc7IHdpdGhkcmF3bkJhbGFuY2U/OiBudW1iZXIgfT4oYC9zZWN0b3JzLyR7c2VjdG9ySWR9YCwge1xuICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY29uZmlybWF0aW9uQ29kZSB9KSxcbiAgfSk7XG4gIHJldHVybiBwYXlsb2FkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJhbGFuY2UoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PHsgYmFsYW5jZTogbnVtYmVyIH0+KCcvdXNlci9iYWxhbmNlJyk7XG4gICAgXG4gICAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSByZXR1cm4gMCB3aGVuIHNraXBwZWRcbiAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmICdza2lwcGVkJyBpbiByZXN1bHQgJiYgKHJlc3VsdCBhcyBhbnkpLnNraXBwZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBkYXRhID0gcmVzdWx0IGFzIHsgYmFsYW5jZTogbnVtYmVyIH07XG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhLmJhbGFuY2UgPT09ICdudW1iZXInID8gZGF0YS5iYWxhbmNlIDogMDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggdXNlciBiYWxhbmNlOicsIGVycm9yKTtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZGVuY2VUaWNrUmVzdWx0IHtcbiAgYWdlbnRzOiBBcnJheTx7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgY29uZmlkZW5jZTogbnVtYmVyO1xuICB9PjtcbiAgZGlzY3Vzc2lvblJlYWR5OiBib29sZWFuO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcnVuQ29uZmlkZW5jZVRpY2soc2VjdG9ySWQ6IHN0cmluZyk6IFByb21pc2U8Q29uZmlkZW5jZVRpY2tSZXN1bHQgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDxDb25maWRlbmNlVGlja1Jlc3VsdD4oYC9zZWN0b3JzLyR7c2VjdG9ySWR9L2NvbmZpZGVuY2UtdGlja2AsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7fSksXG4gICAgfSk7XG4gICAgXG4gICAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSByZXR1cm4gbnVsbCB3aGVuIHNraXBwZWQgc28gcG9sbGluZyBjYW4gY29udGludWUgc2lsZW50bHlcbiAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmICdza2lwcGVkJyBpbiByZXN1bHQgJiYgKHJlc3VsdCBhcyBhbnkpLnNraXBwZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0IGFzIENvbmZpZGVuY2VUaWNrUmVzdWx0O1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgLy8gUmUtdGhyb3cgZXJyb3JzIChvbmx5IHJlYWwgSFRUUCBlcnJvcnMgc2hvdWxkIHJlYWNoIGhlcmUpXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuIl0sIm5hbWVzIjpbImdldEFwaUJhc2VVcmwiLCJnZXRCYWNrZW5kQmFzZVVybCIsInJhdGVMaW1pdGVkRmV0Y2giLCJpc1JhdGVMaW1pdEVycm9yIiwiZXJyb3IiLCJpc1JhdGVMaW1pdCIsIkVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwiZ2V0QXBpQmFzZSIsImFwaVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwicmVwbGFjZSIsImJhY2tlbmQiLCJORVhUX1BVQkxJQ19NQVhfQkFDS0VORF9VUkwiLCJORVhUX1BVQkxJQ19CQUNLRU5EX1VSTCIsIkFQSV9CQVNFIiwiQkFDS0VORCIsInVud3JhcFBheWxvYWQiLCJwYXlsb2FkIiwiZGF0YSIsInJlcXVlc3QiLCJwYXRoIiwiaW5pdCIsImFwaUJhc2UiLCJmdWxsVXJsIiwiY29uc29sZSIsImxvZyIsIm1ldGhvZCIsInJlc3BvbnNlUmVzdWx0IiwiY2FjaGUiLCJjcmVkZW50aWFscyIsInNraXBwZWQiLCJyZXNwb25zZSIsIm9rIiwiZXJyb3JNZXNzYWdlIiwic3RhdHVzIiwiZXJyb3JEYXRhIiwianNvbiIsInRleHQiLCJuYW1lIiwiYmFja2VuZFVybCIsImF0dGVtcHRlZFVybCIsImVudkFwaVVybCIsImVudkJhY2tlbmRVcmwiLCJub3JtYWxpemVDYW5kbGVEYXRhIiwiZW50cnkiLCJpbmRleCIsImZhbGxiYWNrUHJpY2UiLCJ0aW1lIiwidmFsdWUiLCJ2YWx1ZUNhbmRpZGF0ZSIsImNsb3NlIiwiaG91cnMiLCJtaW51dGVzIiwidG9TdHJpbmciLCJwYWRTdGFydCIsIk51bWJlciIsImlzRmluaXRlIiwidG9GaXhlZCIsIm5vcm1hbGl6ZUFnZW50IiwicmF3IiwicGVyZm9ybWFuY2VWYWx1ZSIsInBlcmZvcm1hbmNlIiwicG5sIiwidHJhZGVzQ291bnQiLCJBcnJheSIsImlzQXJyYXkiLCJ0cmFkZXMiLCJsZW5ndGgiLCJpZCIsIlN0cmluZyIsInJvbGUiLCJzZWN0b3JJZCIsInNlY3Rvcl9pZCIsInNlY3RvclN5bWJvbCIsInNlY3Rvcl9zeW1ib2wiLCJ1bmRlZmluZWQiLCJzZWN0b3JOYW1lIiwic2VjdG9yX25hbWUiLCJwZXJzb25hbGl0eSIsInJpc2tUb2xlcmFuY2UiLCJyaXNrX3RvbGVyYW5jZSIsImRlY2lzaW9uU3R5bGUiLCJkZWNpc2lvbl9zdHlsZSIsInByb21wdCIsInByZWZlcmVuY2VzIiwicmlza1dlaWdodCIsInByb2ZpdFdlaWdodCIsInNwZWVkV2VpZ2h0IiwiYWNjdXJhY3lXZWlnaHQiLCJtb3JhbGUiLCJyZXdhcmRQb2ludHMiLCJjb25maWRlbmNlIiwiY3JlYXRlZEF0IiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInJhd1RyYWRlcyIsInJhd1BlcmZvcm1hbmNlIiwibm9ybWFsaXplRGlzY3Vzc2lvbiIsIm1lc3NhZ2VzIiwibWFwIiwiYWdlbnROYW1lIiwiYWdlbnRfbmFtZSIsImNvbnRlbnQiLCJ0aW1lc3RhbXAiLCJ0aXRsZSIsImFnZW50SWRzIiwiYWdlbnRJZCIsImFnZW50X2lkcyIsInVwZGF0ZWRBdCIsInVwZGF0ZWRfYXQiLCJub3JtYWxpemVTZWN0b3IiLCJiYXNlUHJpY2UiLCJjdXJyZW50UHJpY2UiLCJwcmljZSIsImFnZW50cyIsImFnZW50Iiwic3ltYm9sIiwiY2FuZGxlRGF0YSIsImZpbHRlciIsInBvaW50IiwiQm9vbGVhbiIsImRpc2N1c3Npb25zIiwiZGlzY3Vzc2lvbiIsImNoYW5nZSIsImNoYW5nZVBlcmNlbnQiLCJjaGFuZ2VfcGVyY2VudCIsInZvbHVtZSIsImFjdGl2ZUFnZW50cyIsImFjdGl2ZV9hZ2VudHMiLCJidXlBZ2VudHMiLCJidXlfYWdlbnRzIiwic2VsbEFnZW50cyIsInNlbGxfYWdlbnRzIiwic3RhdHVzUGVyY2VudCIsInN0YXR1c19wZXJjZW50Iiwidm9sYXRpbGl0eSIsInJpc2tTY29yZSIsImxhc3RTaW11bGF0ZWRQcmljZSIsImJhbGFuY2UiLCJmZXRjaFNlY3RvcnMiLCJmZXRjaFNlY3RvckJ5SWQiLCJmZXRjaE1hbmFnZXJTdGF0dXMiLCJzdWNjZXNzIiwiZmV0Y2hNYW5hZ2VyRGVjaXNpb25zIiwiZmV0Y2hBZ2VudHMiLCJmZXRjaEFnZW50QnlJZCIsImZldGNoRGlzY3Vzc2lvbnMiLCJmZXRjaERpc2N1c3Npb25CeUlkIiwiY3JlYXRlRGlzY3Vzc2lvbiIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFkZERpc2N1c3Npb25NZXNzYWdlIiwiZGlzY3Vzc2lvbklkIiwiY2xvc2VEaXNjdXNzaW9uIiwiYXJjaGl2ZURpc2N1c3Npb24iLCJhY2NlcHREaXNjdXNzaW9uIiwicmVqZWN0RGlzY3Vzc2lvbiIsImNyZWF0ZVNlY3RvciIsImNyZWF0ZUFnZW50IiwicmF3QWdlbnQiLCJzaW11bGF0ZVRpY2siLCJkZWNpc2lvbnMiLCJ1cGRhdGVTZWN0b3JQZXJmb3JtYW5jZSIsInNlY3RvckRhdGEiLCJkZXBvc2l0U2VjdG9yIiwiYW1vdW50IiwidXBkYXRlQWdlbnQiLCJ1cGRhdGVzIiwiZGVsZXRlQWdlbnQiLCJkZWxldGVTZWN0b3IiLCJjb25maXJtYXRpb25Db2RlIiwiZ2V0VXNlckJhbGFuY2UiLCJyZXN1bHQiLCJydW5Db25maWRlbmNlVGljayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/api.ts\n"));

/***/ })

});