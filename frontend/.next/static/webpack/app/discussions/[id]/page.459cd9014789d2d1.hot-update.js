"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/discussions/[id]/page",{

/***/ "(app-pages-browser)/./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   acceptDiscussion: function() { return /* binding */ acceptDiscussion; },\n/* harmony export */   addDiscussionMessage: function() { return /* binding */ addDiscussionMessage; },\n/* harmony export */   archiveDiscussion: function() { return /* binding */ archiveDiscussion; },\n/* harmony export */   clearAllDiscussions: function() { return /* binding */ clearAllDiscussions; },\n/* harmony export */   closeDiscussion: function() { return /* binding */ closeDiscussion; },\n/* harmony export */   createAgent: function() { return /* binding */ createAgent; },\n/* harmony export */   createDiscussion: function() { return /* binding */ createDiscussion; },\n/* harmony export */   createSector: function() { return /* binding */ createSector; },\n/* harmony export */   deleteAgent: function() { return /* binding */ deleteAgent; },\n/* harmony export */   deleteDiscussion: function() { return /* binding */ deleteDiscussion; },\n/* harmony export */   deleteSector: function() { return /* binding */ deleteSector; },\n/* harmony export */   depositSector: function() { return /* binding */ depositSector; },\n/* harmony export */   fetchAgentById: function() { return /* binding */ fetchAgentById; },\n/* harmony export */   fetchAgents: function() { return /* binding */ fetchAgents; },\n/* harmony export */   fetchChecklist: function() { return /* binding */ fetchChecklist; },\n/* harmony export */   fetchDiscussionById: function() { return /* binding */ fetchDiscussionById; },\n/* harmony export */   fetchDiscussionMessages: function() { return /* binding */ fetchDiscussionMessages; },\n/* harmony export */   fetchDiscussions: function() { return /* binding */ fetchDiscussions; },\n/* harmony export */   fetchManagerDecisions: function() { return /* binding */ fetchManagerDecisions; },\n/* harmony export */   fetchManagerStatus: function() { return /* binding */ fetchManagerStatus; },\n/* harmony export */   fetchRejectedItems: function() { return /* binding */ fetchRejectedItems; },\n/* harmony export */   fetchSectorById: function() { return /* binding */ fetchSectorById; },\n/* harmony export */   fetchSectors: function() { return /* binding */ fetchSectors; },\n/* harmony export */   getSystemMode: function() { return /* binding */ getSystemMode; },\n/* harmony export */   getUserBalance: function() { return /* binding */ getUserBalance; },\n/* harmony export */   isRateLimitError: function() { return /* binding */ isRateLimitError; },\n/* harmony export */   isSkippedResult: function() { return /* binding */ isSkippedResult; },\n/* harmony export */   rejectDiscussion: function() { return /* binding */ rejectDiscussion; },\n/* harmony export */   runConfidenceTick: function() { return /* binding */ runConfidenceTick; },\n/* harmony export */   sendMessageToManager: function() { return /* binding */ sendMessageToManager; },\n/* harmony export */   setSystemMode: function() { return /* binding */ setSystemMode; },\n/* harmony export */   simulateTick: function() { return /* binding */ simulateTick; },\n/* harmony export */   updateAgent: function() { return /* binding */ updateAgent; },\n/* harmony export */   updateSectorPerformance: function() { return /* binding */ updateSectorPerformance; }\n/* harmony export */ });\n/* harmony import */ var _desktopEnv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./desktopEnv */ \"(app-pages-browser)/./lib/desktopEnv.ts\");\n/* harmony import */ var _rateLimit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rateLimit */ \"(app-pages-browser)/./lib/rateLimit.ts\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n\n\n/**\n * Check if an error is a rate limit error from the server (HTTP 429 or server_rate_limit code)\n * This should ONLY be used for actual server rate limit errors, NOT internal throttle errors\n */ function isRateLimitError(error) {\n    var _error_response;\n    // Only check for actual HTTP 429 status or server_rate_limit code\n    return (error === null || error === void 0 ? void 0 : (_error_response = error.response) === null || _error_response === void 0 ? void 0 : _error_response.status) === 429 || (error === null || error === void 0 ? void 0 : error.code) === \"server_rate_limit\" || (error === null || error === void 0 ? void 0 : error.status) === 429;\n}\n/**\n * Check if a result indicates a skipped request (rate-limited)\n */ function isSkippedResult(result) {\n    return result !== null && typeof result === \"object\" && \"skipped\" in result && result.skipped === true;\n}\n// Use desktop-aware base URL\nconst getApiBase = ()=>{\n    if (true) {\n        // Client-side: use dynamic detection\n        return (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)();\n    }\n    // Server-side: use environment variable or default\n    // Support NEXT_PUBLIC_API_URL (full API URL) or NEXT_PUBLIC_MAX_BACKEND_URL/NEXT_PUBLIC_BACKEND_URL (base URL)\n    const apiUrl = \"http://localhost:8000/api\";\n    if (apiUrl) {\n        return apiUrl.replace(/\\/$/, \"\");\n    }\n    const backend = process.env.NEXT_PUBLIC_MAX_BACKEND_URL || process.env.NEXT_PUBLIC_BACKEND_URL || \"http://localhost:8000\";\n    return \"\".concat(backend.replace(/\\/$/, \"\"), \"/api\");\n};\nconst API_BASE = getApiBase();\nconst BACKEND = (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getBackendBaseUrl)();\nfunction unwrapPayload(payload) {\n    if (payload && typeof payload === \"object\" && \"data\" in payload) {\n        return payload.data;\n    }\n    return payload;\n}\n/**\n * Normalize agent ID: ensure it's a string and trim whitespace\n * @param id - Agent ID (can be string, number, or undefined)\n * @returns Normalized string ID or empty string if invalid\n */ function normalizeAgentId(id) {\n    if (!id) return \"\";\n    const normalized = String(id).trim();\n    return normalized || \"\";\n}\nasync function request(path, init) {\n    let bypassRateLimit = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n    try {\n        // Get API base URL dynamically (handles desktop vs web mode)\n        const apiBase =  true ? (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)() : 0;\n        const fullUrl = \"\".concat(apiBase).concat(path);\n        // Debug logging (always log to help debug issues)\n        if (true) {\n            console.log(\"[API Request] \".concat((init === null || init === void 0 ? void 0 : init.method) || \"GET\", \" \").concat(fullUrl));\n        }\n        const response = await (0,_rateLimit__WEBPACK_IMPORTED_MODULE_1__.rateLimitedFetch)(fullUrl, 500, {\n            cache: \"no-store\",\n            credentials: \"omit\",\n            ...init\n        }, {\n            bypass: bypassRateLimit\n        });\n        if (!response.ok) {\n            let errorMessage = \"Request failed: \".concat(response.status);\n            let errorResponse = null;\n            try {\n                const errorData = await response.json();\n                errorResponse = errorData;\n                if (errorData.error) {\n                    errorMessage = errorData.error;\n                } else if (typeof errorData === \"string\") {\n                    errorMessage = errorData;\n                }\n                // Preserve success: false format if present\n                if (errorData.success === false) {\n                    errorResponse = {\n                        success: false,\n                        error: errorMessage\n                    };\n                }\n            } catch (e) {\n                const text = await response.text();\n                if (text) {\n                    errorMessage = text;\n                }\n            }\n            const error = new Error(errorMessage);\n            if (errorResponse) {\n                error.response = errorResponse;\n            }\n            throw error;\n        }\n        const payload = await response.json();\n        return unwrapPayload(payload);\n    } catch (error) {\n        if (error instanceof Error) {\n            // Check if it's a network error\n            if (error.message.includes(\"fetch\") || error.message.includes(\"Failed to fetch\") || error.message.includes(\"NetworkError\") || error.name === \"TypeError\") {\n                // Always use dynamic detection for error messages\n                const apiBase =  true ? (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)() : 0;\n                const backendUrl = (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getBackendBaseUrl)();\n                const fullUrl = \"\".concat(apiBase).concat(path);\n                // Log more details in development\n                if (true) {\n                    console.error(\"[API Error]\", {\n                        error: error.message,\n                        name: error.name,\n                        attemptedUrl: fullUrl,\n                        backendUrl,\n                        envApiUrl: \"http://localhost:8000/api\",\n                        envBackendUrl: process.env.NEXT_PUBLIC_MAX_BACKEND_URL || process.env.NEXT_PUBLIC_BACKEND_URL\n                    });\n                }\n                throw new Error(\"Cannot connect to backend server. Please ensure the backend is running on \".concat(backendUrl, \". Attempted URL: \").concat(fullUrl));\n            }\n            throw error;\n        }\n        throw new Error(\"An unknown error occurred\");\n    }\n}\nfunction normalizeCandleData(entry, index, fallbackPrice) {\n    if (entry && typeof entry.time === \"string\" && typeof entry.value === \"number\") {\n        return entry;\n    }\n    const valueCandidate = typeof (entry === null || entry === void 0 ? void 0 : entry.value) === \"number\" ? entry.value : typeof (entry === null || entry === void 0 ? void 0 : entry.close) === \"number\" ? entry.close : typeof fallbackPrice === \"number\" ? fallbackPrice : 0;\n    const hours = index * 2 % 24;\n    const minutes = index * 5 % 60;\n    const time = \"\".concat(hours.toString().padStart(2, \"0\"), \":\").concat(minutes.toString().padStart(2, \"0\"));\n    if (!Number.isFinite(valueCandidate)) {\n        return null;\n    }\n    return {\n        time,\n        value: Number(valueCandidate.toFixed(2))\n    };\n}\nfunction normalizeAgent(raw) {\n    var _raw_performance, _raw_personality, _raw_personality1, _raw_personality2, _raw_personality3;\n    const performanceValue = typeof (raw === null || raw === void 0 ? void 0 : raw.performance) === \"number\" ? raw.performance : typeof (raw === null || raw === void 0 ? void 0 : (_raw_performance = raw.performance) === null || _raw_performance === void 0 ? void 0 : _raw_performance.pnl) === \"number\" ? raw.performance.pnl : 0;\n    const tradesCount = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.trades) ? raw.trades.length : typeof (raw === null || raw === void 0 ? void 0 : raw.trades) === \"number\" ? raw.trades : 0;\n    var _raw_name, _raw_role, _raw_status, _raw_sectorId, _ref, _raw_sectorSymbol, _ref1, _raw_sectorName, _ref2, _raw_personality_riskTolerance, _ref3, _raw_personality_decisionStyle, _ref4, _raw_createdAt, _ref5;\n    return {\n        id: normalizeAgentId(raw === null || raw === void 0 ? void 0 : raw.id),\n        name: String((_raw_name = raw === null || raw === void 0 ? void 0 : raw.name) !== null && _raw_name !== void 0 ? _raw_name : \"Unnamed Agent\"),\n        role: String((_raw_role = raw === null || raw === void 0 ? void 0 : raw.role) !== null && _raw_role !== void 0 ? _raw_role : \"agent\"),\n        performance: Number(performanceValue || 0),\n        trades: Number(tradesCount || 0),\n        status: (_raw_status = raw === null || raw === void 0 ? void 0 : raw.status) !== null && _raw_status !== void 0 ? _raw_status : \"idle\",\n        sectorId: (_ref = (_raw_sectorId = raw === null || raw === void 0 ? void 0 : raw.sectorId) !== null && _raw_sectorId !== void 0 ? _raw_sectorId : raw === null || raw === void 0 ? void 0 : raw.sector_id) !== null && _ref !== void 0 ? _ref : null,\n        sectorSymbol: (_ref1 = (_raw_sectorSymbol = raw === null || raw === void 0 ? void 0 : raw.sectorSymbol) !== null && _raw_sectorSymbol !== void 0 ? _raw_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.sector_symbol) !== null && _ref1 !== void 0 ? _ref1 : undefined,\n        sectorName: (_ref2 = (_raw_sectorName = raw === null || raw === void 0 ? void 0 : raw.sectorName) !== null && _raw_sectorName !== void 0 ? _raw_sectorName : raw === null || raw === void 0 ? void 0 : raw.sector_name) !== null && _ref2 !== void 0 ? _ref2 : undefined,\n        personality: {\n            riskTolerance: (_ref3 = (_raw_personality_riskTolerance = raw === null || raw === void 0 ? void 0 : (_raw_personality = raw.personality) === null || _raw_personality === void 0 ? void 0 : _raw_personality.riskTolerance) !== null && _raw_personality_riskTolerance !== void 0 ? _raw_personality_riskTolerance : raw === null || raw === void 0 ? void 0 : (_raw_personality1 = raw.personality) === null || _raw_personality1 === void 0 ? void 0 : _raw_personality1.risk_tolerance) !== null && _ref3 !== void 0 ? _ref3 : \"Unknown\",\n            decisionStyle: (_ref4 = (_raw_personality_decisionStyle = raw === null || raw === void 0 ? void 0 : (_raw_personality2 = raw.personality) === null || _raw_personality2 === void 0 ? void 0 : _raw_personality2.decisionStyle) !== null && _raw_personality_decisionStyle !== void 0 ? _raw_personality_decisionStyle : raw === null || raw === void 0 ? void 0 : (_raw_personality3 = raw.personality) === null || _raw_personality3 === void 0 ? void 0 : _raw_personality3.decision_style) !== null && _ref4 !== void 0 ? _ref4 : \"Unknown\"\n        },\n        prompt: typeof (raw === null || raw === void 0 ? void 0 : raw.prompt) === \"string\" ? raw.prompt : undefined,\n        preferences: (raw === null || raw === void 0 ? void 0 : raw.preferences) ? {\n            riskWeight: typeof raw.preferences.riskWeight === \"number\" ? raw.preferences.riskWeight : undefined,\n            profitWeight: typeof raw.preferences.profitWeight === \"number\" ? raw.preferences.profitWeight : undefined,\n            speedWeight: typeof raw.preferences.speedWeight === \"number\" ? raw.preferences.speedWeight : undefined,\n            accuracyWeight: typeof raw.preferences.accuracyWeight === \"number\" ? raw.preferences.accuracyWeight : undefined\n        } : undefined,\n        morale: typeof (raw === null || raw === void 0 ? void 0 : raw.morale) === \"number\" ? raw.morale : undefined,\n        rewardPoints: typeof (raw === null || raw === void 0 ? void 0 : raw.rewardPoints) === \"number\" ? raw.rewardPoints : undefined,\n        confidence: typeof (raw === null || raw === void 0 ? void 0 : raw.confidence) === \"number\" ? raw.confidence : 0,\n        createdAt: (_ref5 = (_raw_createdAt = raw === null || raw === void 0 ? void 0 : raw.createdAt) !== null && _raw_createdAt !== void 0 ? _raw_createdAt : raw === null || raw === void 0 ? void 0 : raw.created_at) !== null && _ref5 !== void 0 ? _ref5 : new Date().toISOString(),\n        rawTrades: Array.isArray(raw === null || raw === void 0 ? void 0 : raw.trades) ? raw.trades : undefined,\n        rawPerformance: typeof (raw === null || raw === void 0 ? void 0 : raw.performance) === \"object\" ? raw.performance : undefined\n    };\n}\nfunction normalizeDiscussion(raw) {\n    const messages = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.messages) ? raw.messages.map((message, index)=>{\n        var _raw_id, _message_id, _message_agentId, _ref, _message_agentName, _ref1, _message_content, _message_timestamp, _ref2, _message_role;\n        return {\n            id: String((_message_id = message === null || message === void 0 ? void 0 : message.id) !== null && _message_id !== void 0 ? _message_id : \"\".concat((_raw_id = raw === null || raw === void 0 ? void 0 : raw.id) !== null && _raw_id !== void 0 ? _raw_id : \"disc\", \"-msg-\").concat(index)),\n            agentId: (_ref = (_message_agentId = message === null || message === void 0 ? void 0 : message.agentId) !== null && _message_agentId !== void 0 ? _message_agentId : message === null || message === void 0 ? void 0 : message.agent_id) !== null && _ref !== void 0 ? _ref : undefined,\n            agentName: String((_ref1 = (_message_agentName = message === null || message === void 0 ? void 0 : message.agentName) !== null && _message_agentName !== void 0 ? _message_agentName : message === null || message === void 0 ? void 0 : message.agent_name) !== null && _ref1 !== void 0 ? _ref1 : \"Unknown Agent\"),\n            content: String((_message_content = message === null || message === void 0 ? void 0 : message.content) !== null && _message_content !== void 0 ? _message_content : \"\"),\n            timestamp: (_ref2 = (_message_timestamp = message === null || message === void 0 ? void 0 : message.timestamp) !== null && _message_timestamp !== void 0 ? _message_timestamp : message === null || message === void 0 ? void 0 : message.createdAt) !== null && _ref2 !== void 0 ? _ref2 : new Date().toISOString(),\n            role: (_message_role = message === null || message === void 0 ? void 0 : message.role) !== null && _message_role !== void 0 ? _message_role : undefined\n        };\n    }) : [];\n    const checklistDraft = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.checklistDraft) ? raw.checklistDraft.map((item)=>{\n        var _item_id, _item_text, _item_agentId, _ref, _item_agentName, _ref1;\n        return {\n            id: String((_item_id = item === null || item === void 0 ? void 0 : item.id) !== null && _item_id !== void 0 ? _item_id : \"\"),\n            text: String((_item_text = item === null || item === void 0 ? void 0 : item.text) !== null && _item_text !== void 0 ? _item_text : \"\"),\n            agentId: (_ref = (_item_agentId = item === null || item === void 0 ? void 0 : item.agentId) !== null && _item_agentId !== void 0 ? _item_agentId : item === null || item === void 0 ? void 0 : item.agent_id) !== null && _ref !== void 0 ? _ref : undefined,\n            agentName: (_ref1 = (_item_agentName = item === null || item === void 0 ? void 0 : item.agentName) !== null && _item_agentName !== void 0 ? _item_agentName : item === null || item === void 0 ? void 0 : item.agent_name) !== null && _ref1 !== void 0 ? _ref1 : undefined,\n            round: typeof (item === null || item === void 0 ? void 0 : item.round) === \"number\" ? item.round : undefined\n        };\n    }) : undefined;\n    const checklist = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.checklist) ? raw.checklist.map((item)=>{\n        var _item_id, _item_text, _item_agentId, _ref, _item_agentName, _ref1, _item_action, _item_reason, _ref2;\n        return {\n            id: String((_item_id = item === null || item === void 0 ? void 0 : item.id) !== null && _item_id !== void 0 ? _item_id : \"\"),\n            text: String((_item_text = item === null || item === void 0 ? void 0 : item.text) !== null && _item_text !== void 0 ? _item_text : \"\"),\n            agentId: (_ref = (_item_agentId = item === null || item === void 0 ? void 0 : item.agentId) !== null && _item_agentId !== void 0 ? _item_agentId : item === null || item === void 0 ? void 0 : item.agent_id) !== null && _ref !== void 0 ? _ref : undefined,\n            agentName: (_ref1 = (_item_agentName = item === null || item === void 0 ? void 0 : item.agentName) !== null && _item_agentName !== void 0 ? _item_agentName : item === null || item === void 0 ? void 0 : item.agent_name) !== null && _ref1 !== void 0 ? _ref1 : undefined,\n            round: typeof (item === null || item === void 0 ? void 0 : item.round) === \"number\" ? item.round : undefined,\n            action: (_item_action = item === null || item === void 0 ? void 0 : item.action) !== null && _item_action !== void 0 ? _item_action : undefined,\n            amount: typeof (item === null || item === void 0 ? void 0 : item.amount) === \"number\" ? item.amount : undefined,\n            reason: (_ref2 = (_item_reason = item === null || item === void 0 ? void 0 : item.reason) !== null && _item_reason !== void 0 ? _item_reason : item === null || item === void 0 ? void 0 : item.reasoning) !== null && _ref2 !== void 0 ? _ref2 : undefined,\n            confidence: typeof (item === null || item === void 0 ? void 0 : item.confidence) === \"number\" ? item.confidence : undefined\n        };\n    }) : undefined;\n    const finalizedChecklist = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.finalizedChecklist) ? raw.finalizedChecklist.map((item)=>{\n        var _item_id, _item_text, _item_agentId, _ref, _item_agentName, _ref1, _item_action, _item_reason, _ref2;\n        return {\n            id: String((_item_id = item === null || item === void 0 ? void 0 : item.id) !== null && _item_id !== void 0 ? _item_id : \"\"),\n            text: String((_item_text = item === null || item === void 0 ? void 0 : item.text) !== null && _item_text !== void 0 ? _item_text : \"\"),\n            agentId: (_ref = (_item_agentId = item === null || item === void 0 ? void 0 : item.agentId) !== null && _item_agentId !== void 0 ? _item_agentId : item === null || item === void 0 ? void 0 : item.agent_id) !== null && _ref !== void 0 ? _ref : undefined,\n            agentName: (_ref1 = (_item_agentName = item === null || item === void 0 ? void 0 : item.agentName) !== null && _item_agentName !== void 0 ? _item_agentName : item === null || item === void 0 ? void 0 : item.agent_name) !== null && _ref1 !== void 0 ? _ref1 : undefined,\n            round: typeof (item === null || item === void 0 ? void 0 : item.round) === \"number\" ? item.round : undefined,\n            action: (_item_action = item === null || item === void 0 ? void 0 : item.action) !== null && _item_action !== void 0 ? _item_action : undefined,\n            amount: typeof (item === null || item === void 0 ? void 0 : item.amount) === \"number\" ? item.amount : undefined,\n            reason: (_ref2 = (_item_reason = item === null || item === void 0 ? void 0 : item.reason) !== null && _item_reason !== void 0 ? _item_reason : item === null || item === void 0 ? void 0 : item.reasoning) !== null && _ref2 !== void 0 ? _ref2 : undefined,\n            confidence: typeof (item === null || item === void 0 ? void 0 : item.confidence) === \"number\" ? item.confidence : undefined\n        };\n    }) : undefined;\n    var _raw_id, _raw_sectorId, _ref, _raw_title, _raw_status, _raw_createdAt, _ref1, _raw_updatedAt, _ref2, _raw_sectorSymbol, _ref3, _raw_sectorName, _ref4;\n    return {\n        id: String((_raw_id = raw === null || raw === void 0 ? void 0 : raw.id) !== null && _raw_id !== void 0 ? _raw_id : \"\"),\n        sectorId: String((_ref = (_raw_sectorId = raw === null || raw === void 0 ? void 0 : raw.sectorId) !== null && _raw_sectorId !== void 0 ? _raw_sectorId : raw === null || raw === void 0 ? void 0 : raw.sector_id) !== null && _ref !== void 0 ? _ref : \"\"),\n        title: String((_raw_title = raw === null || raw === void 0 ? void 0 : raw.title) !== null && _raw_title !== void 0 ? _raw_title : \"Untitled discussion\"),\n        status: (_raw_status = raw === null || raw === void 0 ? void 0 : raw.status) !== null && _raw_status !== void 0 ? _raw_status : \"in_progress\",\n        agentIds: Array.isArray(raw === null || raw === void 0 ? void 0 : raw.agentIds) ? raw.agentIds.map((agentId)=>String(agentId)) : Array.isArray(raw === null || raw === void 0 ? void 0 : raw.agent_ids) ? raw.agent_ids.map((agentId)=>String(agentId)) : [],\n        messages,\n        messagesCount: typeof (raw === null || raw === void 0 ? void 0 : raw.messagesCount) === \"number\" ? raw.messagesCount : typeof (raw === null || raw === void 0 ? void 0 : raw.messageCount) === \"number\" ? raw.messageCount : undefined,\n        createdAt: (_ref1 = (_raw_createdAt = raw === null || raw === void 0 ? void 0 : raw.createdAt) !== null && _raw_createdAt !== void 0 ? _raw_createdAt : raw === null || raw === void 0 ? void 0 : raw.created_at) !== null && _ref1 !== void 0 ? _ref1 : new Date().toISOString(),\n        updatedAt: (_ref2 = (_raw_updatedAt = raw === null || raw === void 0 ? void 0 : raw.updatedAt) !== null && _raw_updatedAt !== void 0 ? _raw_updatedAt : raw === null || raw === void 0 ? void 0 : raw.updated_at) !== null && _ref2 !== void 0 ? _ref2 : new Date().toISOString(),\n        sectorSymbol: (_ref3 = (_raw_sectorSymbol = raw === null || raw === void 0 ? void 0 : raw.sectorSymbol) !== null && _raw_sectorSymbol !== void 0 ? _raw_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.sector_symbol) !== null && _ref3 !== void 0 ? _ref3 : undefined,\n        sectorName: (_ref4 = (_raw_sectorName = raw === null || raw === void 0 ? void 0 : raw.sectorName) !== null && _raw_sectorName !== void 0 ? _raw_sectorName : raw === null || raw === void 0 ? void 0 : raw.sector_name) !== null && _ref4 !== void 0 ? _ref4 : undefined,\n        round: typeof (raw === null || raw === void 0 ? void 0 : raw.round) === \"number\" ? raw.round : undefined,\n        checklistDraft: checklistDraft && checklistDraft.length > 0 ? checklistDraft : undefined,\n        checklist: checklist && checklist.length > 0 ? checklist : undefined,\n        finalizedChecklist: finalizedChecklist && finalizedChecklist.length > 0 ? finalizedChecklist : undefined\n    };\n}\nfunction normalizeSector(raw) {\n    var _raw_currentPrice, _ref;\n    const basePrice = Number((_ref = (_raw_currentPrice = raw === null || raw === void 0 ? void 0 : raw.currentPrice) !== null && _raw_currentPrice !== void 0 ? _raw_currentPrice : raw === null || raw === void 0 ? void 0 : raw.price) !== null && _ref !== void 0 ? _ref : 0);\n    const agents = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.agents) ? raw.agents.map((agent)=>{\n        var _agent_sectorId, _agent_sectorSymbol, _ref, _agent_sectorName, _ref1;\n        return normalizeAgent({\n            ...agent,\n            sectorId: (_agent_sectorId = agent === null || agent === void 0 ? void 0 : agent.sectorId) !== null && _agent_sectorId !== void 0 ? _agent_sectorId : raw === null || raw === void 0 ? void 0 : raw.id,\n            sectorSymbol: (_ref = (_agent_sectorSymbol = agent === null || agent === void 0 ? void 0 : agent.sectorSymbol) !== null && _agent_sectorSymbol !== void 0 ? _agent_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.symbol) !== null && _ref !== void 0 ? _ref : raw === null || raw === void 0 ? void 0 : raw.sectorSymbol,\n            sectorName: (_ref1 = (_agent_sectorName = agent === null || agent === void 0 ? void 0 : agent.sectorName) !== null && _agent_sectorName !== void 0 ? _agent_sectorName : raw === null || raw === void 0 ? void 0 : raw.name) !== null && _ref1 !== void 0 ? _ref1 : raw === null || raw === void 0 ? void 0 : raw.sectorName\n        });\n    }) : [];\n    const candleData = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.candleData) ? raw.candleData.map((entry, index)=>normalizeCandleData(entry, index, basePrice)).filter((point)=>Boolean(point)) : [];\n    const discussions = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.discussions) ? raw.discussions.map((discussion)=>{\n        var _discussion_sectorId, _discussion_sectorSymbol, _ref, _discussion_sectorName, _ref1;\n        return normalizeDiscussion({\n            ...discussion,\n            sectorId: (_discussion_sectorId = discussion === null || discussion === void 0 ? void 0 : discussion.sectorId) !== null && _discussion_sectorId !== void 0 ? _discussion_sectorId : raw === null || raw === void 0 ? void 0 : raw.id,\n            sectorSymbol: (_ref = (_discussion_sectorSymbol = discussion === null || discussion === void 0 ? void 0 : discussion.sectorSymbol) !== null && _discussion_sectorSymbol !== void 0 ? _discussion_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.symbol) !== null && _ref !== void 0 ? _ref : raw === null || raw === void 0 ? void 0 : raw.sectorSymbol,\n            sectorName: (_ref1 = (_discussion_sectorName = discussion === null || discussion === void 0 ? void 0 : discussion.sectorName) !== null && _discussion_sectorName !== void 0 ? _discussion_sectorName : raw === null || raw === void 0 ? void 0 : raw.name) !== null && _ref1 !== void 0 ? _ref1 : raw === null || raw === void 0 ? void 0 : raw.sectorName\n        });\n    }) : [];\n    // Calculate activeAgents if not provided\n    const activeAgents = typeof (raw === null || raw === void 0 ? void 0 : raw.activeAgents) === \"number\" ? raw.activeAgents : typeof (raw === null || raw === void 0 ? void 0 : raw.active_agents) === \"number\" ? raw.active_agents : agents.filter((agent)=>agent.status === \"active\").length;\n    var _raw_id, _raw_name, _ref1, _raw_symbol, _ref2, _raw_sectorName, _ref3, _raw_sectorSymbol, _ref4, _raw_change, _raw_changePercent, _ref5, _raw_volume, _raw_statusPercent, _ref6, _raw_createdAt, _ref7;\n    return {\n        id: String((_raw_id = raw === null || raw === void 0 ? void 0 : raw.id) !== null && _raw_id !== void 0 ? _raw_id : \"\"),\n        // Primary standardized fields (prefer name/symbol, fallback to sectorName/sectorSymbol)\n        name: String((_ref1 = (_raw_name = raw === null || raw === void 0 ? void 0 : raw.name) !== null && _raw_name !== void 0 ? _raw_name : raw === null || raw === void 0 ? void 0 : raw.sectorName) !== null && _ref1 !== void 0 ? _ref1 : \"Unknown Sector\"),\n        symbol: String((_ref2 = (_raw_symbol = raw === null || raw === void 0 ? void 0 : raw.symbol) !== null && _raw_symbol !== void 0 ? _raw_symbol : raw === null || raw === void 0 ? void 0 : raw.sectorSymbol) !== null && _ref2 !== void 0 ? _ref2 : \"N/A\"),\n        // Backward compatibility fields (include if present)\n        sectorName: (_ref3 = (_raw_sectorName = raw === null || raw === void 0 ? void 0 : raw.sectorName) !== null && _raw_sectorName !== void 0 ? _raw_sectorName : raw === null || raw === void 0 ? void 0 : raw.name) !== null && _ref3 !== void 0 ? _ref3 : undefined,\n        sectorSymbol: (_ref4 = (_raw_sectorSymbol = raw === null || raw === void 0 ? void 0 : raw.sectorSymbol) !== null && _raw_sectorSymbol !== void 0 ? _raw_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.symbol) !== null && _ref4 !== void 0 ? _ref4 : undefined,\n        // Core market data fields\n        currentPrice: Number.isFinite(basePrice) ? Number(basePrice.toFixed(2)) : 0,\n        change: Number((_raw_change = raw === null || raw === void 0 ? void 0 : raw.change) !== null && _raw_change !== void 0 ? _raw_change : 0),\n        changePercent: Number((_ref5 = (_raw_changePercent = raw === null || raw === void 0 ? void 0 : raw.changePercent) !== null && _raw_changePercent !== void 0 ? _raw_changePercent : raw === null || raw === void 0 ? void 0 : raw.change_percent) !== null && _ref5 !== void 0 ? _ref5 : 0),\n        volume: Number((_raw_volume = raw === null || raw === void 0 ? void 0 : raw.volume) !== null && _raw_volume !== void 0 ? _raw_volume : 0),\n        // Risk and volatility\n        volatility: typeof (raw === null || raw === void 0 ? void 0 : raw.volatility) === \"number\" ? Number(raw.volatility.toFixed(4)) : undefined,\n        riskScore: typeof (raw === null || raw === void 0 ? void 0 : raw.riskScore) === \"number\" ? Number(raw.riskScore) : undefined,\n        // Agent and activity fields\n        agents,\n        activeAgents: Number(activeAgents),\n        buyAgents: typeof (raw === null || raw === void 0 ? void 0 : raw.buyAgents) === \"number\" ? Number(raw.buyAgents) : typeof (raw === null || raw === void 0 ? void 0 : raw.buy_agents) === \"number\" ? Number(raw.buy_agents) : undefined,\n        sellAgents: typeof (raw === null || raw === void 0 ? void 0 : raw.sellAgents) === \"number\" ? Number(raw.sellAgents) : typeof (raw === null || raw === void 0 ? void 0 : raw.sell_agents) === \"number\" ? Number(raw.sell_agents) : undefined,\n        statusPercent: Number((_ref6 = (_raw_statusPercent = raw === null || raw === void 0 ? void 0 : raw.statusPercent) !== null && _raw_statusPercent !== void 0 ? _raw_statusPercent : raw === null || raw === void 0 ? void 0 : raw.status_percent) !== null && _ref6 !== void 0 ? _ref6 : 0),\n        // Performance and balance\n        performance: (raw === null || raw === void 0 ? void 0 : raw.performance) && typeof raw.performance === \"object\" ? raw.performance : undefined,\n        balance: typeof (raw === null || raw === void 0 ? void 0 : raw.balance) === \"number\" ? Number(raw.balance.toFixed(2)) : undefined,\n        // Additional fields\n        lastSimulatedPrice: typeof (raw === null || raw === void 0 ? void 0 : raw.lastSimulatedPrice) === \"number\" ? Number(raw.lastSimulatedPrice.toFixed(2)) : (raw === null || raw === void 0 ? void 0 : raw.lastSimulatedPrice) === null ? null : undefined,\n        discussions,\n        candleData,\n        description: typeof (raw === null || raw === void 0 ? void 0 : raw.description) === \"string\" ? raw.description : undefined,\n        createdAt: (_ref7 = (_raw_createdAt = raw === null || raw === void 0 ? void 0 : raw.createdAt) !== null && _raw_createdAt !== void 0 ? _raw_createdAt : raw === null || raw === void 0 ? void 0 : raw.created_at) !== null && _ref7 !== void 0 ? _ref7 : new Date().toISOString()\n    };\n}\nasync function fetchSectors() {\n    try {\n        const result = await request(\"/sectors\");\n        // Handle rate limiting - return empty array when skipped\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            return [];\n        }\n        const payload = result;\n        if (!payload) {\n            return [];\n        }\n        return Array.isArray(payload) ? payload.map(normalizeSector) : [];\n    } catch (error) {\n        console.error(\"Error fetching sectors:\", error);\n        throw error;\n    }\n}\nasync function fetchSectorById(id) {\n    if (!id) {\n        return null;\n    }\n    // Normalize ID to lowercase for consistent case-sensitivity\n    const normalizedId = String(id).trim().toLowerCase();\n    const result = await request(\"/sectors/\".concat(normalizedId));\n    // Handle rate limiting - return null when skipped\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        return null;\n    }\n    const payload = result;\n    return payload ? normalizeSector(payload) : null;\n}\nasync function fetchManagerStatus() {\n    try {\n        const result = await request(\"/simulation/status\");\n        // Handle rate limiting - return null when skipped\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            return null;\n        }\n        const payload = result;\n        return payload && payload.success ? payload.data : null;\n    } catch (error) {\n        console.error(\"Error fetching manager status:\", error);\n        return null;\n    }\n}\nasync function fetchManagerDecisions(sectorId) {\n    try {\n        const result = await request(\"/simulation/decisions/\".concat(sectorId));\n        // Handle rate limiting - return empty array when skipped\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            return [];\n        }\n        const payload = result;\n        return payload && payload.success ? payload.data : [];\n    } catch (error) {\n        console.error(\"Error fetching manager decisions:\", error);\n        return [];\n    }\n}\nasync function fetchAgents() {\n    const result = await request(\"/agents\");\n    // Handle rate limiting - return empty array when skipped\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        return [];\n    }\n    const payload = result;\n    return Array.isArray(payload) ? payload.map((agent)=>normalizeAgent(agent)) : [];\n}\nasync function fetchAgentById(id) {\n    // Normalize and validate ID before making request\n    const normalizedId = normalizeAgentId(id);\n    if (!normalizedId) {\n        console.warn(\"[fetchAgentById] Invalid or empty agent ID provided\");\n        return null;\n    }\n    const result = await request(\"/agents/\".concat(encodeURIComponent(normalizedId)));\n    // Handle rate limiting - return null when skipped\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        return null;\n    }\n    const payload = result;\n    return payload ? normalizeAgent(payload) : null;\n}\nasync function fetchDiscussions() {\n    let page = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1, pageSize = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 20, sectorId = arguments.length > 2 ? arguments[2] : void 0, status = arguments.length > 3 ? arguments[3] : void 0;\n    const params = new URLSearchParams({\n        page: page.toString(),\n        pageSize: pageSize.toString()\n    });\n    if (sectorId) {\n        params.append(\"sectorId\", sectorId);\n    }\n    if (status && status !== \"all\") {\n        params.append(\"status\", status);\n    }\n    const result = await request(\"/discussions?\".concat(params.toString()));\n    // Handle rate limiting - return empty result when skipped\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        return {\n            discussions: [],\n            pagination: {\n                page,\n                pageSize,\n                total: 0,\n                totalPages: 0\n            }\n        };\n    }\n    const payload = result;\n    return payload || {\n        discussions: [],\n        pagination: {\n            page,\n            pageSize,\n            total: 0,\n            totalPages: 0\n        }\n    };\n}\nasync function fetchDiscussionMessages(discussionId) {\n    if (!discussionId) {\n        return [];\n    }\n    const result = await request(\"/discussions/\".concat(discussionId, \"/messages\"));\n    // Handle rate limiting - return empty array when skipped\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        return [];\n    }\n    const payload = result;\n    if (payload && Array.isArray(payload.messages)) {\n        return payload.messages.map((message, index)=>{\n            var _message_id, _message_agentId, _ref, _message_agentName, _ref1, _message_content, _message_timestamp, _ref2, _message_role;\n            return {\n                id: String((_message_id = message === null || message === void 0 ? void 0 : message.id) !== null && _message_id !== void 0 ? _message_id : \"\".concat(discussionId, \"-msg-\").concat(index)),\n                agentId: (_ref = (_message_agentId = message === null || message === void 0 ? void 0 : message.agentId) !== null && _message_agentId !== void 0 ? _message_agentId : message === null || message === void 0 ? void 0 : message.agent_id) !== null && _ref !== void 0 ? _ref : undefined,\n                agentName: String((_ref1 = (_message_agentName = message === null || message === void 0 ? void 0 : message.agentName) !== null && _message_agentName !== void 0 ? _message_agentName : message === null || message === void 0 ? void 0 : message.agent_name) !== null && _ref1 !== void 0 ? _ref1 : \"Unknown Agent\"),\n                content: String((_message_content = message === null || message === void 0 ? void 0 : message.content) !== null && _message_content !== void 0 ? _message_content : \"\"),\n                timestamp: (_ref2 = (_message_timestamp = message === null || message === void 0 ? void 0 : message.timestamp) !== null && _message_timestamp !== void 0 ? _message_timestamp : message === null || message === void 0 ? void 0 : message.createdAt) !== null && _ref2 !== void 0 ? _ref2 : new Date().toISOString(),\n                role: (_message_role = message === null || message === void 0 ? void 0 : message.role) !== null && _message_role !== void 0 ? _message_role : undefined\n            };\n        });\n    }\n    return [];\n}\nasync function fetchDiscussionById(id) {\n    if (!id) {\n        return null;\n    }\n    const result = await request(\"/discussions/\".concat(id));\n    // Handle rate limiting - return null when skipped\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        return null;\n    }\n    // Handle rate limiting - return null when skipped\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        return null;\n    }\n    const payload = result;\n    return payload ? normalizeDiscussion(payload) : null;\n}\nasync function fetchRejectedItems() {\n    const result = await request(\"/discussions/rejected-items\");\n    // Handle rate limiting - return empty array when skipped\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        return {\n            rejected: []\n        };\n    }\n    const payload = result;\n    return payload || {\n        rejected: []\n    };\n}\nasync function fetchChecklist(discussionId) {\n    if (!discussionId) {\n        return null;\n    }\n    const result = await request(\"/discussions/\".concat(discussionId, \"/checklist\"));\n    // Handle rate limiting - return null when skipped\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        return null;\n    }\n    return result;\n}\nasync function createDiscussion(sectorId, title) {\n    let agentIds = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [];\n    const result = await request(\"/discussions\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            sectorId,\n            title,\n            agentIds\n        })\n    });\n    // Handle rate limiting - throw generic error for mutations\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        throw new Error(\"Request was skipped. Please try again.\");\n    }\n    const payload = result;\n    return normalizeDiscussion(payload);\n}\nasync function addDiscussionMessage(discussionId, message) {\n    const result = await request(\"/discussions/\".concat(discussionId, \"/message\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(message)\n    });\n    // Handle rate limiting - throw generic error for mutations\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        throw new Error(\"Request was skipped. Please try again.\");\n    }\n    const payload = result;\n    return normalizeDiscussion(payload);\n}\nasync function closeDiscussion(discussionId) {\n    const result = await request(\"/discussions/\".concat(discussionId, \"/close\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    // Handle rate limiting - throw generic error for mutations\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        throw new Error(\"Request was skipped. Please try again.\");\n    }\n    const payload = result;\n    return normalizeDiscussion(payload);\n}\nasync function deleteDiscussion(discussionId) {\n    const result = await request(\"/discussions/\".concat(discussionId), {\n        method: \"DELETE\"\n    });\n    // Handle rate limiting - throw generic error for mutations\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        throw new Error(\"Request was skipped. Please try again.\");\n    }\n    if (result && typeof result === \"object\" && \"success\" in result && !result.success) {\n        throw new Error(result.error || \"Failed to delete discussion\");\n    }\n}\nasync function archiveDiscussion(discussionId) {\n    const result = await request(\"/discussions/\".concat(discussionId, \"/archive\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    // Handle rate limiting - throw generic error for mutations\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        throw new Error(\"Request was skipped. Please try again.\");\n    }\n    const payload = result;\n    return normalizeDiscussion(payload);\n}\nasync function acceptDiscussion(discussionId) {\n    const result = await request(\"/discussions/\".concat(discussionId, \"/accept\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    // Handle rate limiting - throw generic error for mutations\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        throw new Error(\"Request was skipped. Please try again.\");\n    }\n    const payload = result;\n    return normalizeDiscussion(payload);\n}\nasync function rejectDiscussion(discussionId) {\n    const result = await request(\"/discussions/\".concat(discussionId, \"/reject\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    // Handle rate limiting - throw generic error for mutations\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        throw new Error(\"Request was skipped. Please try again.\");\n    }\n    const payload = result;\n    return normalizeDiscussion(payload);\n}\nasync function createSector(sectorName, sectorSymbol) {\n    // Bypass rate limiting for user-triggered actions - always execute immediately\n    const result = await request(\"/sectors\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            sectorName,\n            sectorSymbol\n        })\n    }, true); // bypassRateLimit = true\n    // Handle rate limiting - throw generic error for mutations\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        throw new Error(\"Request was skipped. Please try again.\");\n    }\n    const payload = result;\n    return normalizeSector(payload);\n}\nasync function createAgent(prompt, sectorId, role) {\n    try {\n        const result = await request(\"/agents\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                prompt,\n                sectorId,\n                role: role || null\n            })\n        });\n        // Handle rate limiting - throw generic error for mutations\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            throw new Error(\"Request was skipped. Please try again.\");\n        }\n        const payload = result;\n        // Handle both `{ success: true, data: Agent }` and direct `Agent`\n        let rawAgent;\n        if (payload && typeof payload === \"object\" && \"success\" in payload && payload.success === true && \"data\" in payload) {\n            rawAgent = payload.data;\n        } else {\n            rawAgent = payload;\n        }\n        // At this point we expect `rawAgent` to be an Agent-like object\n        const agent = normalizeAgent(rawAgent);\n        return agent;\n    } catch (error) {\n        // Preserve error structure (including error.response) for proper error handling in modals\n        // Extract error message from various possible formats\n        const message = error && error.message || \"Failed to create agent. Please try again.\";\n        // Re-throw with preserved structure\n        const newError = new Error(message);\n        if (error === null || error === void 0 ? void 0 : error.response) {\n            newError.response = error.response;\n        }\n        throw newError;\n    }\n}\nasync function simulateTick(sectorId) {\n    let decisions = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n    const result = await request(\"/simulation/tick\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            sectorId,\n            decisions\n        })\n    });\n    // Handle rate limiting - throw generic error for mutations\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        throw new Error(\"Request was skipped. Please try again.\");\n    }\n    const payload = result;\n    // Handle both wrapped and unwrapped responses\n    if (payload && typeof payload === \"object\" && \"success\" in payload && \"data\" in payload) {\n        return payload.data;\n    }\n    return payload;\n}\nasync function updateSectorPerformance(sectorId) {\n    const payload = await request(\"/simulation/\".concat(sectorId, \"/performance\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    // Handle both wrapped and unwrapped responses\n    let sectorData = payload;\n    if (payload && typeof payload === \"object\" && \"success\" in payload && \"data\" in payload) {\n        sectorData = payload.data;\n    }\n    return normalizeSector(sectorData);\n}\nasync function depositSector(sectorId, amount) {\n    const payload = await request(\"/sectors/\".concat(sectorId, \"/deposit\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            amount\n        })\n    });\n    // Handle both wrapped and unwrapped responses\n    let sectorData = payload;\n    if (payload && typeof payload === \"object\" && \"success\" in payload && \"data\" in payload) {\n        sectorData = payload.data;\n    }\n    return normalizeSector(sectorData);\n}\nasync function updateAgent(agentId, updates) {\n    // Normalize and validate ID before making request\n    const normalizedId = normalizeAgentId(agentId);\n    if (!normalizedId) {\n        throw new Error(\"Invalid agent ID provided\");\n    }\n    // Bypass rate limiting for user-triggered actions - always execute immediately\n    const result = await request(\"/agents/\".concat(encodeURIComponent(normalizedId)), {\n        method: \"PUT\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(updates)\n    }, true); // bypassRateLimit = true\n    // Handle rate limiting - throw generic error for mutations\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        throw new Error(\"Request was skipped. Please try again.\");\n    }\n    const payload = result;\n    return normalizeAgent(payload);\n}\nasync function deleteAgent(agentId) {\n    // Normalize and validate ID before making request\n    const normalizedId = normalizeAgentId(agentId);\n    if (!normalizedId) {\n        throw new Error(\"Invalid agent ID provided\");\n    }\n    const result = await request(\"/agents/\".concat(encodeURIComponent(normalizedId)), {\n        method: \"DELETE\"\n    });\n    // Handle rate limiting - throw generic error for mutations\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        throw new Error(\"Request was skipped. Please try again.\");\n    }\n}\nasync function deleteSector(sectorId, confirmationCode) {\n    const result = await request(\"/sectors/\".concat(sectorId), {\n        method: \"DELETE\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            confirmationCode\n        })\n    });\n    // Handle rate limiting - throw generic error for mutations\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        throw new Error(\"Request was skipped. Please try again.\");\n    }\n    const payload = result;\n    return payload;\n}\nasync function getUserBalance() {\n    try {\n        const result = await request(\"/user/balance\");\n        // Handle rate limiting - return 0 when skipped\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            return 0;\n        }\n        const data = result;\n        return typeof data.balance === \"number\" ? data.balance : 0;\n    } catch (error) {\n        console.error(\"Failed to fetch user balance:\", error);\n        return 0;\n    }\n}\nasync function runConfidenceTick(sectorId) {\n    try {\n        const result = await request(\"/sectors/\".concat(sectorId, \"/confidence-tick\"), {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({})\n        });\n        // Handle rate limiting - return null when skipped so polling can continue silently\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            return null;\n        }\n        return result;\n    } catch (error) {\n        // Re-throw errors (only real HTTP errors should reach here)\n        throw error;\n    }\n}\nasync function sendMessageToManager(sectorId, message) {\n    try {\n        const result = await request(\"/sectors/\".concat(sectorId, \"/message-manager\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                message\n            })\n        });\n        // Handle rate limiting\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            throw new Error(\"Request was rate-limited. Please try again later.\");\n        }\n        return result;\n    } catch (error) {\n        throw error;\n    }\n}\n/**\n * Get current system mode\n */ async function getSystemMode() {\n    try {\n        const result = await request(\"/system/mode\", {\n            method: \"GET\"\n        });\n        // Handle rate limiting\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            throw new Error(\"Request was rate-limited. Please try again later.\");\n        }\n        const payload = result;\n        return payload.mode;\n    } catch (error) {\n        throw error;\n    }\n}\n/**\n * Set system mode\n */ async function setSystemMode(mode) {\n    try {\n        const result = await request(\"/system/mode\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                mode\n            })\n        });\n        // Handle rate limiting\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            throw new Error(\"Request was rate-limited. Please try again later.\");\n        }\n        const payload = result;\n        return payload.mode;\n    } catch (error) {\n        throw error;\n    }\n}\n/**\n * Clear all discussions (development only)\n * Note: Uses backend base URL directly since debug routes are at /debug (not /api/debug)\n */ async function clearAllDiscussions() {\n    try {\n        // Use backend base URL directly since debug routes are not under /api\n        const backendBase =  true ? (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getBackendBaseUrl)() : 0;\n        const fullUrl = \"\".concat(backendBase, \"/debug/discussions/clear\");\n        const response = await (0,_rateLimit__WEBPACK_IMPORTED_MODULE_1__.rateLimitedFetch)(fullUrl, 500, {\n            method: \"DELETE\",\n            cache: \"no-store\",\n            credentials: \"omit\"\n        }, {\n            bypass: true\n        } // Bypass rate limiting for user-triggered actions\n        );\n        if (!response.ok) {\n            let errorMessage = \"Request failed: \".concat(response.status);\n            try {\n                const errorData = await response.json();\n                if (errorData.error) {\n                    errorMessage = errorData.error;\n                }\n            } catch (e) {\n                const text = await response.text();\n                if (text) {\n                    errorMessage = text;\n                }\n            }\n            throw new Error(errorMessage);\n        }\n        const payload = await response.json();\n        return payload;\n    } catch (error) {\n        throw error;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YnBhY2s6Ly9fTl9FLy4vbGliL2FwaS50cz82OGExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFnZW50LCBBcGlQYXlsb2FkLCBEaXNjdXNzaW9uLCBTZWN0b3IsIENhbmRsZURhdGEgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGdldEFwaUJhc2VVcmwsIGdldEJhY2tlbmRCYXNlVXJsIH0gZnJvbSAnLi9kZXNrdG9wRW52JztcbmltcG9ydCB7IHJhdGVMaW1pdGVkRmV0Y2ggfSBmcm9tICcuL3JhdGVMaW1pdCc7XG5cbi8qKlxuICogQ2hlY2sgaWYgYW4gZXJyb3IgaXMgYSByYXRlIGxpbWl0IGVycm9yIGZyb20gdGhlIHNlcnZlciAoSFRUUCA0Mjkgb3Igc2VydmVyX3JhdGVfbGltaXQgY29kZSlcbiAqIFRoaXMgc2hvdWxkIE9OTFkgYmUgdXNlZCBmb3IgYWN0dWFsIHNlcnZlciByYXRlIGxpbWl0IGVycm9ycywgTk9UIGludGVybmFsIHRocm90dGxlIGVycm9yc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSYXRlTGltaXRFcnJvcihlcnJvcjogYW55KTogYm9vbGVhbiB7XG4gIC8vIE9ubHkgY2hlY2sgZm9yIGFjdHVhbCBIVFRQIDQyOSBzdGF0dXMgb3Igc2VydmVyX3JhdGVfbGltaXQgY29kZVxuICByZXR1cm4gKFxuICAgIGVycm9yPy5yZXNwb25zZT8uc3RhdHVzID09PSA0MjkgfHxcbiAgICBlcnJvcj8uY29kZSA9PT0gJ3NlcnZlcl9yYXRlX2xpbWl0JyB8fFxuICAgIGVycm9yPy5zdGF0dXMgPT09IDQyOVxuICApO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgcmVzdWx0IGluZGljYXRlcyBhIHNraXBwZWQgcmVxdWVzdCAocmF0ZS1saW1pdGVkKVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTa2lwcGVkUmVzdWx0PFQ+KHJlc3VsdDogVCB8IHsgc2tpcHBlZDogdHJ1ZSB9KTogcmVzdWx0IGlzIHsgc2tpcHBlZDogdHJ1ZSB9IHtcbiAgcmV0dXJuIHJlc3VsdCAhPT0gbnVsbCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlO1xufVxuXG4vLyBVc2UgZGVza3RvcC1hd2FyZSBiYXNlIFVSTFxuY29uc3QgZ2V0QXBpQmFzZSA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gQ2xpZW50LXNpZGU6IHVzZSBkeW5hbWljIGRldGVjdGlvblxuICAgIHJldHVybiBnZXRBcGlCYXNlVXJsKCk7XG4gIH1cbiAgLy8gU2VydmVyLXNpZGU6IHVzZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBvciBkZWZhdWx0XG4gIC8vIFN1cHBvcnQgTkVYVF9QVUJMSUNfQVBJX1VSTCAoZnVsbCBBUEkgVVJMKSBvciBORVhUX1BVQkxJQ19NQVhfQkFDS0VORF9VUkwvTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwgKGJhc2UgVVJMKVxuICBjb25zdCBhcGlVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMO1xuICBpZiAoYXBpVXJsKSB7XG4gICAgcmV0dXJuIGFwaVVybC5yZXBsYWNlKC9cXC8kLywgJycpO1xuICB9XG4gIGNvbnN0IGJhY2tlbmQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQVhfQkFDS0VORF9VUkwgfHwgXG4gICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTCB8fCBcbiAgICAgICAgICAgICAgICAgICdodHRwOi8vbG9jYWxob3N0OjgwMDAnO1xuICByZXR1cm4gYCR7YmFja2VuZC5yZXBsYWNlKC9cXC8kLywgJycpfS9hcGlgO1xufTtcblxuY29uc3QgQVBJX0JBU0UgPSBnZXRBcGlCYXNlKCk7XG5jb25zdCBCQUNLRU5EID0gZ2V0QmFja2VuZEJhc2VVcmwoKTtcblxuZnVuY3Rpb24gdW53cmFwUGF5bG9hZDxUPihwYXlsb2FkOiBBcGlQYXlsb2FkPFQ+KTogVCB7XG4gIGlmIChwYXlsb2FkICYmIHR5cGVvZiBwYXlsb2FkID09PSAnb2JqZWN0JyAmJiAnZGF0YScgaW4gcGF5bG9hZCkge1xuICAgIHJldHVybiAocGF5bG9hZCBhcyB7IGRhdGE6IFQgfSkuZGF0YTtcbiAgfVxuXG4gIHJldHVybiBwYXlsb2FkIGFzIFQ7XG59XG5cbi8qKlxuICogTm9ybWFsaXplIGFnZW50IElEOiBlbnN1cmUgaXQncyBhIHN0cmluZyBhbmQgdHJpbSB3aGl0ZXNwYWNlXG4gKiBAcGFyYW0gaWQgLSBBZ2VudCBJRCAoY2FuIGJlIHN0cmluZywgbnVtYmVyLCBvciB1bmRlZmluZWQpXG4gKiBAcmV0dXJucyBOb3JtYWxpemVkIHN0cmluZyBJRCBvciBlbXB0eSBzdHJpbmcgaWYgaW52YWxpZFxuICovXG5mdW5jdGlvbiBub3JtYWxpemVBZ2VudElkKGlkOiBhbnkpOiBzdHJpbmcge1xuICBpZiAoIWlkKSByZXR1cm4gJyc7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBTdHJpbmcoaWQpLnRyaW0oKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQgfHwgJyc7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlcXVlc3Q8VD4oXG4gIHBhdGg6IHN0cmluZywgXG4gIGluaXQ/OiBSZXF1ZXN0SW5pdCxcbiAgYnlwYXNzUmF0ZUxpbWl0ID0gZmFsc2Vcbik6IFByb21pc2U8VCB8IHsgc2tpcHBlZDogdHJ1ZSB9PiB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IEFQSSBiYXNlIFVSTCBkeW5hbWljYWxseSAoaGFuZGxlcyBkZXNrdG9wIHZzIHdlYiBtb2RlKVxuICAgIGNvbnN0IGFwaUJhc2UgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGdldEFwaUJhc2VVcmwoKSA6IEFQSV9CQVNFO1xuICAgIGNvbnN0IGZ1bGxVcmwgPSBgJHthcGlCYXNlfSR7cGF0aH1gO1xuICAgIFxuICAgIC8vIERlYnVnIGxvZ2dpbmcgKGFsd2F5cyBsb2cgdG8gaGVscCBkZWJ1ZyBpc3N1ZXMpXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmxvZyhgW0FQSSBSZXF1ZXN0XSAke2luaXQ/Lm1ldGhvZCB8fCAnR0VUJ30gJHtmdWxsVXJsfWApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJhdGVMaW1pdGVkRmV0Y2goXG4gICAgICBmdWxsVXJsLCBcbiAgICAgIDUwMCwgLy8gTWluaW11bSBpbnRlcnZhbCBpcyBub3cgNTAwbXNcbiAgICAgIHtcbiAgICAgICAgY2FjaGU6ICduby1zdG9yZScsXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnb21pdCcsXG4gICAgICAgIC4uLmluaXQsXG4gICAgICB9LFxuICAgICAgeyBieXBhc3M6IGJ5cGFzc1JhdGVMaW1pdCB9XG4gICAgKTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgUmVxdWVzdCBmYWlsZWQ6ICR7cmVzcG9uc2Uuc3RhdHVzfWA7XG4gICAgICBsZXQgZXJyb3JSZXNwb25zZTogYW55ID0gbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgZXJyb3JSZXNwb25zZSA9IGVycm9yRGF0YTtcbiAgICAgICAgaWYgKGVycm9yRGF0YS5lcnJvcikge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5lcnJvcjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3JEYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmVzZXJ2ZSBzdWNjZXNzOiBmYWxzZSBmb3JtYXQgaWYgcHJlc2VudFxuICAgICAgICBpZiAoZXJyb3JEYXRhLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgZXJyb3JSZXNwb25zZSA9IHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvck1lc3NhZ2UgfTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gdGV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSBhcyBhbnk7XG4gICAgICBpZiAoZXJyb3JSZXNwb25zZSkge1xuICAgICAgICBlcnJvci5yZXNwb25zZSA9IGVycm9yUmVzcG9uc2U7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXlsb2FkID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXMgQXBpUGF5bG9hZDxUPjtcbiAgICByZXR1cm4gdW53cmFwUGF5bG9hZDxUPihwYXlsb2FkKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdmZXRjaCcpIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0ZhaWxlZCB0byBmZXRjaCcpIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ05ldHdvcmtFcnJvcicpIHx8IGVycm9yLm5hbWUgPT09ICdUeXBlRXJyb3InKSB7XG4gICAgICAgIC8vIEFsd2F5cyB1c2UgZHluYW1pYyBkZXRlY3Rpb24gZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgIGNvbnN0IGFwaUJhc2UgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IGdldEFwaUJhc2VVcmwoKSA6IEFQSV9CQVNFO1xuICAgICAgICBjb25zdCBiYWNrZW5kVXJsID0gZ2V0QmFja2VuZEJhc2VVcmwoKTtcbiAgICAgICAgY29uc3QgZnVsbFVybCA9IGAke2FwaUJhc2V9JHtwYXRofWA7XG4gICAgICAgIFxuICAgICAgICAvLyBMb2cgbW9yZSBkZXRhaWxzIGluIGRldmVsb3BtZW50XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBUEkgRXJyb3JdJywge1xuICAgICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBuYW1lOiBlcnJvci5uYW1lLFxuICAgICAgICAgICAgYXR0ZW1wdGVkVXJsOiBmdWxsVXJsLFxuICAgICAgICAgICAgYmFja2VuZFVybCxcbiAgICAgICAgICAgIGVudkFwaVVybDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCxcbiAgICAgICAgICAgIGVudkJhY2tlbmRVcmw6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX01BWF9CQUNLRU5EX1VSTCB8fCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29ubmVjdCB0byBiYWNrZW5kIHNlcnZlci4gUGxlYXNlIGVuc3VyZSB0aGUgYmFja2VuZCBpcyBydW5uaW5nIG9uICR7YmFja2VuZFVybH0uIEF0dGVtcHRlZCBVUkw6ICR7ZnVsbFVybH1gKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVDYW5kbGVEYXRhKGVudHJ5OiBhbnksIGluZGV4OiBudW1iZXIsIGZhbGxiYWNrUHJpY2U6IG51bWJlcik6IENhbmRsZURhdGEgfCBudWxsIHtcbiAgaWYgKGVudHJ5ICYmIHR5cGVvZiBlbnRyeS50aW1lID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgZW50cnkudmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGVudHJ5O1xuICB9XG5cbiAgY29uc3QgdmFsdWVDYW5kaWRhdGUgPVxuICAgIHR5cGVvZiBlbnRyeT8udmFsdWUgPT09ICdudW1iZXInXG4gICAgICA/IGVudHJ5LnZhbHVlXG4gICAgICA6IHR5cGVvZiBlbnRyeT8uY2xvc2UgPT09ICdudW1iZXInXG4gICAgICA/IGVudHJ5LmNsb3NlXG4gICAgICA6IHR5cGVvZiBmYWxsYmFja1ByaWNlID09PSAnbnVtYmVyJ1xuICAgICAgPyBmYWxsYmFja1ByaWNlXG4gICAgICA6IDA7XG5cbiAgY29uc3QgaG91cnMgPSAoaW5kZXggKiAyKSAlIDI0O1xuICBjb25zdCBtaW51dGVzID0gKGluZGV4ICogNSkgJSA2MDtcbiAgY29uc3QgdGltZSA9IGAke2hvdXJzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHttaW51dGVzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuXG4gIGlmICghTnVtYmVyLmlzRmluaXRlKHZhbHVlQ2FuZGlkYXRlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0aW1lLFxuICAgIHZhbHVlOiBOdW1iZXIodmFsdWVDYW5kaWRhdGUudG9GaXhlZCgyKSksXG4gIH07XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUFnZW50KHJhdzogYW55KTogQWdlbnQge1xuICBjb25zdCBwZXJmb3JtYW5jZVZhbHVlID1cbiAgICB0eXBlb2YgcmF3Py5wZXJmb3JtYW5jZSA9PT0gJ251bWJlcidcbiAgICAgID8gcmF3LnBlcmZvcm1hbmNlXG4gICAgICA6IHR5cGVvZiByYXc/LnBlcmZvcm1hbmNlPy5wbmwgPT09ICdudW1iZXInXG4gICAgICA/IHJhdy5wZXJmb3JtYW5jZS5wbmxcbiAgICAgIDogMDtcblxuICBjb25zdCB0cmFkZXNDb3VudCA9IEFycmF5LmlzQXJyYXkocmF3Py50cmFkZXMpXG4gICAgPyByYXcudHJhZGVzLmxlbmd0aFxuICAgIDogdHlwZW9mIHJhdz8udHJhZGVzID09PSAnbnVtYmVyJ1xuICAgID8gcmF3LnRyYWRlc1xuICAgIDogMDtcblxuICByZXR1cm4ge1xuICAgIGlkOiBub3JtYWxpemVBZ2VudElkKHJhdz8uaWQpLFxuICAgIG5hbWU6IFN0cmluZyhyYXc/Lm5hbWUgPz8gJ1VubmFtZWQgQWdlbnQnKSxcbiAgICByb2xlOiBTdHJpbmcocmF3Py5yb2xlID8/ICdhZ2VudCcpLFxuICAgIHBlcmZvcm1hbmNlOiBOdW1iZXIocGVyZm9ybWFuY2VWYWx1ZSB8fCAwKSxcbiAgICB0cmFkZXM6IE51bWJlcih0cmFkZXNDb3VudCB8fCAwKSxcbiAgICBzdGF0dXM6IChyYXc/LnN0YXR1cyA/PyAnaWRsZScpIGFzIEFnZW50WydzdGF0dXMnXSxcbiAgICBzZWN0b3JJZDogcmF3Py5zZWN0b3JJZCA/PyByYXc/LnNlY3Rvcl9pZCA/PyBudWxsLFxuICAgIHNlY3RvclN5bWJvbDogcmF3Py5zZWN0b3JTeW1ib2wgPz8gcmF3Py5zZWN0b3Jfc3ltYm9sID8/IHVuZGVmaW5lZCxcbiAgICBzZWN0b3JOYW1lOiByYXc/LnNlY3Rvck5hbWUgPz8gcmF3Py5zZWN0b3JfbmFtZSA/PyB1bmRlZmluZWQsXG4gICAgcGVyc29uYWxpdHk6IHtcbiAgICAgIHJpc2tUb2xlcmFuY2U6IHJhdz8ucGVyc29uYWxpdHk/LnJpc2tUb2xlcmFuY2UgPz8gcmF3Py5wZXJzb25hbGl0eT8ucmlza190b2xlcmFuY2UgPz8gJ1Vua25vd24nLFxuICAgICAgZGVjaXNpb25TdHlsZTogcmF3Py5wZXJzb25hbGl0eT8uZGVjaXNpb25TdHlsZSA/PyByYXc/LnBlcnNvbmFsaXR5Py5kZWNpc2lvbl9zdHlsZSA/PyAnVW5rbm93bicsXG4gICAgfSxcbiAgICBwcm9tcHQ6IHR5cGVvZiByYXc/LnByb21wdCA9PT0gJ3N0cmluZycgPyByYXcucHJvbXB0IDogdW5kZWZpbmVkLFxuICAgIHByZWZlcmVuY2VzOiByYXc/LnByZWZlcmVuY2VzID8ge1xuICAgICAgcmlza1dlaWdodDogdHlwZW9mIHJhdy5wcmVmZXJlbmNlcy5yaXNrV2VpZ2h0ID09PSAnbnVtYmVyJyA/IHJhdy5wcmVmZXJlbmNlcy5yaXNrV2VpZ2h0IDogdW5kZWZpbmVkLFxuICAgICAgcHJvZml0V2VpZ2h0OiB0eXBlb2YgcmF3LnByZWZlcmVuY2VzLnByb2ZpdFdlaWdodCA9PT0gJ251bWJlcicgPyByYXcucHJlZmVyZW5jZXMucHJvZml0V2VpZ2h0IDogdW5kZWZpbmVkLFxuICAgICAgc3BlZWRXZWlnaHQ6IHR5cGVvZiByYXcucHJlZmVyZW5jZXMuc3BlZWRXZWlnaHQgPT09ICdudW1iZXInID8gcmF3LnByZWZlcmVuY2VzLnNwZWVkV2VpZ2h0IDogdW5kZWZpbmVkLFxuICAgICAgYWNjdXJhY3lXZWlnaHQ6IHR5cGVvZiByYXcucHJlZmVyZW5jZXMuYWNjdXJhY3lXZWlnaHQgPT09ICdudW1iZXInID8gcmF3LnByZWZlcmVuY2VzLmFjY3VyYWN5V2VpZ2h0IDogdW5kZWZpbmVkLFxuICAgIH0gOiB1bmRlZmluZWQsXG4gICAgbW9yYWxlOiB0eXBlb2YgcmF3Py5tb3JhbGUgPT09ICdudW1iZXInID8gcmF3Lm1vcmFsZSA6IHVuZGVmaW5lZCxcbiAgICByZXdhcmRQb2ludHM6IHR5cGVvZiByYXc/LnJld2FyZFBvaW50cyA9PT0gJ251bWJlcicgPyByYXcucmV3YXJkUG9pbnRzIDogdW5kZWZpbmVkLFxuICAgIGNvbmZpZGVuY2U6IHR5cGVvZiByYXc/LmNvbmZpZGVuY2UgPT09ICdudW1iZXInID8gcmF3LmNvbmZpZGVuY2UgOiAwLFxuICAgIGNyZWF0ZWRBdDogcmF3Py5jcmVhdGVkQXQgPz8gcmF3Py5jcmVhdGVkX2F0ID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICByYXdUcmFkZXM6IEFycmF5LmlzQXJyYXkocmF3Py50cmFkZXMpID8gcmF3LnRyYWRlcyA6IHVuZGVmaW5lZCxcbiAgICByYXdQZXJmb3JtYW5jZTogdHlwZW9mIHJhdz8ucGVyZm9ybWFuY2UgPT09ICdvYmplY3QnID8gcmF3LnBlcmZvcm1hbmNlIDogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVEaXNjdXNzaW9uKHJhdzogYW55KTogRGlzY3Vzc2lvbiB7XG4gIGNvbnN0IG1lc3NhZ2VzID0gQXJyYXkuaXNBcnJheShyYXc/Lm1lc3NhZ2VzKVxuICAgID8gcmF3Lm1lc3NhZ2VzLm1hcCgobWVzc2FnZTogYW55LCBpbmRleDogbnVtYmVyKSA9PiAoe1xuICAgICAgICBpZDogU3RyaW5nKG1lc3NhZ2U/LmlkID8/IGAke3Jhdz8uaWQgPz8gJ2Rpc2MnfS1tc2ctJHtpbmRleH1gKSxcbiAgICAgICAgYWdlbnRJZDogbWVzc2FnZT8uYWdlbnRJZCA/PyBtZXNzYWdlPy5hZ2VudF9pZCA/PyB1bmRlZmluZWQsXG4gICAgICAgIGFnZW50TmFtZTogU3RyaW5nKG1lc3NhZ2U/LmFnZW50TmFtZSA/PyBtZXNzYWdlPy5hZ2VudF9uYW1lID8/ICdVbmtub3duIEFnZW50JyksXG4gICAgICAgIGNvbnRlbnQ6IFN0cmluZyhtZXNzYWdlPy5jb250ZW50ID8/ICcnKSxcbiAgICAgICAgdGltZXN0YW1wOiBtZXNzYWdlPy50aW1lc3RhbXAgPz8gbWVzc2FnZT8uY3JlYXRlZEF0ID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcm9sZTogbWVzc2FnZT8ucm9sZSA/PyB1bmRlZmluZWQsXG4gICAgICB9KSlcbiAgICA6IFtdO1xuXG4gIGNvbnN0IGNoZWNrbGlzdERyYWZ0ID0gQXJyYXkuaXNBcnJheShyYXc/LmNoZWNrbGlzdERyYWZ0KVxuICAgID8gcmF3LmNoZWNrbGlzdERyYWZ0Lm1hcCgoaXRlbTogYW55KSA9PiAoe1xuICAgICAgICBpZDogU3RyaW5nKGl0ZW0/LmlkID8/ICcnKSxcbiAgICAgICAgdGV4dDogU3RyaW5nKGl0ZW0/LnRleHQgPz8gJycpLFxuICAgICAgICBhZ2VudElkOiBpdGVtPy5hZ2VudElkID8/IGl0ZW0/LmFnZW50X2lkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgYWdlbnROYW1lOiBpdGVtPy5hZ2VudE5hbWUgPz8gaXRlbT8uYWdlbnRfbmFtZSA/PyB1bmRlZmluZWQsXG4gICAgICAgIHJvdW5kOiB0eXBlb2YgaXRlbT8ucm91bmQgPT09ICdudW1iZXInID8gaXRlbS5yb3VuZCA6IHVuZGVmaW5lZCxcbiAgICAgIH0pKVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIGNvbnN0IGNoZWNrbGlzdCA9IEFycmF5LmlzQXJyYXkocmF3Py5jaGVja2xpc3QpXG4gICAgPyByYXcuY2hlY2tsaXN0Lm1hcCgoaXRlbTogYW55KSA9PiAoe1xuICAgICAgICBpZDogU3RyaW5nKGl0ZW0/LmlkID8/ICcnKSxcbiAgICAgICAgdGV4dDogU3RyaW5nKGl0ZW0/LnRleHQgPz8gJycpLFxuICAgICAgICBhZ2VudElkOiBpdGVtPy5hZ2VudElkID8/IGl0ZW0/LmFnZW50X2lkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgYWdlbnROYW1lOiBpdGVtPy5hZ2VudE5hbWUgPz8gaXRlbT8uYWdlbnRfbmFtZSA/PyB1bmRlZmluZWQsXG4gICAgICAgIHJvdW5kOiB0eXBlb2YgaXRlbT8ucm91bmQgPT09ICdudW1iZXInID8gaXRlbS5yb3VuZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgYWN0aW9uOiBpdGVtPy5hY3Rpb24gPz8gdW5kZWZpbmVkLFxuICAgICAgICBhbW91bnQ6IHR5cGVvZiBpdGVtPy5hbW91bnQgPT09ICdudW1iZXInID8gaXRlbS5hbW91bnQgOiB1bmRlZmluZWQsXG4gICAgICAgIHJlYXNvbjogaXRlbT8ucmVhc29uID8/IGl0ZW0/LnJlYXNvbmluZyA/PyB1bmRlZmluZWQsXG4gICAgICAgIGNvbmZpZGVuY2U6IHR5cGVvZiBpdGVtPy5jb25maWRlbmNlID09PSAnbnVtYmVyJyA/IGl0ZW0uY29uZmlkZW5jZSA6IHVuZGVmaW5lZCxcbiAgICAgIH0pKVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIGNvbnN0IGZpbmFsaXplZENoZWNrbGlzdCA9IEFycmF5LmlzQXJyYXkocmF3Py5maW5hbGl6ZWRDaGVja2xpc3QpXG4gICAgPyByYXcuZmluYWxpemVkQ2hlY2tsaXN0Lm1hcCgoaXRlbTogYW55KSA9PiAoe1xuICAgICAgICBpZDogU3RyaW5nKGl0ZW0/LmlkID8/ICcnKSxcbiAgICAgICAgdGV4dDogU3RyaW5nKGl0ZW0/LnRleHQgPz8gJycpLFxuICAgICAgICBhZ2VudElkOiBpdGVtPy5hZ2VudElkID8/IGl0ZW0/LmFnZW50X2lkID8/IHVuZGVmaW5lZCxcbiAgICAgICAgYWdlbnROYW1lOiBpdGVtPy5hZ2VudE5hbWUgPz8gaXRlbT8uYWdlbnRfbmFtZSA/PyB1bmRlZmluZWQsXG4gICAgICAgIHJvdW5kOiB0eXBlb2YgaXRlbT8ucm91bmQgPT09ICdudW1iZXInID8gaXRlbS5yb3VuZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgYWN0aW9uOiBpdGVtPy5hY3Rpb24gPz8gdW5kZWZpbmVkLFxuICAgICAgICBhbW91bnQ6IHR5cGVvZiBpdGVtPy5hbW91bnQgPT09ICdudW1iZXInID8gaXRlbS5hbW91bnQgOiB1bmRlZmluZWQsXG4gICAgICAgIHJlYXNvbjogaXRlbT8ucmVhc29uID8/IGl0ZW0/LnJlYXNvbmluZyA/PyB1bmRlZmluZWQsXG4gICAgICAgIGNvbmZpZGVuY2U6IHR5cGVvZiBpdGVtPy5jb25maWRlbmNlID09PSAnbnVtYmVyJyA/IGl0ZW0uY29uZmlkZW5jZSA6IHVuZGVmaW5lZCxcbiAgICAgIH0pKVxuICAgIDogdW5kZWZpbmVkO1xuXG4gIHJldHVybiB7XG4gICAgaWQ6IFN0cmluZyhyYXc/LmlkID8/ICcnKSxcbiAgICBzZWN0b3JJZDogU3RyaW5nKHJhdz8uc2VjdG9ySWQgPz8gcmF3Py5zZWN0b3JfaWQgPz8gJycpLFxuICAgIHRpdGxlOiBTdHJpbmcocmF3Py50aXRsZSA/PyAnVW50aXRsZWQgZGlzY3Vzc2lvbicpLFxuICAgIHN0YXR1czogKHJhdz8uc3RhdHVzID8/ICdpbl9wcm9ncmVzcycpIGFzIERpc2N1c3Npb25bJ3N0YXR1cyddLFxuICAgIGFnZW50SWRzOiBBcnJheS5pc0FycmF5KHJhdz8uYWdlbnRJZHMpXG4gICAgICA/IHJhdy5hZ2VudElkcy5tYXAoKGFnZW50SWQ6IGFueSkgPT4gU3RyaW5nKGFnZW50SWQpKVxuICAgICAgOiBBcnJheS5pc0FycmF5KHJhdz8uYWdlbnRfaWRzKVxuICAgICAgPyByYXcuYWdlbnRfaWRzLm1hcCgoYWdlbnRJZDogYW55KSA9PiBTdHJpbmcoYWdlbnRJZCkpXG4gICAgICA6IFtdLFxuICAgIG1lc3NhZ2VzLFxuICAgIG1lc3NhZ2VzQ291bnQ6IHR5cGVvZiByYXc/Lm1lc3NhZ2VzQ291bnQgPT09ICdudW1iZXInIFxuICAgICAgPyByYXcubWVzc2FnZXNDb3VudCBcbiAgICAgIDogKHR5cGVvZiByYXc/Lm1lc3NhZ2VDb3VudCA9PT0gJ251bWJlcicgPyByYXcubWVzc2FnZUNvdW50IDogdW5kZWZpbmVkKSxcbiAgICBjcmVhdGVkQXQ6IHJhdz8uY3JlYXRlZEF0ID8/IHJhdz8uY3JlYXRlZF9hdCA/PyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgdXBkYXRlZEF0OiByYXc/LnVwZGF0ZWRBdCA/PyByYXc/LnVwZGF0ZWRfYXQgPz8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHNlY3RvclN5bWJvbDogcmF3Py5zZWN0b3JTeW1ib2wgPz8gcmF3Py5zZWN0b3Jfc3ltYm9sID8/IHVuZGVmaW5lZCxcbiAgICBzZWN0b3JOYW1lOiByYXc/LnNlY3Rvck5hbWUgPz8gcmF3Py5zZWN0b3JfbmFtZSA/PyB1bmRlZmluZWQsXG4gICAgcm91bmQ6IHR5cGVvZiByYXc/LnJvdW5kID09PSAnbnVtYmVyJyA/IHJhdy5yb3VuZCA6IHVuZGVmaW5lZCxcbiAgICBjaGVja2xpc3REcmFmdDogY2hlY2tsaXN0RHJhZnQgJiYgY2hlY2tsaXN0RHJhZnQubGVuZ3RoID4gMCA/IGNoZWNrbGlzdERyYWZ0IDogdW5kZWZpbmVkLFxuICAgIGNoZWNrbGlzdDogY2hlY2tsaXN0ICYmIGNoZWNrbGlzdC5sZW5ndGggPiAwID8gY2hlY2tsaXN0IDogdW5kZWZpbmVkLFxuICAgIGZpbmFsaXplZENoZWNrbGlzdDogZmluYWxpemVkQ2hlY2tsaXN0ICYmIGZpbmFsaXplZENoZWNrbGlzdC5sZW5ndGggPiAwID8gZmluYWxpemVkQ2hlY2tsaXN0IDogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTZWN0b3IocmF3OiBhbnkpOiBTZWN0b3Ige1xuICBjb25zdCBiYXNlUHJpY2UgPSBOdW1iZXIocmF3Py5jdXJyZW50UHJpY2UgPz8gcmF3Py5wcmljZSA/PyAwKTtcblxuICBjb25zdCBhZ2VudHMgPSBBcnJheS5pc0FycmF5KHJhdz8uYWdlbnRzKVxuICAgID8gcmF3LmFnZW50cy5tYXAoKGFnZW50OiBhbnkpID0+XG4gICAgICAgIG5vcm1hbGl6ZUFnZW50KHtcbiAgICAgICAgICAuLi5hZ2VudCxcbiAgICAgICAgICBzZWN0b3JJZDogYWdlbnQ/LnNlY3RvcklkID8/IHJhdz8uaWQsXG4gICAgICAgICAgc2VjdG9yU3ltYm9sOiBhZ2VudD8uc2VjdG9yU3ltYm9sID8/IHJhdz8uc3ltYm9sID8/IHJhdz8uc2VjdG9yU3ltYm9sLFxuICAgICAgICAgIHNlY3Rvck5hbWU6IGFnZW50Py5zZWN0b3JOYW1lID8/IHJhdz8ubmFtZSA/PyByYXc/LnNlY3Rvck5hbWUsXG4gICAgICAgIH0pLFxuICAgICAgKVxuICAgIDogW107XG5cbiAgY29uc3QgY2FuZGxlRGF0YSA9IEFycmF5LmlzQXJyYXkocmF3Py5jYW5kbGVEYXRhKVxuICAgID8gcmF3LmNhbmRsZURhdGFcbiAgICAgICAgLm1hcCgoZW50cnk6IGFueSwgaW5kZXg6IG51bWJlcikgPT4gbm9ybWFsaXplQ2FuZGxlRGF0YShlbnRyeSwgaW5kZXgsIGJhc2VQcmljZSkpXG4gICAgICAgIC5maWx0ZXIoKHBvaW50OiBhbnkpOiBwb2ludCBpcyBDYW5kbGVEYXRhID0+IEJvb2xlYW4ocG9pbnQpKVxuICAgIDogW107XG5cbiAgY29uc3QgZGlzY3Vzc2lvbnMgPSBBcnJheS5pc0FycmF5KHJhdz8uZGlzY3Vzc2lvbnMpXG4gICAgPyByYXcuZGlzY3Vzc2lvbnMubWFwKChkaXNjdXNzaW9uOiBhbnkpID0+XG4gICAgICAgIG5vcm1hbGl6ZURpc2N1c3Npb24oe1xuICAgICAgICAgIC4uLmRpc2N1c3Npb24sXG4gICAgICAgICAgc2VjdG9ySWQ6IGRpc2N1c3Npb24/LnNlY3RvcklkID8/IHJhdz8uaWQsXG4gICAgICAgICAgc2VjdG9yU3ltYm9sOiBkaXNjdXNzaW9uPy5zZWN0b3JTeW1ib2wgPz8gcmF3Py5zeW1ib2wgPz8gcmF3Py5zZWN0b3JTeW1ib2wsXG4gICAgICAgICAgc2VjdG9yTmFtZTogZGlzY3Vzc2lvbj8uc2VjdG9yTmFtZSA/PyByYXc/Lm5hbWUgPz8gcmF3Py5zZWN0b3JOYW1lLFxuICAgICAgICB9KSxcbiAgICAgIClcbiAgICA6IFtdO1xuXG4gIC8vIENhbGN1bGF0ZSBhY3RpdmVBZ2VudHMgaWYgbm90IHByb3ZpZGVkXG4gIGNvbnN0IGFjdGl2ZUFnZW50cyA9IHR5cGVvZiByYXc/LmFjdGl2ZUFnZW50cyA9PT0gJ251bWJlcicgXG4gICAgPyByYXcuYWN0aXZlQWdlbnRzIFxuICAgIDogdHlwZW9mIHJhdz8uYWN0aXZlX2FnZW50cyA9PT0gJ251bWJlcidcbiAgICA/IHJhdy5hY3RpdmVfYWdlbnRzXG4gICAgOiBhZ2VudHMuZmlsdGVyKChhZ2VudDogYW55KSA9PiBhZ2VudC5zdGF0dXMgPT09ICdhY3RpdmUnKS5sZW5ndGg7XG5cbiAgcmV0dXJuIHtcbiAgICBpZDogU3RyaW5nKHJhdz8uaWQgPz8gJycpLFxuICAgIC8vIFByaW1hcnkgc3RhbmRhcmRpemVkIGZpZWxkcyAocHJlZmVyIG5hbWUvc3ltYm9sLCBmYWxsYmFjayB0byBzZWN0b3JOYW1lL3NlY3RvclN5bWJvbClcbiAgICBuYW1lOiBTdHJpbmcocmF3Py5uYW1lID8/IHJhdz8uc2VjdG9yTmFtZSA/PyAnVW5rbm93biBTZWN0b3InKSxcbiAgICBzeW1ib2w6IFN0cmluZyhyYXc/LnN5bWJvbCA/PyByYXc/LnNlY3RvclN5bWJvbCA/PyAnTi9BJyksXG4gICAgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSBmaWVsZHMgKGluY2x1ZGUgaWYgcHJlc2VudClcbiAgICBzZWN0b3JOYW1lOiByYXc/LnNlY3Rvck5hbWUgPz8gcmF3Py5uYW1lID8/IHVuZGVmaW5lZCxcbiAgICBzZWN0b3JTeW1ib2w6IHJhdz8uc2VjdG9yU3ltYm9sID8/IHJhdz8uc3ltYm9sID8/IHVuZGVmaW5lZCxcbiAgICAvLyBDb3JlIG1hcmtldCBkYXRhIGZpZWxkc1xuICAgIGN1cnJlbnRQcmljZTogTnVtYmVyLmlzRmluaXRlKGJhc2VQcmljZSkgPyBOdW1iZXIoYmFzZVByaWNlLnRvRml4ZWQoMikpIDogMCxcbiAgICBjaGFuZ2U6IE51bWJlcihyYXc/LmNoYW5nZSA/PyAwKSxcbiAgICBjaGFuZ2VQZXJjZW50OiBOdW1iZXIocmF3Py5jaGFuZ2VQZXJjZW50ID8/IHJhdz8uY2hhbmdlX3BlcmNlbnQgPz8gMCksXG4gICAgdm9sdW1lOiBOdW1iZXIocmF3Py52b2x1bWUgPz8gMCksXG4gICAgLy8gUmlzayBhbmQgdm9sYXRpbGl0eVxuICAgIHZvbGF0aWxpdHk6IHR5cGVvZiByYXc/LnZvbGF0aWxpdHkgPT09ICdudW1iZXInID8gTnVtYmVyKHJhdy52b2xhdGlsaXR5LnRvRml4ZWQoNCkpIDogdW5kZWZpbmVkLFxuICAgIHJpc2tTY29yZTogdHlwZW9mIHJhdz8ucmlza1Njb3JlID09PSAnbnVtYmVyJyA/IE51bWJlcihyYXcucmlza1Njb3JlKSA6IHVuZGVmaW5lZCxcbiAgICAvLyBBZ2VudCBhbmQgYWN0aXZpdHkgZmllbGRzXG4gICAgYWdlbnRzLFxuICAgIGFjdGl2ZUFnZW50czogTnVtYmVyKGFjdGl2ZUFnZW50cyksXG4gICAgYnV5QWdlbnRzOiB0eXBlb2YgcmF3Py5idXlBZ2VudHMgPT09ICdudW1iZXInID8gTnVtYmVyKHJhdy5idXlBZ2VudHMpIDogdHlwZW9mIHJhdz8uYnV5X2FnZW50cyA9PT0gJ251bWJlcicgPyBOdW1iZXIocmF3LmJ1eV9hZ2VudHMpIDogdW5kZWZpbmVkLFxuICAgIHNlbGxBZ2VudHM6IHR5cGVvZiByYXc/LnNlbGxBZ2VudHMgPT09ICdudW1iZXInID8gTnVtYmVyKHJhdy5zZWxsQWdlbnRzKSA6IHR5cGVvZiByYXc/LnNlbGxfYWdlbnRzID09PSAnbnVtYmVyJyA/IE51bWJlcihyYXcuc2VsbF9hZ2VudHMpIDogdW5kZWZpbmVkLFxuICAgIHN0YXR1c1BlcmNlbnQ6IE51bWJlcihyYXc/LnN0YXR1c1BlcmNlbnQgPz8gcmF3Py5zdGF0dXNfcGVyY2VudCA/PyAwKSxcbiAgICAvLyBQZXJmb3JtYW5jZSBhbmQgYmFsYW5jZVxuICAgIHBlcmZvcm1hbmNlOiByYXc/LnBlcmZvcm1hbmNlICYmIHR5cGVvZiByYXcucGVyZm9ybWFuY2UgPT09ICdvYmplY3QnID8gcmF3LnBlcmZvcm1hbmNlIDogdW5kZWZpbmVkLFxuICAgIGJhbGFuY2U6IHR5cGVvZiByYXc/LmJhbGFuY2UgPT09ICdudW1iZXInID8gTnVtYmVyKHJhdy5iYWxhbmNlLnRvRml4ZWQoMikpIDogdW5kZWZpbmVkLFxuICAgIC8vIEFkZGl0aW9uYWwgZmllbGRzXG4gICAgbGFzdFNpbXVsYXRlZFByaWNlOiB0eXBlb2YgcmF3Py5sYXN0U2ltdWxhdGVkUHJpY2UgPT09ICdudW1iZXInID8gTnVtYmVyKHJhdy5sYXN0U2ltdWxhdGVkUHJpY2UudG9GaXhlZCgyKSkgOiByYXc/Lmxhc3RTaW11bGF0ZWRQcmljZSA9PT0gbnVsbCA/IG51bGwgOiB1bmRlZmluZWQsXG4gICAgZGlzY3Vzc2lvbnMsXG4gICAgY2FuZGxlRGF0YSxcbiAgICBkZXNjcmlwdGlvbjogdHlwZW9mIHJhdz8uZGVzY3JpcHRpb24gPT09ICdzdHJpbmcnID8gcmF3LmRlc2NyaXB0aW9uIDogdW5kZWZpbmVkLFxuICAgIGNyZWF0ZWRBdDogcmF3Py5jcmVhdGVkQXQgPz8gcmF3Py5jcmVhdGVkX2F0ID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoU2VjdG9ycygpOiBQcm9taXNlPFNlY3RvcltdPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDxTZWN0b3JbXT4oJy9zZWN0b3JzJyk7XG4gICAgXG4gICAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSByZXR1cm4gZW1wdHkgYXJyYXkgd2hlbiBza2lwcGVkXG4gICAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHBheWxvYWQgPSByZXN1bHQgYXMgU2VjdG9yW107XG4gICAgaWYgKCFwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZC5tYXAobm9ybWFsaXplU2VjdG9yKSA6IFtdO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHNlY3RvcnM6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFNlY3RvckJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8U2VjdG9yIHwgbnVsbD4ge1xuICBpZiAoIWlkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBOb3JtYWxpemUgSUQgdG8gbG93ZXJjYXNlIGZvciBjb25zaXN0ZW50IGNhc2Utc2Vuc2l0aXZpdHlcbiAgY29uc3Qgbm9ybWFsaXplZElkID0gU3RyaW5nKGlkKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3Q8U2VjdG9yPihgL3NlY3RvcnMvJHtub3JtYWxpemVkSWR9YCk7XG4gIFxuICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHJldHVybiBudWxsIHdoZW4gc2tpcHBlZFxuICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmICdza2lwcGVkJyBpbiByZXN1bHQgJiYgKHJlc3VsdCBhcyBhbnkpLnNraXBwZWQgPT09IHRydWUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBcbiAgY29uc3QgcGF5bG9hZCA9IHJlc3VsdCBhcyBTZWN0b3I7XG4gIHJldHVybiBwYXlsb2FkID8gbm9ybWFsaXplU2VjdG9yKHBheWxvYWQpIDogbnVsbDtcbn1cblxuLy8gTWFuYWdlciBBZ2VudCBBUEkgZnVuY3Rpb25zXG5leHBvcnQgaW50ZXJmYWNlIE1hbmFnZXJTdGF0dXMge1xuICBpc1J1bm5pbmc6IGJvb2xlYW47XG4gIG1hbmFnZXJDb3VudDogbnVtYmVyO1xuICB0aWNrSW50ZXJ2YWxNczogbnVtYmVyO1xuICBkZWNpc2lvbkxvZ1NpemU6IG51bWJlcjtcbiAgbWFuYWdlcnM6IEFycmF5PHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHNlY3RvcklkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGxhc3REZWNpc2lvbjoge1xuICAgICAgYWN0aW9uOiBzdHJpbmc7XG4gICAgICBjb25maWRlbmNlOiBudW1iZXI7XG4gICAgICByZWFzb246IHN0cmluZztcbiAgICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICAgIH0gfCBudWxsO1xuICAgIGRlY2lzaW9uQ291bnQ6IG51bWJlcjtcbiAgfT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFuYWdlckRlY2lzaW9uIHtcbiAgbWFuYWdlcklkOiBzdHJpbmc7XG4gIHNlY3RvcklkOiBzdHJpbmc7XG4gIGRlY2lzaW9uOiB7XG4gICAgYWN0aW9uOiBzdHJpbmc7XG4gICAgY29uZmlkZW5jZTogbnVtYmVyO1xuICAgIHJlYXNvbjogc3RyaW5nO1xuICAgIHZvdGVCcmVha2Rvd24/OiB7IEJVWTogbnVtYmVyOyBTRUxMOiBudW1iZXI7IEhPTEQ6IG51bWJlciB9O1xuICAgIGNvbmZsaWN0U2NvcmU/OiBudW1iZXI7XG4gICAgdGltZXN0YW1wOiBudW1iZXI7XG4gIH07XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hNYW5hZ2VyU3RhdHVzKCk6IFByb21pc2U8TWFuYWdlclN0YXR1cyB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogTWFuYWdlclN0YXR1cyB9PignL3NpbXVsYXRpb24vc3RhdHVzJyk7XG4gICAgXG4gICAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSByZXR1cm4gbnVsbCB3aGVuIHNraXBwZWRcbiAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmICdza2lwcGVkJyBpbiByZXN1bHQgJiYgKHJlc3VsdCBhcyBhbnkpLnNraXBwZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBwYXlsb2FkID0gcmVzdWx0IGFzIHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogTWFuYWdlclN0YXR1cyB9O1xuICAgIHJldHVybiBwYXlsb2FkICYmIHBheWxvYWQuc3VjY2VzcyA/IHBheWxvYWQuZGF0YSA6IG51bGw7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbWFuYWdlciBzdGF0dXM6JywgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaE1hbmFnZXJEZWNpc2lvbnMoc2VjdG9ySWQ6IHN0cmluZyk6IFByb21pc2U8TWFuYWdlckRlY2lzaW9uW10+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogTWFuYWdlckRlY2lzaW9uW10gfT4oYC9zaW11bGF0aW9uL2RlY2lzaW9ucy8ke3NlY3RvcklkfWApO1xuICAgIFxuICAgIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIC0gcmV0dXJuIGVtcHR5IGFycmF5IHdoZW4gc2tpcHBlZFxuICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBwYXlsb2FkID0gcmVzdWx0IGFzIHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogTWFuYWdlckRlY2lzaW9uW10gfTtcbiAgICByZXR1cm4gcGF5bG9hZCAmJiBwYXlsb2FkLnN1Y2Nlc3MgPyBwYXlsb2FkLmRhdGEgOiBbXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBtYW5hZ2VyIGRlY2lzaW9uczonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaEFnZW50cygpOiBQcm9taXNlPEFnZW50W10+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDxBZ2VudFtdPignL2FnZW50cycpO1xuICBcbiAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSByZXR1cm4gZW1wdHkgYXJyYXkgd2hlbiBza2lwcGVkXG4gIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBcbiAgY29uc3QgcGF5bG9hZCA9IHJlc3VsdCBhcyBBZ2VudFtdO1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQubWFwKGFnZW50ID0+IG5vcm1hbGl6ZUFnZW50KGFnZW50KSkgOiBbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoQWdlbnRCeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPEFnZW50IHwgbnVsbD4ge1xuICAvLyBOb3JtYWxpemUgYW5kIHZhbGlkYXRlIElEIGJlZm9yZSBtYWtpbmcgcmVxdWVzdFxuICBjb25zdCBub3JtYWxpemVkSWQgPSBub3JtYWxpemVBZ2VudElkKGlkKTtcbiAgaWYgKCFub3JtYWxpemVkSWQpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tmZXRjaEFnZW50QnlJZF0gSW52YWxpZCBvciBlbXB0eSBhZ2VudCBJRCBwcm92aWRlZCcpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDxBZ2VudD4oYC9hZ2VudHMvJHtlbmNvZGVVUklDb21wb25lbnQobm9ybWFsaXplZElkKX1gKTtcbiAgXG4gIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIC0gcmV0dXJuIG51bGwgd2hlbiBza2lwcGVkXG4gIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIFxuICBjb25zdCBwYXlsb2FkID0gcmVzdWx0IGFzIEFnZW50O1xuICByZXR1cm4gcGF5bG9hZCA/IG5vcm1hbGl6ZUFnZW50KHBheWxvYWQpIDogbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaXNjdXNzaW9uU3VtbWFyeSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHNlY3Rvcjogc3RyaW5nOyAvLyBTZWN0b3Igc3ltYm9sXG4gIHNlY3RvcklkPzogc3RyaW5nOyAvLyBLZWVwIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gIHN0YXR1czogRGlzY3Vzc2lvblsnc3RhdHVzJ107XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xuICBwYXJ0aWNpcGFudHM6IHN0cmluZ1tdOyAvLyBBZ2VudCBJRHMgYXJyYXlcbiAgbWVzc2FnZXNDb3VudDogbnVtYmVyOyAvLyBVcGRhdGVkIHRvIG1hdGNoIGJhY2tlbmQgKHdhcyBtZXNzYWdlQ291bnQpXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFnaW5hdGVkRGlzY3Vzc2lvbnNSZXNwb25zZSB7XG4gIGRpc2N1c3Npb25zOiBEaXNjdXNzaW9uU3VtbWFyeVtdO1xuICBwYWdpbmF0aW9uOiB7XG4gICAgcGFnZTogbnVtYmVyO1xuICAgIHBhZ2VTaXplOiBudW1iZXI7XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICB0b3RhbFBhZ2VzOiBudW1iZXI7XG4gIH07XG4gIHN0YXR1c0NvdW50cz86IHtcbiAgICBhbGw6IG51bWJlcjtcbiAgICBpbl9wcm9ncmVzczogbnVtYmVyO1xuICAgIGRlY2lkZWQ6IG51bWJlcjtcbiAgICByZWplY3RlZDogbnVtYmVyO1xuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hEaXNjdXNzaW9ucyhwYWdlOiBudW1iZXIgPSAxLCBwYWdlU2l6ZTogbnVtYmVyID0gMjAsIHNlY3RvcklkPzogc3RyaW5nLCBzdGF0dXM/OiBzdHJpbmcpOiBQcm9taXNlPFBhZ2luYXRlZERpc2N1c3Npb25zUmVzcG9uc2U+IHtcbiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgcGFnZTogcGFnZS50b1N0cmluZygpLFxuICAgIHBhZ2VTaXplOiBwYWdlU2l6ZS50b1N0cmluZygpLFxuICB9KTtcbiAgaWYgKHNlY3RvcklkKSB7XG4gICAgcGFyYW1zLmFwcGVuZCgnc2VjdG9ySWQnLCBzZWN0b3JJZCk7XG4gIH1cbiAgaWYgKHN0YXR1cyAmJiBzdGF0dXMgIT09ICdhbGwnKSB7XG4gICAgcGFyYW1zLmFwcGVuZCgnc3RhdHVzJywgc3RhdHVzKTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3Q8UGFnaW5hdGVkRGlzY3Vzc2lvbnNSZXNwb25zZT4oYC9kaXNjdXNzaW9ucz8ke3BhcmFtcy50b1N0cmluZygpfWApO1xuICBcbiAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSByZXR1cm4gZW1wdHkgcmVzdWx0IHdoZW4gc2tpcHBlZFxuICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmICdza2lwcGVkJyBpbiByZXN1bHQgJiYgKHJlc3VsdCBhcyBhbnkpLnNraXBwZWQgPT09IHRydWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGlzY3Vzc2lvbnM6IFtdLFxuICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICBwYWdlLFxuICAgICAgICBwYWdlU2l6ZSxcbiAgICAgICAgdG90YWw6IDAsXG4gICAgICAgIHRvdGFsUGFnZXM6IDBcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIFxuICBjb25zdCBwYXlsb2FkID0gcmVzdWx0IGFzIFBhZ2luYXRlZERpc2N1c3Npb25zUmVzcG9uc2U7XG4gIHJldHVybiBwYXlsb2FkIHx8IHtcbiAgICBkaXNjdXNzaW9uczogW10sXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgcGFnZSxcbiAgICAgIHBhZ2VTaXplLFxuICAgICAgdG90YWw6IDAsXG4gICAgICB0b3RhbFBhZ2VzOiAwXG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hEaXNjdXNzaW9uTWVzc2FnZXMoZGlzY3Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPE1lc3NhZ2VbXT4ge1xuICBpZiAoIWRpc2N1c3Npb25JZCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3Q8eyBtZXNzYWdlczogTWVzc2FnZVtdIH0+KGAvZGlzY3Vzc2lvbnMvJHtkaXNjdXNzaW9uSWR9L21lc3NhZ2VzYCk7XG4gIFxuICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHJldHVybiBlbXB0eSBhcnJheSB3aGVuIHNraXBwZWRcbiAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIFxuICBjb25zdCBwYXlsb2FkID0gcmVzdWx0IGFzIHsgbWVzc2FnZXM6IE1lc3NhZ2VbXSB9O1xuICBpZiAocGF5bG9hZCAmJiBBcnJheS5pc0FycmF5KHBheWxvYWQubWVzc2FnZXMpKSB7XG4gICAgcmV0dXJuIHBheWxvYWQubWVzc2FnZXMubWFwKChtZXNzYWdlOiBhbnksIGluZGV4OiBudW1iZXIpID0+ICh7XG4gICAgICBpZDogU3RyaW5nKG1lc3NhZ2U/LmlkID8/IGAke2Rpc2N1c3Npb25JZH0tbXNnLSR7aW5kZXh9YCksXG4gICAgICBhZ2VudElkOiBtZXNzYWdlPy5hZ2VudElkID8/IG1lc3NhZ2U/LmFnZW50X2lkID8/IHVuZGVmaW5lZCxcbiAgICAgIGFnZW50TmFtZTogU3RyaW5nKG1lc3NhZ2U/LmFnZW50TmFtZSA/PyBtZXNzYWdlPy5hZ2VudF9uYW1lID8/ICdVbmtub3duIEFnZW50JyksXG4gICAgICBjb250ZW50OiBTdHJpbmcobWVzc2FnZT8uY29udGVudCA/PyAnJyksXG4gICAgICB0aW1lc3RhbXA6IG1lc3NhZ2U/LnRpbWVzdGFtcCA/PyBtZXNzYWdlPy5jcmVhdGVkQXQgPz8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgcm9sZTogbWVzc2FnZT8ucm9sZSA/PyB1bmRlZmluZWQsXG4gICAgfSkpO1xuICB9XG4gIHJldHVybiBbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoRGlzY3Vzc2lvbkJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8RGlzY3Vzc2lvbiB8IG51bGw+IHtcbiAgaWYgKCFpZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDxEaXNjdXNzaW9uPihgL2Rpc2N1c3Npb25zLyR7aWR9YCk7XG4gIFxuICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHJldHVybiBudWxsIHdoZW4gc2tpcHBlZFxuICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmICdza2lwcGVkJyBpbiByZXN1bHQgJiYgKHJlc3VsdCBhcyBhbnkpLnNraXBwZWQgPT09IHRydWUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBcbiAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSByZXR1cm4gbnVsbCB3aGVuIHNraXBwZWRcbiAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgXG4gIGNvbnN0IHBheWxvYWQgPSByZXN1bHQgYXMgRGlzY3Vzc2lvbjtcbiAgcmV0dXJuIHBheWxvYWQgPyBub3JtYWxpemVEaXNjdXNzaW9uKHBheWxvYWQpIDogbnVsbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoUmVqZWN0ZWRJdGVtcygpOiBQcm9taXNlPHsgcmVqZWN0ZWQ6IFJlamVjdGVkSXRlbVtdIH0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDx7IHJlamVjdGVkOiBSZWplY3RlZEl0ZW1bXSB9PignL2Rpc2N1c3Npb25zL3JlamVjdGVkLWl0ZW1zJyk7XG4gIFxuICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHJldHVybiBlbXB0eSBhcnJheSB3aGVuIHNraXBwZWRcbiAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIHsgcmVqZWN0ZWQ6IFtdIH07XG4gIH1cbiAgXG4gIGNvbnN0IHBheWxvYWQgPSByZXN1bHQgYXMgeyByZWplY3RlZDogUmVqZWN0ZWRJdGVtW10gfTtcbiAgcmV0dXJuIHBheWxvYWQgfHwgeyByZWplY3RlZDogW10gfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGVja2xpc3RJdGVtUmVzcG9uc2Uge1xuICBpZDogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgYWN0aW9uPzogc3RyaW5nO1xuICBhbW91bnQ/OiBudW1iZXI7XG4gIHJlYXNvbj86IHN0cmluZztcbiAgcmVhc29uaW5nPzogc3RyaW5nO1xuICBjb25maWRlbmNlPzogbnVtYmVyO1xuICByb3VuZD86IG51bWJlcjtcbiAgYWdlbnRJZD86IHN0cmluZztcbiAgYWdlbnROYW1lPzogc3RyaW5nO1xuICBhcHByb3ZhbFN0YXR1cz86ICdwZW5kaW5nJyB8ICdhY2NlcHRlZCcgfCAncmVqZWN0ZWQnO1xuICBhcHByb3ZhbFJlYXNvbj86IHN0cmluZyB8IG51bGw7XG4gIGFwcHJvdmVkQXQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hlY2tsaXN0UmVzcG9uc2Uge1xuICBkaXNjdXNzaW9uSWQ6IHN0cmluZztcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIGNoZWNrbGlzdDogQ2hlY2tsaXN0SXRlbVJlc3BvbnNlW107XG4gIGZpbmFsaXplZENoZWNrbGlzdDogQ2hlY2tsaXN0SXRlbVJlc3BvbnNlW107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaENoZWNrbGlzdChkaXNjdXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8Q2hlY2tsaXN0UmVzcG9uc2UgfCBudWxsPiB7XG4gIGlmICghZGlzY3Vzc2lvbklkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PENoZWNrbGlzdFJlc3BvbnNlPihgL2Rpc2N1c3Npb25zLyR7ZGlzY3Vzc2lvbklkfS9jaGVja2xpc3RgKTtcbiAgXG4gIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIC0gcmV0dXJuIG51bGwgd2hlbiBza2lwcGVkXG4gIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIFxuICByZXR1cm4gcmVzdWx0IGFzIENoZWNrbGlzdFJlc3BvbnNlIHwgbnVsbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZURpc2N1c3Npb24oXG4gIHNlY3RvcklkOiBzdHJpbmcsXG4gIHRpdGxlOiBzdHJpbmcsXG4gIGFnZW50SWRzOiBzdHJpbmdbXSA9IFtdXG4pOiBQcm9taXNlPERpc2N1c3Npb24+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDxEaXNjdXNzaW9uPignL2Rpc2N1c3Npb25zJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBzZWN0b3JJZCxcbiAgICAgIHRpdGxlLFxuICAgICAgYWdlbnRJZHMsXG4gICAgfSksXG4gIH0pO1xuICBcbiAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSB0aHJvdyBnZW5lcmljIGVycm9yIGZvciBtdXRhdGlvbnNcbiAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0IHdhcyBza2lwcGVkLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICB9XG4gIFxuICBjb25zdCBwYXlsb2FkID0gcmVzdWx0IGFzIERpc2N1c3Npb247XG4gIHJldHVybiBub3JtYWxpemVEaXNjdXNzaW9uKHBheWxvYWQpO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFkZE1lc3NhZ2VQYXJhbXMge1xuICBhZ2VudElkOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgcm9sZT86IHN0cmluZztcbiAgYWdlbnROYW1lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkRGlzY3Vzc2lvbk1lc3NhZ2UoXG4gIGRpc2N1c3Npb25JZDogc3RyaW5nLFxuICBtZXNzYWdlOiBBZGRNZXNzYWdlUGFyYW1zXG4pOiBQcm9taXNlPERpc2N1c3Npb24+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDxEaXNjdXNzaW9uPihgL2Rpc2N1c3Npb25zLyR7ZGlzY3Vzc2lvbklkfS9tZXNzYWdlYCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShtZXNzYWdlKSxcbiAgfSk7XG4gIFxuICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHRocm93IGdlbmVyaWMgZXJyb3IgZm9yIG11dGF0aW9uc1xuICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmICdza2lwcGVkJyBpbiByZXN1bHQgJiYgKHJlc3VsdCBhcyBhbnkpLnNraXBwZWQgPT09IHRydWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVlc3Qgd2FzIHNraXBwZWQuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gIH1cbiAgXG4gIGNvbnN0IHBheWxvYWQgPSByZXN1bHQgYXMgRGlzY3Vzc2lvbjtcbiAgcmV0dXJuIG5vcm1hbGl6ZURpc2N1c3Npb24ocGF5bG9hZCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZURpc2N1c3Npb24oZGlzY3Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPERpc2N1c3Npb24+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDxEaXNjdXNzaW9uPihgL2Rpc2N1c3Npb25zLyR7ZGlzY3Vzc2lvbklkfS9jbG9zZWAsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0sXG4gIH0pO1xuICBcbiAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSB0aHJvdyBnZW5lcmljIGVycm9yIGZvciBtdXRhdGlvbnNcbiAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0IHdhcyBza2lwcGVkLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICB9XG4gIFxuICBjb25zdCBwYXlsb2FkID0gcmVzdWx0IGFzIERpc2N1c3Npb247XG4gIHJldHVybiBub3JtYWxpemVEaXNjdXNzaW9uKHBheWxvYWQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlRGlzY3Vzc2lvbihkaXNjdXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZT86IHN0cmluZyB9PihgL2Rpc2N1c3Npb25zLyR7ZGlzY3Vzc2lvbklkfWAsIHtcbiAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIC8vIERvbid0IHNlbmQgQ29udGVudC1UeXBlIGhlYWRlciBmb3IgREVMRVRFIHJlcXVlc3RzIHdpdGhvdXQgYm9keVxuICB9KTtcbiAgXG4gIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIC0gdGhyb3cgZ2VuZXJpYyBlcnJvciBmb3IgbXV0YXRpb25zXG4gIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVxdWVzdCB3YXMgc2tpcHBlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgfVxuICBcbiAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc3VjY2VzcycgaW4gcmVzdWx0ICYmICFyZXN1bHQuc3VjY2Vzcykge1xuICAgIHRocm93IG5ldyBFcnJvcigocmVzdWx0IGFzIGFueSkuZXJyb3IgfHwgJ0ZhaWxlZCB0byBkZWxldGUgZGlzY3Vzc2lvbicpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcmNoaXZlRGlzY3Vzc2lvbihkaXNjdXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8RGlzY3Vzc2lvbj4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PERpc2N1c3Npb24+KGAvZGlzY3Vzc2lvbnMvJHtkaXNjdXNzaW9uSWR9L2FyY2hpdmVgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICB9KTtcbiAgXG4gIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIC0gdGhyb3cgZ2VuZXJpYyBlcnJvciBmb3IgbXV0YXRpb25zXG4gIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVxdWVzdCB3YXMgc2tpcHBlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgfVxuICBcbiAgY29uc3QgcGF5bG9hZCA9IHJlc3VsdCBhcyBEaXNjdXNzaW9uO1xuICByZXR1cm4gbm9ybWFsaXplRGlzY3Vzc2lvbihwYXlsb2FkKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFjY2VwdERpc2N1c3Npb24oZGlzY3Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPERpc2N1c3Npb24+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDxEaXNjdXNzaW9uPihgL2Rpc2N1c3Npb25zLyR7ZGlzY3Vzc2lvbklkfS9hY2NlcHRgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICB9KTtcbiAgXG4gIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIC0gdGhyb3cgZ2VuZXJpYyBlcnJvciBmb3IgbXV0YXRpb25zXG4gIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVxdWVzdCB3YXMgc2tpcHBlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgfVxuICBcbiAgY29uc3QgcGF5bG9hZCA9IHJlc3VsdCBhcyBEaXNjdXNzaW9uO1xuICByZXR1cm4gbm9ybWFsaXplRGlzY3Vzc2lvbihwYXlsb2FkKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlamVjdERpc2N1c3Npb24oZGlzY3Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPERpc2N1c3Npb24+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDxEaXNjdXNzaW9uPihgL2Rpc2N1c3Npb25zLyR7ZGlzY3Vzc2lvbklkfS9yZWplY3RgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICB9KTtcbiAgXG4gIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIC0gdGhyb3cgZ2VuZXJpYyBlcnJvciBmb3IgbXV0YXRpb25zXG4gIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVxdWVzdCB3YXMgc2tpcHBlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgfVxuICBcbiAgY29uc3QgcGF5bG9hZCA9IHJlc3VsdCBhcyBEaXNjdXNzaW9uO1xuICByZXR1cm4gbm9ybWFsaXplRGlzY3Vzc2lvbihwYXlsb2FkKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNlY3RvcihzZWN0b3JOYW1lOiBzdHJpbmcsIHNlY3RvclN5bWJvbDogc3RyaW5nKTogUHJvbWlzZTxTZWN0b3I+IHtcbiAgLy8gQnlwYXNzIHJhdGUgbGltaXRpbmcgZm9yIHVzZXItdHJpZ2dlcmVkIGFjdGlvbnMgLSBhbHdheXMgZXhlY3V0ZSBpbW1lZGlhdGVseVxuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PFNlY3Rvcj4oJy9zZWN0b3JzJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBzZWN0b3JOYW1lLFxuICAgICAgc2VjdG9yU3ltYm9sLFxuICAgIH0pLFxuICB9LCB0cnVlKTsgLy8gYnlwYXNzUmF0ZUxpbWl0ID0gdHJ1ZVxuICBcbiAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSB0aHJvdyBnZW5lcmljIGVycm9yIGZvciBtdXRhdGlvbnNcbiAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0IHdhcyBza2lwcGVkLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICB9XG4gIFxuICBjb25zdCBwYXlsb2FkID0gcmVzdWx0IGFzIFNlY3RvcjtcbiAgcmV0dXJuIG5vcm1hbGl6ZVNlY3RvcihwYXlsb2FkKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFnZW50KFxuICBwcm9tcHQ6IHN0cmluZyxcbiAgc2VjdG9ySWQ6IHN0cmluZyB8IG51bGwsXG4gIHJvbGU/OiBzdHJpbmcgfCBudWxsXG4pOiBQcm9taXNlPEFnZW50PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDx1bmtub3duPignL2FnZW50cycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcHJvbXB0LFxuICAgICAgICBzZWN0b3JJZCxcbiAgICAgICAgcm9sZTogcm9sZSB8fCBudWxsLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHRocm93IGdlbmVyaWMgZXJyb3IgZm9yIG11dGF0aW9uc1xuICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0IHdhcyBza2lwcGVkLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgIH1cblxuICAgIGNvbnN0IHBheWxvYWQgPSByZXN1bHQgYXMgdW5rbm93bjtcblxuICAgIC8vIEhhbmRsZSBib3RoIGB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IEFnZW50IH1gIGFuZCBkaXJlY3QgYEFnZW50YFxuICAgIGxldCByYXdBZ2VudDogdW5rbm93bjtcblxuICAgIGlmIChcbiAgICAgIHBheWxvYWQgJiZcbiAgICAgIHR5cGVvZiBwYXlsb2FkID09PSAnb2JqZWN0JyAmJlxuICAgICAgJ3N1Y2Nlc3MnIGluIHBheWxvYWQgJiZcbiAgICAgIChwYXlsb2FkIGFzIGFueSkuc3VjY2VzcyA9PT0gdHJ1ZSAmJlxuICAgICAgJ2RhdGEnIGluIHBheWxvYWRcbiAgICApIHtcbiAgICAgIHJhd0FnZW50ID0gKHBheWxvYWQgYXMgYW55KS5kYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICByYXdBZ2VudCA9IHBheWxvYWQ7XG4gICAgfVxuXG4gICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBleHBlY3QgYHJhd0FnZW50YCB0byBiZSBhbiBBZ2VudC1saWtlIG9iamVjdFxuICAgIGNvbnN0IGFnZW50ID0gbm9ybWFsaXplQWdlbnQocmF3QWdlbnQgYXMgQWdlbnQpO1xuICAgIHJldHVybiBhZ2VudDtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIC8vIFByZXNlcnZlIGVycm9yIHN0cnVjdHVyZSAoaW5jbHVkaW5nIGVycm9yLnJlc3BvbnNlKSBmb3IgcHJvcGVyIGVycm9yIGhhbmRsaW5nIGluIG1vZGFsc1xuICAgIC8vIEV4dHJhY3QgZXJyb3IgbWVzc2FnZSBmcm9tIHZhcmlvdXMgcG9zc2libGUgZm9ybWF0c1xuICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgKGVycm9yICYmIGVycm9yLm1lc3NhZ2UpIHx8XG4gICAgICAnRmFpbGVkIHRvIGNyZWF0ZSBhZ2VudC4gUGxlYXNlIHRyeSBhZ2Fpbi4nO1xuXG4gICAgLy8gUmUtdGhyb3cgd2l0aCBwcmVzZXJ2ZWQgc3RydWN0dXJlXG4gICAgY29uc3QgbmV3RXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSkgYXMgYW55O1xuICAgIGlmIChlcnJvcj8ucmVzcG9uc2UpIHtcbiAgICAgIG5ld0Vycm9yLnJlc3BvbnNlID0gZXJyb3IucmVzcG9uc2U7XG4gICAgfVxuICAgIHRocm93IG5ld0Vycm9yO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2ltdWxhdGVUaWNrUmVzdWx0IHtcbiAgc2VjdG9ySWQ6IHN0cmluZztcbiAgdGltZXN0YW1wOiBudW1iZXI7XG4gIG5ld1ByaWNlOiBudW1iZXI7XG4gIHJpc2tTY29yZTogbnVtYmVyO1xuICBleGVjdXRlZFRyYWRlczogYW55W107XG4gIHJlamVjdGVkVHJhZGVzOiBhbnlbXTtcbiAgb3JkZXJib29rOiBhbnk7XG4gIGxhc3RUcmFkZTogYW55O1xuICBwcmljZUNoYW5nZTogbnVtYmVyO1xuICBwcmljZUNoYW5nZVBlcmNlbnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpbXVsYXRlVGljayhzZWN0b3JJZDogc3RyaW5nLCBkZWNpc2lvbnM6IGFueVtdID0gW10pOiBQcm9taXNlPFNpbXVsYXRlVGlja1Jlc3VsdD4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogU2ltdWxhdGVUaWNrUmVzdWx0IH0gfCBTaW11bGF0ZVRpY2tSZXN1bHQ+KGAvc2ltdWxhdGlvbi90aWNrYCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBzZWN0b3JJZCxcbiAgICAgIGRlY2lzaW9ucyxcbiAgICB9KSxcbiAgfSk7XG4gIFxuICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHRocm93IGdlbmVyaWMgZXJyb3IgZm9yIG11dGF0aW9uc1xuICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmICdza2lwcGVkJyBpbiByZXN1bHQgJiYgKHJlc3VsdCBhcyBhbnkpLnNraXBwZWQgPT09IHRydWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVlc3Qgd2FzIHNraXBwZWQuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gIH1cbiAgXG4gIGNvbnN0IHBheWxvYWQgPSByZXN1bHQgYXMgeyBzdWNjZXNzOiBib29sZWFuOyBkYXRhOiBTaW11bGF0ZVRpY2tSZXN1bHQgfSB8IFNpbXVsYXRlVGlja1Jlc3VsdDtcbiAgXG4gIC8vIEhhbmRsZSBib3RoIHdyYXBwZWQgYW5kIHVud3JhcHBlZCByZXNwb25zZXNcbiAgaWYgKHBheWxvYWQgJiYgdHlwZW9mIHBheWxvYWQgPT09ICdvYmplY3QnICYmICdzdWNjZXNzJyBpbiBwYXlsb2FkICYmICdkYXRhJyBpbiBwYXlsb2FkKSB7XG4gICAgcmV0dXJuIChwYXlsb2FkIGFzIHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogU2ltdWxhdGVUaWNrUmVzdWx0IH0pLmRhdGE7XG4gIH1cbiAgcmV0dXJuIHBheWxvYWQgYXMgU2ltdWxhdGVUaWNrUmVzdWx0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2VjdG9yUGVyZm9ybWFuY2Uoc2VjdG9ySWQ6IHN0cmluZyk6IFByb21pc2U8U2VjdG9yPiB7XG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0PHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogU2VjdG9yIH0gfCBTZWN0b3I+KGAvc2ltdWxhdGlvbi8ke3NlY3RvcklkfS9wZXJmb3JtYW5jZWAsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0sXG4gIH0pO1xuICBcbiAgLy8gSGFuZGxlIGJvdGggd3JhcHBlZCBhbmQgdW53cmFwcGVkIHJlc3BvbnNlc1xuICBsZXQgc2VjdG9yRGF0YTogYW55ID0gcGF5bG9hZDtcbiAgaWYgKHBheWxvYWQgJiYgdHlwZW9mIHBheWxvYWQgPT09ICdvYmplY3QnICYmICdzdWNjZXNzJyBpbiBwYXlsb2FkICYmICdkYXRhJyBpbiBwYXlsb2FkKSB7XG4gICAgc2VjdG9yRGF0YSA9IChwYXlsb2FkIGFzIHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogU2VjdG9yIH0pLmRhdGE7XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZVNlY3RvcihzZWN0b3JEYXRhKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlcG9zaXRTZWN0b3Ioc2VjdG9ySWQ6IHN0cmluZywgYW1vdW50OiBudW1iZXIpOiBQcm9taXNlPFNlY3Rvcj4ge1xuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE6IFNlY3RvciB9IHwgU2VjdG9yPihgL3NlY3RvcnMvJHtzZWN0b3JJZH0vZGVwb3NpdGAsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhbW91bnQgfSksXG4gIH0pO1xuICBcbiAgLy8gSGFuZGxlIGJvdGggd3JhcHBlZCBhbmQgdW53cmFwcGVkIHJlc3BvbnNlc1xuICBsZXQgc2VjdG9yRGF0YTogYW55ID0gcGF5bG9hZDtcbiAgaWYgKHBheWxvYWQgJiYgdHlwZW9mIHBheWxvYWQgPT09ICdvYmplY3QnICYmICdzdWNjZXNzJyBpbiBwYXlsb2FkICYmICdkYXRhJyBpbiBwYXlsb2FkKSB7XG4gICAgc2VjdG9yRGF0YSA9IChwYXlsb2FkIGFzIHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogU2VjdG9yIH0pLmRhdGE7XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZVNlY3RvcihzZWN0b3JEYXRhKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFnZW50KGFnZW50SWQ6IHN0cmluZywgdXBkYXRlczoge1xuICBuYW1lPzogc3RyaW5nO1xuICByb2xlPzogc3RyaW5nO1xuICBwcm9tcHQ/OiBzdHJpbmc7XG4gIHNlY3RvcklkPzogc3RyaW5nIHwgbnVsbDtcbiAgcGVyc29uYWxpdHk/OiB7XG4gICAgcmlza1RvbGVyYW5jZT86IHN0cmluZztcbiAgICBkZWNpc2lvblN0eWxlPzogc3RyaW5nO1xuICB9O1xuICBwcmVmZXJlbmNlcz86IHtcbiAgICByaXNrV2VpZ2h0PzogbnVtYmVyO1xuICAgIHByb2ZpdFdlaWdodD86IG51bWJlcjtcbiAgICBzcGVlZFdlaWdodD86IG51bWJlcjtcbiAgICBhY2N1cmFjeVdlaWdodD86IG51bWJlcjtcbiAgfTtcbn0pOiBQcm9taXNlPEFnZW50PiB7XG4gIC8vIE5vcm1hbGl6ZSBhbmQgdmFsaWRhdGUgSUQgYmVmb3JlIG1ha2luZyByZXF1ZXN0XG4gIGNvbnN0IG5vcm1hbGl6ZWRJZCA9IG5vcm1hbGl6ZUFnZW50SWQoYWdlbnRJZCk7XG4gIGlmICghbm9ybWFsaXplZElkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFnZW50IElEIHByb3ZpZGVkJyk7XG4gIH1cblxuICAvLyBCeXBhc3MgcmF0ZSBsaW1pdGluZyBmb3IgdXNlci10cmlnZ2VyZWQgYWN0aW9ucyAtIGFsd2F5cyBleGVjdXRlIGltbWVkaWF0ZWx5XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3Q8QWdlbnQ+KGAvYWdlbnRzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KG5vcm1hbGl6ZWRJZCl9YCwge1xuICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZXMpLFxuICB9LCB0cnVlKTsgLy8gYnlwYXNzUmF0ZUxpbWl0ID0gdHJ1ZVxuICBcbiAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSB0aHJvdyBnZW5lcmljIGVycm9yIGZvciBtdXRhdGlvbnNcbiAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0IHdhcyBza2lwcGVkLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICB9XG4gIFxuICBjb25zdCBwYXlsb2FkID0gcmVzdWx0IGFzIEFnZW50O1xuICByZXR1cm4gbm9ybWFsaXplQWdlbnQocGF5bG9hZCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVBZ2VudChhZ2VudElkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gTm9ybWFsaXplIGFuZCB2YWxpZGF0ZSBJRCBiZWZvcmUgbWFraW5nIHJlcXVlc3RcbiAgY29uc3Qgbm9ybWFsaXplZElkID0gbm9ybWFsaXplQWdlbnRJZChhZ2VudElkKTtcbiAgaWYgKCFub3JtYWxpemVkSWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYWdlbnQgSUQgcHJvdmlkZWQnKTtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlPzogc3RyaW5nIH0+KGAvYWdlbnRzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KG5vcm1hbGl6ZWRJZCl9YCwge1xuICAgIG1ldGhvZDogJ0RFTEVURScsXG4gIH0pO1xuICBcbiAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSB0aHJvdyBnZW5lcmljIGVycm9yIGZvciBtdXRhdGlvbnNcbiAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0IHdhcyBza2lwcGVkLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVTZWN0b3Ioc2VjdG9ySWQ6IHN0cmluZywgY29uZmlybWF0aW9uQ29kZTogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U/OiBzdHJpbmc7IHdpdGhkcmF3bkJhbGFuY2U/OiBudW1iZXIgfT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZT86IHN0cmluZzsgd2l0aGRyYXduQmFsYW5jZT86IG51bWJlciB9PihgL3NlY3RvcnMvJHtzZWN0b3JJZH1gLCB7XG4gICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjb25maXJtYXRpb25Db2RlIH0pLFxuICB9KTtcbiAgXG4gIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIC0gdGhyb3cgZ2VuZXJpYyBlcnJvciBmb3IgbXV0YXRpb25zXG4gIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVxdWVzdCB3YXMgc2tpcHBlZC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgfVxuICBcbiAgY29uc3QgcGF5bG9hZCA9IHJlc3VsdCBhcyB7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U/OiBzdHJpbmc7IHdpdGhkcmF3bkJhbGFuY2U/OiBudW1iZXIgfTtcbiAgcmV0dXJuIHBheWxvYWQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQmFsYW5jZSgpOiBQcm9taXNlPG51bWJlcj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3Q8eyBiYWxhbmNlOiBudW1iZXIgfT4oJy91c2VyL2JhbGFuY2UnKTtcbiAgICBcbiAgICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHJldHVybiAwIHdoZW4gc2tpcHBlZFxuICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRhdGEgPSByZXN1bHQgYXMgeyBiYWxhbmNlOiBudW1iZXIgfTtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEuYmFsYW5jZSA9PT0gJ251bWJlcicgPyBkYXRhLmJhbGFuY2UgOiAwO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB1c2VyIGJhbGFuY2U6JywgZXJyb3IpO1xuICAgIHJldHVybiAwO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZmlkZW5jZVRpY2tSZXN1bHQge1xuICBhZ2VudHM6IEFycmF5PHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBjb25maWRlbmNlOiBudW1iZXI7XG4gIH0+O1xuICBkaXNjdXNzaW9uUmVhZHk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5Db25maWRlbmNlVGljayhzZWN0b3JJZDogc3RyaW5nKTogUHJvbWlzZTxDb25maWRlbmNlVGlja1Jlc3VsdCB8IG51bGw+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PENvbmZpZGVuY2VUaWNrUmVzdWx0PihgL3NlY3RvcnMvJHtzZWN0b3JJZH0vY29uZmlkZW5jZS10aWNrYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHt9KSxcbiAgICB9KTtcbiAgICBcbiAgICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHJldHVybiBudWxsIHdoZW4gc2tpcHBlZCBzbyBwb2xsaW5nIGNhbiBjb250aW51ZSBzaWxlbnRseVxuICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZXN1bHQgYXMgQ29uZmlkZW5jZVRpY2tSZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAvLyBSZS10aHJvdyBlcnJvcnMgKG9ubHkgcmVhbCBIVFRQIGVycm9ycyBzaG91bGQgcmVhY2ggaGVyZSlcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE1lc3NhZ2VUb01hbmFnZXIoc2VjdG9ySWQ6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2U/OiBzdHJpbmcgfT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlPzogc3RyaW5nIH0+KGAvc2VjdG9ycy8ke3NlY3RvcklkfS9tZXNzYWdlLW1hbmFnZXJgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2UgfSksXG4gICAgfSk7XG4gICAgXG4gICAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmdcbiAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmICdza2lwcGVkJyBpbiByZXN1bHQgJiYgKHJlc3VsdCBhcyBhbnkpLnNraXBwZWQgPT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWVzdCB3YXMgcmF0ZS1saW1pdGVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0IGFzIHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZT86IHN0cmluZyB9O1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBTeXN0ZW0gbW9kZSB0eXBlc1xuICovXG5leHBvcnQgdHlwZSBTeXN0ZW1Nb2RlID0gJ3NpbXVsYXRpb24nIHwgJ3JlYWx0aW1lJztcblxuLyoqXG4gKiBHZXQgY3VycmVudCBzeXN0ZW0gbW9kZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U3lzdGVtTW9kZSgpOiBQcm9taXNlPFN5c3RlbU1vZGU+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PHsgc3VjY2VzczogYm9vbGVhbjsgbW9kZTogU3lzdGVtTW9kZSB9PignL3N5c3RlbS9tb2RlJywge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICB9KTtcbiAgICBcbiAgICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZ1xuICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0IHdhcyByYXRlLWxpbWl0ZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHBheWxvYWQgPSByZXN1bHQgYXMgeyBzdWNjZXNzOiBib29sZWFuOyBtb2RlOiBTeXN0ZW1Nb2RlIH07XG4gICAgcmV0dXJuIHBheWxvYWQubW9kZTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8qKlxuICogU2V0IHN5c3RlbSBtb2RlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRTeXN0ZW1Nb2RlKG1vZGU6IFN5c3RlbU1vZGUpOiBQcm9taXNlPFN5c3RlbU1vZGU+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PHsgc3VjY2VzczogYm9vbGVhbjsgbW9kZTogU3lzdGVtTW9kZSB9PignL3N5c3RlbS9tb2RlJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBtb2RlIH0pLFxuICAgIH0pO1xuICAgIFxuICAgIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nXG4gICAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVlc3Qgd2FzIHJhdGUtbGltaXRlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcGF5bG9hZCA9IHJlc3VsdCBhcyB7IHN1Y2Nlc3M6IGJvb2xlYW47IG1vZGU6IFN5c3RlbU1vZGUgfTtcbiAgICByZXR1cm4gcGF5bG9hZC5tb2RlO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGVhciBhbGwgZGlzY3Vzc2lvbnMgKGRldmVsb3BtZW50IG9ubHkpXG4gKiBOb3RlOiBVc2VzIGJhY2tlbmQgYmFzZSBVUkwgZGlyZWN0bHkgc2luY2UgZGVidWcgcm91dGVzIGFyZSBhdCAvZGVidWcgKG5vdCAvYXBpL2RlYnVnKVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYXJBbGxEaXNjdXNzaW9ucygpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZGVsZXRlZENvdW50OiBudW1iZXIgfT4ge1xuICB0cnkge1xuICAgIC8vIFVzZSBiYWNrZW5kIGJhc2UgVVJMIGRpcmVjdGx5IHNpbmNlIGRlYnVnIHJvdXRlcyBhcmUgbm90IHVuZGVyIC9hcGlcbiAgICBjb25zdCBiYWNrZW5kQmFzZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gZ2V0QmFja2VuZEJhc2VVcmwoKSA6IEJBQ0tFTkQ7XG4gICAgY29uc3QgZnVsbFVybCA9IGAke2JhY2tlbmRCYXNlfS9kZWJ1Zy9kaXNjdXNzaW9ucy9jbGVhcmA7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByYXRlTGltaXRlZEZldGNoKFxuICAgICAgZnVsbFVybCxcbiAgICAgIDUwMCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgY2FjaGU6ICduby1zdG9yZScsXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnb21pdCcsXG4gICAgICB9LFxuICAgICAgeyBieXBhc3M6IHRydWUgfSAvLyBCeXBhc3MgcmF0ZSBsaW1pdGluZyBmb3IgdXNlci10cmlnZ2VyZWQgYWN0aW9uc1xuICAgICk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gYFJlcXVlc3QgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c31gO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBpZiAoZXJyb3JEYXRhLmVycm9yKSB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSB0ZXh0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiBwYXlsb2FkIGFzIHsgc3VjY2VzczogYm9vbGVhbjsgZGVsZXRlZENvdW50OiBudW1iZXIgfTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbiJdLCJuYW1lcyI6WyJnZXRBcGlCYXNlVXJsIiwiZ2V0QmFja2VuZEJhc2VVcmwiLCJyYXRlTGltaXRlZEZldGNoIiwiaXNSYXRlTGltaXRFcnJvciIsImVycm9yIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJjb2RlIiwiaXNTa2lwcGVkUmVzdWx0IiwicmVzdWx0Iiwic2tpcHBlZCIsImdldEFwaUJhc2UiLCJhcGlVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsInJlcGxhY2UiLCJiYWNrZW5kIiwiTkVYVF9QVUJMSUNfTUFYX0JBQ0tFTkRfVVJMIiwiTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwiLCJBUElfQkFTRSIsIkJBQ0tFTkQiLCJ1bndyYXBQYXlsb2FkIiwicGF5bG9hZCIsImRhdGEiLCJub3JtYWxpemVBZ2VudElkIiwiaWQiLCJub3JtYWxpemVkIiwiU3RyaW5nIiwidHJpbSIsInJlcXVlc3QiLCJwYXRoIiwiaW5pdCIsImJ5cGFzc1JhdGVMaW1pdCIsImFwaUJhc2UiLCJmdWxsVXJsIiwiY29uc29sZSIsImxvZyIsIm1ldGhvZCIsImNhY2hlIiwiY3JlZGVudGlhbHMiLCJieXBhc3MiLCJvayIsImVycm9yTWVzc2FnZSIsImVycm9yUmVzcG9uc2UiLCJlcnJvckRhdGEiLCJqc29uIiwic3VjY2VzcyIsInRleHQiLCJFcnJvciIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsIm5hbWUiLCJiYWNrZW5kVXJsIiwiYXR0ZW1wdGVkVXJsIiwiZW52QXBpVXJsIiwiZW52QmFja2VuZFVybCIsIm5vcm1hbGl6ZUNhbmRsZURhdGEiLCJlbnRyeSIsImluZGV4IiwiZmFsbGJhY2tQcmljZSIsInRpbWUiLCJ2YWx1ZSIsInZhbHVlQ2FuZGlkYXRlIiwiY2xvc2UiLCJob3VycyIsIm1pbnV0ZXMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJ0b0ZpeGVkIiwibm9ybWFsaXplQWdlbnQiLCJyYXciLCJwZXJmb3JtYW5jZVZhbHVlIiwicGVyZm9ybWFuY2UiLCJwbmwiLCJ0cmFkZXNDb3VudCIsIkFycmF5IiwiaXNBcnJheSIsInRyYWRlcyIsImxlbmd0aCIsInJvbGUiLCJzZWN0b3JJZCIsInNlY3Rvcl9pZCIsInNlY3RvclN5bWJvbCIsInNlY3Rvcl9zeW1ib2wiLCJ1bmRlZmluZWQiLCJzZWN0b3JOYW1lIiwic2VjdG9yX25hbWUiLCJwZXJzb25hbGl0eSIsInJpc2tUb2xlcmFuY2UiLCJyaXNrX3RvbGVyYW5jZSIsImRlY2lzaW9uU3R5bGUiLCJkZWNpc2lvbl9zdHlsZSIsInByb21wdCIsInByZWZlcmVuY2VzIiwicmlza1dlaWdodCIsInByb2ZpdFdlaWdodCIsInNwZWVkV2VpZ2h0IiwiYWNjdXJhY3lXZWlnaHQiLCJtb3JhbGUiLCJyZXdhcmRQb2ludHMiLCJjb25maWRlbmNlIiwiY3JlYXRlZEF0IiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInJhd1RyYWRlcyIsInJhd1BlcmZvcm1hbmNlIiwibm9ybWFsaXplRGlzY3Vzc2lvbiIsIm1lc3NhZ2VzIiwibWFwIiwiYWdlbnRJZCIsImFnZW50X2lkIiwiYWdlbnROYW1lIiwiYWdlbnRfbmFtZSIsImNvbnRlbnQiLCJ0aW1lc3RhbXAiLCJjaGVja2xpc3REcmFmdCIsIml0ZW0iLCJyb3VuZCIsImNoZWNrbGlzdCIsImFjdGlvbiIsImFtb3VudCIsInJlYXNvbiIsInJlYXNvbmluZyIsImZpbmFsaXplZENoZWNrbGlzdCIsInRpdGxlIiwiYWdlbnRJZHMiLCJhZ2VudF9pZHMiLCJtZXNzYWdlc0NvdW50IiwibWVzc2FnZUNvdW50IiwidXBkYXRlZEF0IiwidXBkYXRlZF9hdCIsIm5vcm1hbGl6ZVNlY3RvciIsImJhc2VQcmljZSIsImN1cnJlbnRQcmljZSIsInByaWNlIiwiYWdlbnRzIiwiYWdlbnQiLCJzeW1ib2wiLCJjYW5kbGVEYXRhIiwiZmlsdGVyIiwicG9pbnQiLCJCb29sZWFuIiwiZGlzY3Vzc2lvbnMiLCJkaXNjdXNzaW9uIiwiYWN0aXZlQWdlbnRzIiwiYWN0aXZlX2FnZW50cyIsImNoYW5nZSIsImNoYW5nZVBlcmNlbnQiLCJjaGFuZ2VfcGVyY2VudCIsInZvbHVtZSIsInZvbGF0aWxpdHkiLCJyaXNrU2NvcmUiLCJidXlBZ2VudHMiLCJidXlfYWdlbnRzIiwic2VsbEFnZW50cyIsInNlbGxfYWdlbnRzIiwic3RhdHVzUGVyY2VudCIsInN0YXR1c19wZXJjZW50IiwiYmFsYW5jZSIsImxhc3RTaW11bGF0ZWRQcmljZSIsImRlc2NyaXB0aW9uIiwiZmV0Y2hTZWN0b3JzIiwiZmV0Y2hTZWN0b3JCeUlkIiwibm9ybWFsaXplZElkIiwidG9Mb3dlckNhc2UiLCJmZXRjaE1hbmFnZXJTdGF0dXMiLCJmZXRjaE1hbmFnZXJEZWNpc2lvbnMiLCJmZXRjaEFnZW50cyIsImZldGNoQWdlbnRCeUlkIiwid2FybiIsImVuY29kZVVSSUNvbXBvbmVudCIsImZldGNoRGlzY3Vzc2lvbnMiLCJwYWdlIiwicGFnZVNpemUiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJhcHBlbmQiLCJwYWdpbmF0aW9uIiwidG90YWwiLCJ0b3RhbFBhZ2VzIiwiZmV0Y2hEaXNjdXNzaW9uTWVzc2FnZXMiLCJkaXNjdXNzaW9uSWQiLCJmZXRjaERpc2N1c3Npb25CeUlkIiwiZmV0Y2hSZWplY3RlZEl0ZW1zIiwicmVqZWN0ZWQiLCJmZXRjaENoZWNrbGlzdCIsImNyZWF0ZURpc2N1c3Npb24iLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGREaXNjdXNzaW9uTWVzc2FnZSIsImNsb3NlRGlzY3Vzc2lvbiIsImRlbGV0ZURpc2N1c3Npb24iLCJhcmNoaXZlRGlzY3Vzc2lvbiIsImFjY2VwdERpc2N1c3Npb24iLCJyZWplY3REaXNjdXNzaW9uIiwiY3JlYXRlU2VjdG9yIiwiY3JlYXRlQWdlbnQiLCJyYXdBZ2VudCIsIm5ld0Vycm9yIiwic2ltdWxhdGVUaWNrIiwiZGVjaXNpb25zIiwidXBkYXRlU2VjdG9yUGVyZm9ybWFuY2UiLCJzZWN0b3JEYXRhIiwiZGVwb3NpdFNlY3RvciIsInVwZGF0ZUFnZW50IiwidXBkYXRlcyIsImRlbGV0ZUFnZW50IiwiZGVsZXRlU2VjdG9yIiwiY29uZmlybWF0aW9uQ29kZSIsImdldFVzZXJCYWxhbmNlIiwicnVuQ29uZmlkZW5jZVRpY2siLCJzZW5kTWVzc2FnZVRvTWFuYWdlciIsImdldFN5c3RlbU1vZGUiLCJtb2RlIiwic2V0U3lzdGVtTW9kZSIsImNsZWFyQWxsRGlzY3Vzc2lvbnMiLCJiYWNrZW5kQmFzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/api.ts\n"));

/***/ })

});