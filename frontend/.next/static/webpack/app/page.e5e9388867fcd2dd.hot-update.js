"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   acceptDiscussion: function() { return /* binding */ acceptDiscussion; },\n/* harmony export */   addDiscussionMessage: function() { return /* binding */ addDiscussionMessage; },\n/* harmony export */   archiveDiscussion: function() { return /* binding */ archiveDiscussion; },\n/* harmony export */   closeDiscussion: function() { return /* binding */ closeDiscussion; },\n/* harmony export */   createAgent: function() { return /* binding */ createAgent; },\n/* harmony export */   createDiscussion: function() { return /* binding */ createDiscussion; },\n/* harmony export */   createSector: function() { return /* binding */ createSector; },\n/* harmony export */   deleteAgent: function() { return /* binding */ deleteAgent; },\n/* harmony export */   deleteSector: function() { return /* binding */ deleteSector; },\n/* harmony export */   depositSector: function() { return /* binding */ depositSector; },\n/* harmony export */   fetchAgentById: function() { return /* binding */ fetchAgentById; },\n/* harmony export */   fetchAgents: function() { return /* binding */ fetchAgents; },\n/* harmony export */   fetchDiscussionById: function() { return /* binding */ fetchDiscussionById; },\n/* harmony export */   fetchDiscussions: function() { return /* binding */ fetchDiscussions; },\n/* harmony export */   fetchManagerDecisions: function() { return /* binding */ fetchManagerDecisions; },\n/* harmony export */   fetchManagerStatus: function() { return /* binding */ fetchManagerStatus; },\n/* harmony export */   fetchSectorById: function() { return /* binding */ fetchSectorById; },\n/* harmony export */   fetchSectors: function() { return /* binding */ fetchSectors; },\n/* harmony export */   getUserBalance: function() { return /* binding */ getUserBalance; },\n/* harmony export */   isRateLimitError: function() { return /* binding */ isRateLimitError; },\n/* harmony export */   rejectDiscussion: function() { return /* binding */ rejectDiscussion; },\n/* harmony export */   runConfidenceTick: function() { return /* binding */ runConfidenceTick; },\n/* harmony export */   simulateTick: function() { return /* binding */ simulateTick; },\n/* harmony export */   updateAgent: function() { return /* binding */ updateAgent; },\n/* harmony export */   updateSectorPerformance: function() { return /* binding */ updateSectorPerformance; }\n/* harmony export */ });\n/* harmony import */ var _desktopEnv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./desktopEnv */ \"(app-pages-browser)/./lib/desktopEnv.ts\");\n/* harmony import */ var _rateLimit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rateLimit */ \"(app-pages-browser)/./lib/rateLimit.ts\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n\n\n/**\n * Check if an error is a rate limit error that should be handled silently\n */ function isRateLimitError(error) {\n    return (error === null || error === void 0 ? void 0 : error.isRateLimit) === true || error instanceof Error && error.message.includes(\"rate limited\");\n}\n// Use desktop-aware base URL\nconst getApiBase = ()=>{\n    if (true) {\n        // Client-side: use dynamic detection\n        return (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)();\n    }\n    // Server-side: use environment variable or default\n    // Support NEXT_PUBLIC_API_URL (full API URL) or NEXT_PUBLIC_MAX_BACKEND_URL/NEXT_PUBLIC_BACKEND_URL (base URL)\n    const apiUrl = \"http://localhost:8000/api\";\n    if (apiUrl) {\n        return apiUrl.replace(/\\/$/, \"\");\n    }\n    const backend = process.env.NEXT_PUBLIC_MAX_BACKEND_URL || process.env.NEXT_PUBLIC_BACKEND_URL || \"http://localhost:8000\";\n    return \"\".concat(backend.replace(/\\/$/, \"\"), \"/api\");\n};\nconst API_BASE = getApiBase();\nconst BACKEND = (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getBackendBaseUrl)();\nfunction unwrapPayload(payload) {\n    if (payload && typeof payload === \"object\" && \"data\" in payload) {\n        return payload.data;\n    }\n    return payload;\n}\nasync function request(path, init) {\n    try {\n        // Get API base URL dynamically (handles desktop vs web mode)\n        const apiBase =  true ? (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)() : 0;\n        const fullUrl = \"\".concat(apiBase).concat(path);\n        // Debug logging (always log to help debug issues)\n        if (true) {\n            console.log(\"[API Request] \".concat((init === null || init === void 0 ? void 0 : init.method) || \"GET\", \" \").concat(fullUrl));\n        }\n        const responseResult = await (0,_rateLimit__WEBPACK_IMPORTED_MODULE_1__.rateLimitedFetch)(fullUrl, 2500, {\n            cache: \"no-store\",\n            credentials: \"omit\",\n            ...init\n        });\n        // Handle rate limiting - return skipped status instead of throwing\n        if (responseResult && typeof responseResult === \"object\" && \"skipped\" in responseResult && responseResult.skipped === true) {\n            return {\n                skipped: true\n            };\n        }\n        const response = responseResult;\n        if (!response.ok) {\n            let errorMessage = \"Request failed: \".concat(response.status);\n            try {\n                const errorData = await response.json();\n                if (errorData.error) {\n                    errorMessage = errorData.error;\n                } else if (typeof errorData === \"string\") {\n                    errorMessage = errorData;\n                }\n            } catch (e) {\n                const text = await response.text();\n                if (text) {\n                    errorMessage = text;\n                }\n            }\n            throw new Error(errorMessage);\n        }\n        const payload = await response.json();\n        return unwrapPayload(payload);\n    } catch (error) {\n        if (error instanceof Error) {\n            // Check if it's a network error\n            if (error.message.includes(\"fetch\") || error.message.includes(\"Failed to fetch\") || error.message.includes(\"NetworkError\") || error.name === \"TypeError\") {\n                // Always use dynamic detection for error messages\n                const apiBase =  true ? (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getApiBaseUrl)() : 0;\n                const backendUrl = (0,_desktopEnv__WEBPACK_IMPORTED_MODULE_0__.getBackendBaseUrl)();\n                const fullUrl = \"\".concat(apiBase).concat(path);\n                // Log more details in development\n                if (true) {\n                    console.error(\"[API Error]\", {\n                        error: error.message,\n                        name: error.name,\n                        attemptedUrl: fullUrl,\n                        backendUrl,\n                        envApiUrl: \"http://localhost:8000/api\",\n                        envBackendUrl: process.env.NEXT_PUBLIC_MAX_BACKEND_URL || process.env.NEXT_PUBLIC_BACKEND_URL\n                    });\n                }\n                throw new Error(\"Cannot connect to backend server. Please ensure the backend is running on \".concat(backendUrl, \". Attempted URL: \").concat(fullUrl));\n            }\n            throw error;\n        }\n        throw new Error(\"An unknown error occurred\");\n    }\n}\nfunction normalizeCandleData(entry, index, fallbackPrice) {\n    if (entry && typeof entry.time === \"string\" && typeof entry.value === \"number\") {\n        return entry;\n    }\n    const valueCandidate = typeof (entry === null || entry === void 0 ? void 0 : entry.value) === \"number\" ? entry.value : typeof (entry === null || entry === void 0 ? void 0 : entry.close) === \"number\" ? entry.close : typeof fallbackPrice === \"number\" ? fallbackPrice : 0;\n    const hours = index * 2 % 24;\n    const minutes = index * 5 % 60;\n    const time = \"\".concat(hours.toString().padStart(2, \"0\"), \":\").concat(minutes.toString().padStart(2, \"0\"));\n    if (!Number.isFinite(valueCandidate)) {\n        return null;\n    }\n    return {\n        time,\n        value: Number(valueCandidate.toFixed(2))\n    };\n}\nfunction normalizeAgent(raw) {\n    var _raw_performance, _raw_personality, _raw_personality1, _raw_personality2, _raw_personality3;\n    const performanceValue = typeof (raw === null || raw === void 0 ? void 0 : raw.performance) === \"number\" ? raw.performance : typeof (raw === null || raw === void 0 ? void 0 : (_raw_performance = raw.performance) === null || _raw_performance === void 0 ? void 0 : _raw_performance.pnl) === \"number\" ? raw.performance.pnl : 0;\n    const tradesCount = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.trades) ? raw.trades.length : typeof (raw === null || raw === void 0 ? void 0 : raw.trades) === \"number\" ? raw.trades : 0;\n    var _raw_id, _raw_name, _raw_role, _raw_status, _raw_sectorId, _ref, _raw_sectorSymbol, _ref1, _raw_sectorName, _ref2, _raw_personality_riskTolerance, _ref3, _raw_personality_decisionStyle, _ref4, _raw_createdAt, _ref5;\n    return {\n        id: String((_raw_id = raw === null || raw === void 0 ? void 0 : raw.id) !== null && _raw_id !== void 0 ? _raw_id : \"\"),\n        name: String((_raw_name = raw === null || raw === void 0 ? void 0 : raw.name) !== null && _raw_name !== void 0 ? _raw_name : \"Unnamed Agent\"),\n        role: String((_raw_role = raw === null || raw === void 0 ? void 0 : raw.role) !== null && _raw_role !== void 0 ? _raw_role : \"agent\"),\n        performance: Number(performanceValue || 0),\n        trades: Number(tradesCount || 0),\n        status: (_raw_status = raw === null || raw === void 0 ? void 0 : raw.status) !== null && _raw_status !== void 0 ? _raw_status : \"idle\",\n        sectorId: (_ref = (_raw_sectorId = raw === null || raw === void 0 ? void 0 : raw.sectorId) !== null && _raw_sectorId !== void 0 ? _raw_sectorId : raw === null || raw === void 0 ? void 0 : raw.sector_id) !== null && _ref !== void 0 ? _ref : null,\n        sectorSymbol: (_ref1 = (_raw_sectorSymbol = raw === null || raw === void 0 ? void 0 : raw.sectorSymbol) !== null && _raw_sectorSymbol !== void 0 ? _raw_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.sector_symbol) !== null && _ref1 !== void 0 ? _ref1 : undefined,\n        sectorName: (_ref2 = (_raw_sectorName = raw === null || raw === void 0 ? void 0 : raw.sectorName) !== null && _raw_sectorName !== void 0 ? _raw_sectorName : raw === null || raw === void 0 ? void 0 : raw.sector_name) !== null && _ref2 !== void 0 ? _ref2 : undefined,\n        personality: {\n            riskTolerance: (_ref3 = (_raw_personality_riskTolerance = raw === null || raw === void 0 ? void 0 : (_raw_personality = raw.personality) === null || _raw_personality === void 0 ? void 0 : _raw_personality.riskTolerance) !== null && _raw_personality_riskTolerance !== void 0 ? _raw_personality_riskTolerance : raw === null || raw === void 0 ? void 0 : (_raw_personality1 = raw.personality) === null || _raw_personality1 === void 0 ? void 0 : _raw_personality1.risk_tolerance) !== null && _ref3 !== void 0 ? _ref3 : \"Unknown\",\n            decisionStyle: (_ref4 = (_raw_personality_decisionStyle = raw === null || raw === void 0 ? void 0 : (_raw_personality2 = raw.personality) === null || _raw_personality2 === void 0 ? void 0 : _raw_personality2.decisionStyle) !== null && _raw_personality_decisionStyle !== void 0 ? _raw_personality_decisionStyle : raw === null || raw === void 0 ? void 0 : (_raw_personality3 = raw.personality) === null || _raw_personality3 === void 0 ? void 0 : _raw_personality3.decision_style) !== null && _ref4 !== void 0 ? _ref4 : \"Unknown\"\n        },\n        prompt: typeof (raw === null || raw === void 0 ? void 0 : raw.prompt) === \"string\" ? raw.prompt : undefined,\n        preferences: (raw === null || raw === void 0 ? void 0 : raw.preferences) ? {\n            riskWeight: typeof raw.preferences.riskWeight === \"number\" ? raw.preferences.riskWeight : undefined,\n            profitWeight: typeof raw.preferences.profitWeight === \"number\" ? raw.preferences.profitWeight : undefined,\n            speedWeight: typeof raw.preferences.speedWeight === \"number\" ? raw.preferences.speedWeight : undefined,\n            accuracyWeight: typeof raw.preferences.accuracyWeight === \"number\" ? raw.preferences.accuracyWeight : undefined\n        } : undefined,\n        morale: typeof (raw === null || raw === void 0 ? void 0 : raw.morale) === \"number\" ? raw.morale : undefined,\n        rewardPoints: typeof (raw === null || raw === void 0 ? void 0 : raw.rewardPoints) === \"number\" ? raw.rewardPoints : undefined,\n        confidence: typeof (raw === null || raw === void 0 ? void 0 : raw.confidence) === \"number\" ? raw.confidence : 0,\n        createdAt: (_ref5 = (_raw_createdAt = raw === null || raw === void 0 ? void 0 : raw.createdAt) !== null && _raw_createdAt !== void 0 ? _raw_createdAt : raw === null || raw === void 0 ? void 0 : raw.created_at) !== null && _ref5 !== void 0 ? _ref5 : new Date().toISOString(),\n        rawTrades: Array.isArray(raw === null || raw === void 0 ? void 0 : raw.trades) ? raw.trades : undefined,\n        rawPerformance: typeof (raw === null || raw === void 0 ? void 0 : raw.performance) === \"object\" ? raw.performance : undefined\n    };\n}\nfunction normalizeDiscussion(raw) {\n    const messages = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.messages) ? raw.messages.map((message, index)=>{\n        var _raw_id, _message_id, _message_agentName, _ref, _message_content, _message_timestamp;\n        return {\n            id: String((_message_id = message === null || message === void 0 ? void 0 : message.id) !== null && _message_id !== void 0 ? _message_id : \"\".concat((_raw_id = raw === null || raw === void 0 ? void 0 : raw.id) !== null && _raw_id !== void 0 ? _raw_id : \"disc\", \"-msg-\").concat(index)),\n            agentName: String((_ref = (_message_agentName = message === null || message === void 0 ? void 0 : message.agentName) !== null && _message_agentName !== void 0 ? _message_agentName : message === null || message === void 0 ? void 0 : message.agent_name) !== null && _ref !== void 0 ? _ref : \"Unknown Agent\"),\n            content: String((_message_content = message === null || message === void 0 ? void 0 : message.content) !== null && _message_content !== void 0 ? _message_content : \"\"),\n            timestamp: (_message_timestamp = message === null || message === void 0 ? void 0 : message.timestamp) !== null && _message_timestamp !== void 0 ? _message_timestamp : new Date().toISOString()\n        };\n    }) : [];\n    var _raw_id, _raw_sectorId, _ref, _raw_title, _raw_status, _raw_createdAt, _ref1, _raw_updatedAt, _ref2, _raw_sectorSymbol, _ref3, _raw_sectorName, _ref4;\n    return {\n        id: String((_raw_id = raw === null || raw === void 0 ? void 0 : raw.id) !== null && _raw_id !== void 0 ? _raw_id : \"\"),\n        sectorId: String((_ref = (_raw_sectorId = raw === null || raw === void 0 ? void 0 : raw.sectorId) !== null && _raw_sectorId !== void 0 ? _raw_sectorId : raw === null || raw === void 0 ? void 0 : raw.sector_id) !== null && _ref !== void 0 ? _ref : \"\"),\n        title: String((_raw_title = raw === null || raw === void 0 ? void 0 : raw.title) !== null && _raw_title !== void 0 ? _raw_title : \"Untitled discussion\"),\n        status: (_raw_status = raw === null || raw === void 0 ? void 0 : raw.status) !== null && _raw_status !== void 0 ? _raw_status : \"in_progress\",\n        agentIds: Array.isArray(raw === null || raw === void 0 ? void 0 : raw.agentIds) ? raw.agentIds.map((agentId)=>String(agentId)) : Array.isArray(raw === null || raw === void 0 ? void 0 : raw.agent_ids) ? raw.agent_ids.map((agentId)=>String(agentId)) : [],\n        messages,\n        createdAt: (_ref1 = (_raw_createdAt = raw === null || raw === void 0 ? void 0 : raw.createdAt) !== null && _raw_createdAt !== void 0 ? _raw_createdAt : raw === null || raw === void 0 ? void 0 : raw.created_at) !== null && _ref1 !== void 0 ? _ref1 : new Date().toISOString(),\n        updatedAt: (_ref2 = (_raw_updatedAt = raw === null || raw === void 0 ? void 0 : raw.updatedAt) !== null && _raw_updatedAt !== void 0 ? _raw_updatedAt : raw === null || raw === void 0 ? void 0 : raw.updated_at) !== null && _ref2 !== void 0 ? _ref2 : new Date().toISOString(),\n        sectorSymbol: (_ref3 = (_raw_sectorSymbol = raw === null || raw === void 0 ? void 0 : raw.sectorSymbol) !== null && _raw_sectorSymbol !== void 0 ? _raw_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.sector_symbol) !== null && _ref3 !== void 0 ? _ref3 : undefined,\n        sectorName: (_ref4 = (_raw_sectorName = raw === null || raw === void 0 ? void 0 : raw.sectorName) !== null && _raw_sectorName !== void 0 ? _raw_sectorName : raw === null || raw === void 0 ? void 0 : raw.sector_name) !== null && _ref4 !== void 0 ? _ref4 : undefined\n    };\n}\nfunction normalizeSector(raw) {\n    var _raw_currentPrice, _ref;\n    const basePrice = Number((_ref = (_raw_currentPrice = raw === null || raw === void 0 ? void 0 : raw.currentPrice) !== null && _raw_currentPrice !== void 0 ? _raw_currentPrice : raw === null || raw === void 0 ? void 0 : raw.price) !== null && _ref !== void 0 ? _ref : 0);\n    const agents = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.agents) ? raw.agents.map((agent)=>{\n        var _agent_sectorId, _agent_sectorSymbol, _ref, _agent_sectorName, _ref1;\n        return normalizeAgent({\n            ...agent,\n            sectorId: (_agent_sectorId = agent === null || agent === void 0 ? void 0 : agent.sectorId) !== null && _agent_sectorId !== void 0 ? _agent_sectorId : raw === null || raw === void 0 ? void 0 : raw.id,\n            sectorSymbol: (_ref = (_agent_sectorSymbol = agent === null || agent === void 0 ? void 0 : agent.sectorSymbol) !== null && _agent_sectorSymbol !== void 0 ? _agent_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.symbol) !== null && _ref !== void 0 ? _ref : raw === null || raw === void 0 ? void 0 : raw.sectorSymbol,\n            sectorName: (_ref1 = (_agent_sectorName = agent === null || agent === void 0 ? void 0 : agent.sectorName) !== null && _agent_sectorName !== void 0 ? _agent_sectorName : raw === null || raw === void 0 ? void 0 : raw.name) !== null && _ref1 !== void 0 ? _ref1 : raw === null || raw === void 0 ? void 0 : raw.sectorName\n        });\n    }) : [];\n    const candleData = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.candleData) ? raw.candleData.map((entry, index)=>normalizeCandleData(entry, index, basePrice)).filter((point)=>Boolean(point)) : [];\n    const discussions = Array.isArray(raw === null || raw === void 0 ? void 0 : raw.discussions) ? raw.discussions.map((discussion)=>{\n        var _discussion_sectorId, _discussion_sectorSymbol, _ref, _discussion_sectorName, _ref1;\n        return normalizeDiscussion({\n            ...discussion,\n            sectorId: (_discussion_sectorId = discussion === null || discussion === void 0 ? void 0 : discussion.sectorId) !== null && _discussion_sectorId !== void 0 ? _discussion_sectorId : raw === null || raw === void 0 ? void 0 : raw.id,\n            sectorSymbol: (_ref = (_discussion_sectorSymbol = discussion === null || discussion === void 0 ? void 0 : discussion.sectorSymbol) !== null && _discussion_sectorSymbol !== void 0 ? _discussion_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.symbol) !== null && _ref !== void 0 ? _ref : raw === null || raw === void 0 ? void 0 : raw.sectorSymbol,\n            sectorName: (_ref1 = (_discussion_sectorName = discussion === null || discussion === void 0 ? void 0 : discussion.sectorName) !== null && _discussion_sectorName !== void 0 ? _discussion_sectorName : raw === null || raw === void 0 ? void 0 : raw.name) !== null && _ref1 !== void 0 ? _ref1 : raw === null || raw === void 0 ? void 0 : raw.sectorName\n        });\n    }) : [];\n    var _raw_id, _raw_name, _ref1, _raw_sectorSymbol, _ref2, _raw_change, _raw_changePercent, _ref3, _raw_volume, _raw_activeAgents, _ref4, _raw_buyAgents, _ref5, _raw_sellAgents, _ref6, _raw_statusPercent, _ref7, _raw_createdAt, _ref8;\n    return {\n        id: String((_raw_id = raw === null || raw === void 0 ? void 0 : raw.id) !== null && _raw_id !== void 0 ? _raw_id : \"\"),\n        name: String((_ref1 = (_raw_name = raw === null || raw === void 0 ? void 0 : raw.name) !== null && _raw_name !== void 0 ? _raw_name : raw === null || raw === void 0 ? void 0 : raw.sectorName) !== null && _ref1 !== void 0 ? _ref1 : \"Unknown Sector\"),\n        symbol: String((_ref2 = (_raw_sectorSymbol = raw === null || raw === void 0 ? void 0 : raw.sectorSymbol) !== null && _raw_sectorSymbol !== void 0 ? _raw_sectorSymbol : raw === null || raw === void 0 ? void 0 : raw.symbol) !== null && _ref2 !== void 0 ? _ref2 : \"N/A\"),\n        currentPrice: Number.isFinite(basePrice) ? Number(basePrice.toFixed(2)) : 0,\n        change: Number((_raw_change = raw === null || raw === void 0 ? void 0 : raw.change) !== null && _raw_change !== void 0 ? _raw_change : 0),\n        changePercent: Number((_ref3 = (_raw_changePercent = raw === null || raw === void 0 ? void 0 : raw.changePercent) !== null && _raw_changePercent !== void 0 ? _raw_changePercent : raw === null || raw === void 0 ? void 0 : raw.change_percent) !== null && _ref3 !== void 0 ? _ref3 : 0),\n        volume: Number((_raw_volume = raw === null || raw === void 0 ? void 0 : raw.volume) !== null && _raw_volume !== void 0 ? _raw_volume : 0),\n        agents,\n        activeAgents: Number((_ref4 = (_raw_activeAgents = raw === null || raw === void 0 ? void 0 : raw.activeAgents) !== null && _raw_activeAgents !== void 0 ? _raw_activeAgents : raw === null || raw === void 0 ? void 0 : raw.active_agents) !== null && _ref4 !== void 0 ? _ref4 : agents.filter((agent)=>agent.status === \"active\").length),\n        buyAgents: Number((_ref5 = (_raw_buyAgents = raw === null || raw === void 0 ? void 0 : raw.buyAgents) !== null && _raw_buyAgents !== void 0 ? _raw_buyAgents : raw === null || raw === void 0 ? void 0 : raw.buy_agents) !== null && _ref5 !== void 0 ? _ref5 : 0),\n        sellAgents: Number((_ref6 = (_raw_sellAgents = raw === null || raw === void 0 ? void 0 : raw.sellAgents) !== null && _raw_sellAgents !== void 0 ? _raw_sellAgents : raw === null || raw === void 0 ? void 0 : raw.sell_agents) !== null && _ref6 !== void 0 ? _ref6 : 0),\n        statusPercent: Number((_ref7 = (_raw_statusPercent = raw === null || raw === void 0 ? void 0 : raw.statusPercent) !== null && _raw_statusPercent !== void 0 ? _raw_statusPercent : raw === null || raw === void 0 ? void 0 : raw.status_percent) !== null && _ref7 !== void 0 ? _ref7 : 0),\n        candleData,\n        discussions,\n        createdAt: (_ref8 = (_raw_createdAt = raw === null || raw === void 0 ? void 0 : raw.createdAt) !== null && _raw_createdAt !== void 0 ? _raw_createdAt : raw === null || raw === void 0 ? void 0 : raw.created_at) !== null && _ref8 !== void 0 ? _ref8 : new Date().toISOString(),\n        volatility: typeof (raw === null || raw === void 0 ? void 0 : raw.volatility) === \"number\" ? Number(raw.volatility.toFixed(4)) : undefined,\n        riskScore: typeof (raw === null || raw === void 0 ? void 0 : raw.riskScore) === \"number\" ? Number(raw.riskScore) : undefined,\n        lastSimulatedPrice: typeof (raw === null || raw === void 0 ? void 0 : raw.lastSimulatedPrice) === \"number\" ? Number(raw.lastSimulatedPrice.toFixed(2)) : null,\n        balance: typeof (raw === null || raw === void 0 ? void 0 : raw.balance) === \"number\" ? Number(raw.balance.toFixed(2)) : 0\n    };\n}\nasync function fetchSectors() {\n    try {\n        const result = await request(\"/sectors\");\n        // Handle rate limiting - return empty array when skipped\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            return [];\n        }\n        const payload = result;\n        if (!payload) {\n            return [];\n        }\n        return Array.isArray(payload) ? payload.map(normalizeSector) : [];\n    } catch (error) {\n        console.error(\"Error fetching sectors:\", error);\n        throw error;\n    }\n}\nasync function fetchSectorById(id) {\n    if (!id) {\n        return null;\n    }\n    const result = await request(\"/sectors/\".concat(id));\n    // Handle rate limiting - return null when skipped\n    if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n        return null;\n    }\n    const payload = result;\n    return payload ? normalizeSector(payload) : null;\n}\nasync function fetchManagerStatus() {\n    try {\n        const result = await request(\"/simulation/status\");\n        // Handle rate limiting - return null when skipped\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            return null;\n        }\n        const payload = result;\n        return payload && payload.success ? payload.data : null;\n    } catch (error) {\n        console.error(\"Error fetching manager status:\", error);\n        return null;\n    }\n}\nasync function fetchManagerDecisions(sectorId) {\n    try {\n        const result = await request(\"/simulation/decisions/\".concat(sectorId));\n        // Handle rate limiting - return empty array when skipped\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            return [];\n        }\n        const payload = result;\n        return payload && payload.success ? payload.data : [];\n    } catch (error) {\n        console.error(\"Error fetching manager decisions:\", error);\n        return [];\n    }\n}\nasync function fetchAgents() {\n    const payload = await request(\"/agents\");\n    return Array.isArray(payload) ? payload.map((agent)=>normalizeAgent(agent)) : [];\n}\nasync function fetchAgentById(id) {\n    if (!id) {\n        return null;\n    }\n    const payload = await request(\"/agents/\".concat(id));\n    return payload ? normalizeAgent(payload) : null;\n}\nasync function fetchDiscussions() {\n    const payload = await request(\"/discussions\");\n    return Array.isArray(payload) ? payload.map(normalizeDiscussion) : [];\n}\nasync function fetchDiscussionById(id) {\n    if (!id) {\n        return null;\n    }\n    const payload = await request(\"/discussions/\".concat(id));\n    return payload ? normalizeDiscussion(payload) : null;\n}\nasync function createDiscussion(sectorId, title) {\n    let agentIds = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [];\n    const payload = await request(\"/discussions\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            sectorId,\n            title,\n            agentIds\n        })\n    });\n    return normalizeDiscussion(payload);\n}\nasync function addDiscussionMessage(discussionId, message) {\n    const payload = await request(\"/discussions/\".concat(discussionId, \"/message\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(message)\n    });\n    return normalizeDiscussion(payload);\n}\nasync function closeDiscussion(discussionId) {\n    const payload = await request(\"/discussions/\".concat(discussionId, \"/close\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    return normalizeDiscussion(payload);\n}\nasync function archiveDiscussion(discussionId) {\n    const payload = await request(\"/discussions/\".concat(discussionId, \"/archive\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    return normalizeDiscussion(payload);\n}\nasync function acceptDiscussion(discussionId) {\n    const payload = await request(\"/discussions/\".concat(discussionId, \"/accept\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    return normalizeDiscussion(payload);\n}\nasync function rejectDiscussion(discussionId) {\n    const payload = await request(\"/discussions/\".concat(discussionId, \"/reject\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    return normalizeDiscussion(payload);\n}\nasync function createSector(sectorName, sectorSymbol) {\n    const payload = await request(\"/sectors\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            sectorName,\n            sectorSymbol\n        })\n    });\n    return normalizeSector(payload);\n}\nasync function createAgent(prompt, sectorId, role) {\n    try {\n        const payload = await request(\"/agents\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                prompt,\n                sectorId,\n                role: role || null\n            })\n        });\n        // Handle both `{ success: true, data: Agent }` and direct `Agent`\n        let rawAgent;\n        if (payload && typeof payload === \"object\" && \"success\" in payload && payload.success === true && \"data\" in payload) {\n            rawAgent = payload.data;\n        } else {\n            rawAgent = payload;\n        }\n        // At this point we expect `rawAgent` to be an Agent-like object\n        const agent = normalizeAgent(rawAgent);\n        return agent;\n    } catch (error) {\n        // Optionally inspect error.response / error.message depending on `request` helper\n        const message = error && error.message || \"Failed to create agent. Please try again.\";\n        // Re-throw as a standard Error for callers (modals/pages) to handle\n        throw new Error(message);\n    }\n}\nasync function simulateTick(sectorId) {\n    let decisions = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n    const payload = await request(\"/simulation/tick\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            sectorId,\n            decisions\n        })\n    });\n    // Handle both wrapped and unwrapped responses\n    if (payload && typeof payload === \"object\" && \"success\" in payload && \"data\" in payload) {\n        return payload.data;\n    }\n    return payload;\n}\nasync function updateSectorPerformance(sectorId) {\n    const payload = await request(\"/simulation/\".concat(sectorId, \"/performance\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    });\n    // Handle both wrapped and unwrapped responses\n    let sectorData = payload;\n    if (payload && typeof payload === \"object\" && \"success\" in payload && \"data\" in payload) {\n        sectorData = payload.data;\n    }\n    return normalizeSector(sectorData);\n}\nasync function depositSector(sectorId, amount) {\n    const payload = await request(\"/sectors/\".concat(sectorId, \"/deposit\"), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            amount\n        })\n    });\n    // Handle both wrapped and unwrapped responses\n    let sectorData = payload;\n    if (payload && typeof payload === \"object\" && \"success\" in payload && \"data\" in payload) {\n        sectorData = payload.data;\n    }\n    return normalizeSector(sectorData);\n}\nasync function updateAgent(agentId, updates) {\n    const payload = await request(\"/agents/\".concat(agentId), {\n        method: \"PUT\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(updates)\n    });\n    return normalizeAgent(payload);\n}\nasync function deleteAgent(agentId) {\n    await request(\"/agents/\".concat(agentId), {\n        method: \"DELETE\"\n    });\n}\nasync function deleteSector(sectorId, confirmationCode) {\n    const payload = await request(\"/sectors/\".concat(sectorId), {\n        method: \"DELETE\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            confirmationCode\n        })\n    });\n    return payload;\n}\nasync function getUserBalance() {\n    try {\n        const result = await request(\"/user/balance\");\n        // Handle rate limiting - return 0 when skipped\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            return 0;\n        }\n        const data = result;\n        return typeof data.balance === \"number\" ? data.balance : 0;\n    } catch (error) {\n        console.error(\"Failed to fetch user balance:\", error);\n        return 0;\n    }\n}\nasync function runConfidenceTick(sectorId) {\n    try {\n        const result = await request(\"/sectors/\".concat(sectorId, \"/confidence-tick\"), {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({})\n        });\n        // Handle rate limiting - return null when skipped so polling can continue silently\n        if (result && typeof result === \"object\" && \"skipped\" in result && result.skipped === true) {\n            return null;\n        }\n        return result;\n    } catch (error) {\n        // Re-throw errors (only real HTTP errors should reach here)\n        throw error;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TyxlQUFlOEo7SUFDcEIsSUFBSTtRQUNGLE1BQU1sQyxTQUFTLE1BQU0xSCxRQUE2QjtRQUVsRCwrQ0FBK0M7UUFDL0MsSUFBSTBILFVBQVUsT0FBT0EsV0FBVyxZQUFZLGFBQWFBLFVBQVUsT0FBZ0IvRyxPQUFPLEtBQUssTUFBTTtZQUNuRyxPQUFPO1FBQ1Q7UUFFQSxNQUFNWixPQUFPMkg7UUFDYixPQUFPLE9BQU8zSCxLQUFLeUgsT0FBTyxLQUFLLFdBQVd6SCxLQUFLeUgsT0FBTyxHQUFHO0lBQzNELEVBQUUsT0FBTzNJLE9BQU87UUFDZHdCLFFBQVF4QixLQUFLLENBQUMsaUNBQWlDQTtRQUMvQyxPQUFPO0lBQ1Q7QUFDRjtBQVdPLGVBQWVnTCxrQkFBa0J6RyxRQUFnQjtJQUN0RCxJQUFJO1FBQ0YsTUFBTXNFLFNBQVMsTUFBTTFILFFBQThCLFlBQXFCLE9BQVRvRCxVQUFTLHFCQUFtQjtZQUN6RjdDLFFBQVE7WUFDUjZILFNBQVM7Z0JBQ1AsZ0JBQWdCO1lBQ2xCO1lBQ0FDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hCO1FBRUEsbUZBQW1GO1FBQ25GLElBQUliLFVBQVUsT0FBT0EsV0FBVyxZQUFZLGFBQWFBLFVBQVUsT0FBZ0IvRyxPQUFPLEtBQUssTUFBTTtZQUNuRyxPQUFPO1FBQ1Q7UUFFQSxPQUFPK0c7SUFDVCxFQUFFLE9BQU83SSxPQUFZO1FBQ25CLDREQUE0RDtRQUM1RCxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL2FwaS50cz82OGExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFnZW50LCBBcGlQYXlsb2FkLCBEaXNjdXNzaW9uLCBTZWN0b3IsIENhbmRsZURhdGEgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGdldEFwaUJhc2VVcmwsIGdldEJhY2tlbmRCYXNlVXJsIH0gZnJvbSAnLi9kZXNrdG9wRW52JztcbmltcG9ydCB7IHJhdGVMaW1pdGVkRmV0Y2ggfSBmcm9tICcuL3JhdGVMaW1pdCc7XG5cbi8qKlxuICogQ2hlY2sgaWYgYW4gZXJyb3IgaXMgYSByYXRlIGxpbWl0IGVycm9yIHRoYXQgc2hvdWxkIGJlIGhhbmRsZWQgc2lsZW50bHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmF0ZUxpbWl0RXJyb3IoZXJyb3I6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIGVycm9yPy5pc1JhdGVMaW1pdCA9PT0gdHJ1ZSB8fFxuICAgIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ3JhdGUgbGltaXRlZCcpKVxuICApO1xufVxuXG4vLyBVc2UgZGVza3RvcC1hd2FyZSBiYXNlIFVSTFxuY29uc3QgZ2V0QXBpQmFzZSA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gQ2xpZW50LXNpZGU6IHVzZSBkeW5hbWljIGRldGVjdGlvblxuICAgIHJldHVybiBnZXRBcGlCYXNlVXJsKCk7XG4gIH1cbiAgLy8gU2VydmVyLXNpZGU6IHVzZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBvciBkZWZhdWx0XG4gIC8vIFN1cHBvcnQgTkVYVF9QVUJMSUNfQVBJX1VSTCAoZnVsbCBBUEkgVVJMKSBvciBORVhUX1BVQkxJQ19NQVhfQkFDS0VORF9VUkwvTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwgKGJhc2UgVVJMKVxuICBjb25zdCBhcGlVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMO1xuICBpZiAoYXBpVXJsKSB7XG4gICAgcmV0dXJuIGFwaVVybC5yZXBsYWNlKC9cXC8kLywgJycpO1xuICB9XG4gIGNvbnN0IGJhY2tlbmQgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQVhfQkFDS0VORF9VUkwgfHwgXG4gICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX1VSTCB8fCBcbiAgICAgICAgICAgICAgICAgICdodHRwOi8vbG9jYWxob3N0OjgwMDAnO1xuICByZXR1cm4gYCR7YmFja2VuZC5yZXBsYWNlKC9cXC8kLywgJycpfS9hcGlgO1xufTtcblxuY29uc3QgQVBJX0JBU0UgPSBnZXRBcGlCYXNlKCk7XG5jb25zdCBCQUNLRU5EID0gZ2V0QmFja2VuZEJhc2VVcmwoKTtcblxuZnVuY3Rpb24gdW53cmFwUGF5bG9hZDxUPihwYXlsb2FkOiBBcGlQYXlsb2FkPFQ+KTogVCB7XG4gIGlmIChwYXlsb2FkICYmIHR5cGVvZiBwYXlsb2FkID09PSAnb2JqZWN0JyAmJiAnZGF0YScgaW4gcGF5bG9hZCkge1xuICAgIHJldHVybiAocGF5bG9hZCBhcyB7IGRhdGE6IFQgfSkuZGF0YTtcbiAgfVxuXG4gIHJldHVybiBwYXlsb2FkIGFzIFQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlcXVlc3Q8VD4ocGF0aDogc3RyaW5nLCBpbml0PzogUmVxdWVzdEluaXQpOiBQcm9taXNlPFQgfCB7IHNraXBwZWQ6IHRydWUgfT4ge1xuICB0cnkge1xuICAgIC8vIEdldCBBUEkgYmFzZSBVUkwgZHluYW1pY2FsbHkgKGhhbmRsZXMgZGVza3RvcCB2cyB3ZWIgbW9kZSlcbiAgICBjb25zdCBhcGlCYXNlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBnZXRBcGlCYXNlVXJsKCkgOiBBUElfQkFTRTtcbiAgICBjb25zdCBmdWxsVXJsID0gYCR7YXBpQmFzZX0ke3BhdGh9YDtcbiAgICBcbiAgICAvLyBEZWJ1ZyBsb2dnaW5nIChhbHdheXMgbG9nIHRvIGhlbHAgZGVidWcgaXNzdWVzKVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coYFtBUEkgUmVxdWVzdF0gJHtpbml0Py5tZXRob2QgfHwgJ0dFVCd9ICR7ZnVsbFVybH1gKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2VSZXN1bHQgPSBhd2FpdCByYXRlTGltaXRlZEZldGNoKGZ1bGxVcmwsIDI1MDAsIHtcbiAgICAgIGNhY2hlOiAnbm8tc3RvcmUnLFxuICAgICAgY3JlZGVudGlhbHM6ICdvbWl0JyxcbiAgICAgIC4uLmluaXQsXG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHJldHVybiBza2lwcGVkIHN0YXR1cyBpbnN0ZWFkIG9mIHRocm93aW5nXG4gICAgaWYgKHJlc3BvbnNlUmVzdWx0ICYmIHR5cGVvZiByZXNwb25zZVJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3BvbnNlUmVzdWx0ICYmIChyZXNwb25zZVJlc3VsdCBhcyBhbnkpLnNraXBwZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiB7IHNraXBwZWQ6IHRydWUgfTtcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZSA9IHJlc3BvbnNlUmVzdWx0IGFzIFJlc3BvbnNlO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgbGV0IGVycm9yTWVzc2FnZSA9IGBSZXF1ZXN0IGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9YDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKGVycm9yRGF0YS5lcnJvcikge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YS5lcnJvcjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3JEYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yRGF0YTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gdGV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfVxuXG4gICAgY29uc3QgcGF5bG9hZCA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpIGFzIEFwaVBheWxvYWQ8VD47XG4gICAgcmV0dXJuIHVud3JhcFBheWxvYWQ8VD4ocGF5bG9hZCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIENoZWNrIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnZmV0Y2gnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdGYWlsZWQgdG8gZmV0Y2gnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdOZXR3b3JrRXJyb3InKSB8fCBlcnJvci5uYW1lID09PSAnVHlwZUVycm9yJykge1xuICAgICAgICAvLyBBbHdheXMgdXNlIGR5bmFtaWMgZGV0ZWN0aW9uIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICBjb25zdCBhcGlCYXNlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBnZXRBcGlCYXNlVXJsKCkgOiBBUElfQkFTRTtcbiAgICAgICAgY29uc3QgYmFja2VuZFVybCA9IGdldEJhY2tlbmRCYXNlVXJsKCk7XG4gICAgICAgIGNvbnN0IGZ1bGxVcmwgPSBgJHthcGlCYXNlfSR7cGF0aH1gO1xuICAgICAgICBcbiAgICAgICAgLy8gTG9nIG1vcmUgZGV0YWlscyBpbiBkZXZlbG9wbWVudFxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQVBJIEVycm9yXScsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgbmFtZTogZXJyb3IubmFtZSxcbiAgICAgICAgICAgIGF0dGVtcHRlZFVybDogZnVsbFVybCxcbiAgICAgICAgICAgIGJhY2tlbmRVcmwsXG4gICAgICAgICAgICBlbnZBcGlVcmw6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwsXG4gICAgICAgICAgICBlbnZCYWNrZW5kVXJsOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQVhfQkFDS0VORF9VUkwgfHwgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNvbm5lY3QgdG8gYmFja2VuZCBzZXJ2ZXIuIFBsZWFzZSBlbnN1cmUgdGhlIGJhY2tlbmQgaXMgcnVubmluZyBvbiAke2JhY2tlbmRVcmx9LiBBdHRlbXB0ZWQgVVJMOiAke2Z1bGxVcmx9YCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplQ2FuZGxlRGF0YShlbnRyeTogYW55LCBpbmRleDogbnVtYmVyLCBmYWxsYmFja1ByaWNlOiBudW1iZXIpOiBDYW5kbGVEYXRhIHwgbnVsbCB7XG4gIGlmIChlbnRyeSAmJiB0eXBlb2YgZW50cnkudGltZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGVudHJ5LnZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBlbnRyeTtcbiAgfVxuXG4gIGNvbnN0IHZhbHVlQ2FuZGlkYXRlID1cbiAgICB0eXBlb2YgZW50cnk/LnZhbHVlID09PSAnbnVtYmVyJ1xuICAgICAgPyBlbnRyeS52YWx1ZVxuICAgICAgOiB0eXBlb2YgZW50cnk/LmNsb3NlID09PSAnbnVtYmVyJ1xuICAgICAgPyBlbnRyeS5jbG9zZVxuICAgICAgOiB0eXBlb2YgZmFsbGJhY2tQcmljZSA9PT0gJ251bWJlcidcbiAgICAgID8gZmFsbGJhY2tQcmljZVxuICAgICAgOiAwO1xuXG4gIGNvbnN0IGhvdXJzID0gKGluZGV4ICogMikgJSAyNDtcbiAgY29uc3QgbWludXRlcyA9IChpbmRleCAqIDUpICUgNjA7XG4gIGNvbnN0IHRpbWUgPSBgJHtob3Vycy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7bWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcblxuICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWx1ZUNhbmRpZGF0ZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdGltZSxcbiAgICB2YWx1ZTogTnVtYmVyKHZhbHVlQ2FuZGlkYXRlLnRvRml4ZWQoMikpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVBZ2VudChyYXc6IGFueSk6IEFnZW50IHtcbiAgY29uc3QgcGVyZm9ybWFuY2VWYWx1ZSA9XG4gICAgdHlwZW9mIHJhdz8ucGVyZm9ybWFuY2UgPT09ICdudW1iZXInXG4gICAgICA/IHJhdy5wZXJmb3JtYW5jZVxuICAgICAgOiB0eXBlb2YgcmF3Py5wZXJmb3JtYW5jZT8ucG5sID09PSAnbnVtYmVyJ1xuICAgICAgPyByYXcucGVyZm9ybWFuY2UucG5sXG4gICAgICA6IDA7XG5cbiAgY29uc3QgdHJhZGVzQ291bnQgPSBBcnJheS5pc0FycmF5KHJhdz8udHJhZGVzKVxuICAgID8gcmF3LnRyYWRlcy5sZW5ndGhcbiAgICA6IHR5cGVvZiByYXc/LnRyYWRlcyA9PT0gJ251bWJlcidcbiAgICA/IHJhdy50cmFkZXNcbiAgICA6IDA7XG5cbiAgcmV0dXJuIHtcbiAgICBpZDogU3RyaW5nKHJhdz8uaWQgPz8gJycpLFxuICAgIG5hbWU6IFN0cmluZyhyYXc/Lm5hbWUgPz8gJ1VubmFtZWQgQWdlbnQnKSxcbiAgICByb2xlOiBTdHJpbmcocmF3Py5yb2xlID8/ICdhZ2VudCcpLFxuICAgIHBlcmZvcm1hbmNlOiBOdW1iZXIocGVyZm9ybWFuY2VWYWx1ZSB8fCAwKSxcbiAgICB0cmFkZXM6IE51bWJlcih0cmFkZXNDb3VudCB8fCAwKSxcbiAgICBzdGF0dXM6IChyYXc/LnN0YXR1cyA/PyAnaWRsZScpIGFzIEFnZW50WydzdGF0dXMnXSxcbiAgICBzZWN0b3JJZDogcmF3Py5zZWN0b3JJZCA/PyByYXc/LnNlY3Rvcl9pZCA/PyBudWxsLFxuICAgIHNlY3RvclN5bWJvbDogcmF3Py5zZWN0b3JTeW1ib2wgPz8gcmF3Py5zZWN0b3Jfc3ltYm9sID8/IHVuZGVmaW5lZCxcbiAgICBzZWN0b3JOYW1lOiByYXc/LnNlY3Rvck5hbWUgPz8gcmF3Py5zZWN0b3JfbmFtZSA/PyB1bmRlZmluZWQsXG4gICAgcGVyc29uYWxpdHk6IHtcbiAgICAgIHJpc2tUb2xlcmFuY2U6IHJhdz8ucGVyc29uYWxpdHk/LnJpc2tUb2xlcmFuY2UgPz8gcmF3Py5wZXJzb25hbGl0eT8ucmlza190b2xlcmFuY2UgPz8gJ1Vua25vd24nLFxuICAgICAgZGVjaXNpb25TdHlsZTogcmF3Py5wZXJzb25hbGl0eT8uZGVjaXNpb25TdHlsZSA/PyByYXc/LnBlcnNvbmFsaXR5Py5kZWNpc2lvbl9zdHlsZSA/PyAnVW5rbm93bicsXG4gICAgfSxcbiAgICBwcm9tcHQ6IHR5cGVvZiByYXc/LnByb21wdCA9PT0gJ3N0cmluZycgPyByYXcucHJvbXB0IDogdW5kZWZpbmVkLFxuICAgIHByZWZlcmVuY2VzOiByYXc/LnByZWZlcmVuY2VzID8ge1xuICAgICAgcmlza1dlaWdodDogdHlwZW9mIHJhdy5wcmVmZXJlbmNlcy5yaXNrV2VpZ2h0ID09PSAnbnVtYmVyJyA/IHJhdy5wcmVmZXJlbmNlcy5yaXNrV2VpZ2h0IDogdW5kZWZpbmVkLFxuICAgICAgcHJvZml0V2VpZ2h0OiB0eXBlb2YgcmF3LnByZWZlcmVuY2VzLnByb2ZpdFdlaWdodCA9PT0gJ251bWJlcicgPyByYXcucHJlZmVyZW5jZXMucHJvZml0V2VpZ2h0IDogdW5kZWZpbmVkLFxuICAgICAgc3BlZWRXZWlnaHQ6IHR5cGVvZiByYXcucHJlZmVyZW5jZXMuc3BlZWRXZWlnaHQgPT09ICdudW1iZXInID8gcmF3LnByZWZlcmVuY2VzLnNwZWVkV2VpZ2h0IDogdW5kZWZpbmVkLFxuICAgICAgYWNjdXJhY3lXZWlnaHQ6IHR5cGVvZiByYXcucHJlZmVyZW5jZXMuYWNjdXJhY3lXZWlnaHQgPT09ICdudW1iZXInID8gcmF3LnByZWZlcmVuY2VzLmFjY3VyYWN5V2VpZ2h0IDogdW5kZWZpbmVkLFxuICAgIH0gOiB1bmRlZmluZWQsXG4gICAgbW9yYWxlOiB0eXBlb2YgcmF3Py5tb3JhbGUgPT09ICdudW1iZXInID8gcmF3Lm1vcmFsZSA6IHVuZGVmaW5lZCxcbiAgICByZXdhcmRQb2ludHM6IHR5cGVvZiByYXc/LnJld2FyZFBvaW50cyA9PT0gJ251bWJlcicgPyByYXcucmV3YXJkUG9pbnRzIDogdW5kZWZpbmVkLFxuICAgIGNvbmZpZGVuY2U6IHR5cGVvZiByYXc/LmNvbmZpZGVuY2UgPT09ICdudW1iZXInID8gcmF3LmNvbmZpZGVuY2UgOiAwLFxuICAgIGNyZWF0ZWRBdDogcmF3Py5jcmVhdGVkQXQgPz8gcmF3Py5jcmVhdGVkX2F0ID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICByYXdUcmFkZXM6IEFycmF5LmlzQXJyYXkocmF3Py50cmFkZXMpID8gcmF3LnRyYWRlcyA6IHVuZGVmaW5lZCxcbiAgICByYXdQZXJmb3JtYW5jZTogdHlwZW9mIHJhdz8ucGVyZm9ybWFuY2UgPT09ICdvYmplY3QnID8gcmF3LnBlcmZvcm1hbmNlIDogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVEaXNjdXNzaW9uKHJhdzogYW55KTogRGlzY3Vzc2lvbiB7XG4gIGNvbnN0IG1lc3NhZ2VzID0gQXJyYXkuaXNBcnJheShyYXc/Lm1lc3NhZ2VzKVxuICAgID8gcmF3Lm1lc3NhZ2VzLm1hcCgobWVzc2FnZTogYW55LCBpbmRleDogbnVtYmVyKSA9PiAoe1xuICAgICAgICBpZDogU3RyaW5nKG1lc3NhZ2U/LmlkID8/IGAke3Jhdz8uaWQgPz8gJ2Rpc2MnfS1tc2ctJHtpbmRleH1gKSxcbiAgICAgICAgYWdlbnROYW1lOiBTdHJpbmcobWVzc2FnZT8uYWdlbnROYW1lID8/IG1lc3NhZ2U/LmFnZW50X25hbWUgPz8gJ1Vua25vd24gQWdlbnQnKSxcbiAgICAgICAgY29udGVudDogU3RyaW5nKG1lc3NhZ2U/LmNvbnRlbnQgPz8gJycpLFxuICAgICAgICB0aW1lc3RhbXA6IG1lc3NhZ2U/LnRpbWVzdGFtcCA/PyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9KSlcbiAgICA6IFtdO1xuXG4gIHJldHVybiB7XG4gICAgaWQ6IFN0cmluZyhyYXc/LmlkID8/ICcnKSxcbiAgICBzZWN0b3JJZDogU3RyaW5nKHJhdz8uc2VjdG9ySWQgPz8gcmF3Py5zZWN0b3JfaWQgPz8gJycpLFxuICAgIHRpdGxlOiBTdHJpbmcocmF3Py50aXRsZSA/PyAnVW50aXRsZWQgZGlzY3Vzc2lvbicpLFxuICAgIHN0YXR1czogKHJhdz8uc3RhdHVzID8/ICdpbl9wcm9ncmVzcycpIGFzIERpc2N1c3Npb25bJ3N0YXR1cyddLFxuICAgIGFnZW50SWRzOiBBcnJheS5pc0FycmF5KHJhdz8uYWdlbnRJZHMpXG4gICAgICA/IHJhdy5hZ2VudElkcy5tYXAoKGFnZW50SWQ6IGFueSkgPT4gU3RyaW5nKGFnZW50SWQpKVxuICAgICAgOiBBcnJheS5pc0FycmF5KHJhdz8uYWdlbnRfaWRzKVxuICAgICAgPyByYXcuYWdlbnRfaWRzLm1hcCgoYWdlbnRJZDogYW55KSA9PiBTdHJpbmcoYWdlbnRJZCkpXG4gICAgICA6IFtdLFxuICAgIG1lc3NhZ2VzLFxuICAgIGNyZWF0ZWRBdDogcmF3Py5jcmVhdGVkQXQgPz8gcmF3Py5jcmVhdGVkX2F0ID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB1cGRhdGVkQXQ6IHJhdz8udXBkYXRlZEF0ID8/IHJhdz8udXBkYXRlZF9hdCA/PyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgc2VjdG9yU3ltYm9sOiByYXc/LnNlY3RvclN5bWJvbCA/PyByYXc/LnNlY3Rvcl9zeW1ib2wgPz8gdW5kZWZpbmVkLFxuICAgIHNlY3Rvck5hbWU6IHJhdz8uc2VjdG9yTmFtZSA/PyByYXc/LnNlY3Rvcl9uYW1lID8/IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplU2VjdG9yKHJhdzogYW55KTogU2VjdG9yIHtcbiAgY29uc3QgYmFzZVByaWNlID0gTnVtYmVyKHJhdz8uY3VycmVudFByaWNlID8/IHJhdz8ucHJpY2UgPz8gMCk7XG5cbiAgY29uc3QgYWdlbnRzID0gQXJyYXkuaXNBcnJheShyYXc/LmFnZW50cylcbiAgICA/IHJhdy5hZ2VudHMubWFwKChhZ2VudDogYW55KSA9PlxuICAgICAgICBub3JtYWxpemVBZ2VudCh7XG4gICAgICAgICAgLi4uYWdlbnQsXG4gICAgICAgICAgc2VjdG9ySWQ6IGFnZW50Py5zZWN0b3JJZCA/PyByYXc/LmlkLFxuICAgICAgICAgIHNlY3RvclN5bWJvbDogYWdlbnQ/LnNlY3RvclN5bWJvbCA/PyByYXc/LnN5bWJvbCA/PyByYXc/LnNlY3RvclN5bWJvbCxcbiAgICAgICAgICBzZWN0b3JOYW1lOiBhZ2VudD8uc2VjdG9yTmFtZSA/PyByYXc/Lm5hbWUgPz8gcmF3Py5zZWN0b3JOYW1lLFxuICAgICAgICB9KSxcbiAgICAgIClcbiAgICA6IFtdO1xuXG4gIGNvbnN0IGNhbmRsZURhdGEgPSBBcnJheS5pc0FycmF5KHJhdz8uY2FuZGxlRGF0YSlcbiAgICA/IHJhdy5jYW5kbGVEYXRhXG4gICAgICAgIC5tYXAoKGVudHJ5OiBhbnksIGluZGV4OiBudW1iZXIpID0+IG5vcm1hbGl6ZUNhbmRsZURhdGEoZW50cnksIGluZGV4LCBiYXNlUHJpY2UpKVxuICAgICAgICAuZmlsdGVyKChwb2ludDogYW55KTogcG9pbnQgaXMgQ2FuZGxlRGF0YSA9PiBCb29sZWFuKHBvaW50KSlcbiAgICA6IFtdO1xuXG4gIGNvbnN0IGRpc2N1c3Npb25zID0gQXJyYXkuaXNBcnJheShyYXc/LmRpc2N1c3Npb25zKVxuICAgID8gcmF3LmRpc2N1c3Npb25zLm1hcCgoZGlzY3Vzc2lvbjogYW55KSA9PlxuICAgICAgICBub3JtYWxpemVEaXNjdXNzaW9uKHtcbiAgICAgICAgICAuLi5kaXNjdXNzaW9uLFxuICAgICAgICAgIHNlY3RvcklkOiBkaXNjdXNzaW9uPy5zZWN0b3JJZCA/PyByYXc/LmlkLFxuICAgICAgICAgIHNlY3RvclN5bWJvbDogZGlzY3Vzc2lvbj8uc2VjdG9yU3ltYm9sID8/IHJhdz8uc3ltYm9sID8/IHJhdz8uc2VjdG9yU3ltYm9sLFxuICAgICAgICAgIHNlY3Rvck5hbWU6IGRpc2N1c3Npb24/LnNlY3Rvck5hbWUgPz8gcmF3Py5uYW1lID8/IHJhdz8uc2VjdG9yTmFtZSxcbiAgICAgICAgfSksXG4gICAgICApXG4gICAgOiBbXTtcblxuICByZXR1cm4ge1xuICAgIGlkOiBTdHJpbmcocmF3Py5pZCA/PyAnJyksXG4gICAgbmFtZTogU3RyaW5nKHJhdz8ubmFtZSA/PyByYXc/LnNlY3Rvck5hbWUgPz8gJ1Vua25vd24gU2VjdG9yJyksXG4gICAgc3ltYm9sOiBTdHJpbmcocmF3Py5zZWN0b3JTeW1ib2wgPz8gcmF3Py5zeW1ib2wgPz8gJ04vQScpLFxuICAgIGN1cnJlbnRQcmljZTogTnVtYmVyLmlzRmluaXRlKGJhc2VQcmljZSkgPyBOdW1iZXIoYmFzZVByaWNlLnRvRml4ZWQoMikpIDogMCxcbiAgICBjaGFuZ2U6IE51bWJlcihyYXc/LmNoYW5nZSA/PyAwKSxcbiAgICBjaGFuZ2VQZXJjZW50OiBOdW1iZXIocmF3Py5jaGFuZ2VQZXJjZW50ID8/IHJhdz8uY2hhbmdlX3BlcmNlbnQgPz8gMCksXG4gICAgdm9sdW1lOiBOdW1iZXIocmF3Py52b2x1bWUgPz8gMCksXG4gICAgYWdlbnRzLFxuICAgIGFjdGl2ZUFnZW50czogTnVtYmVyKHJhdz8uYWN0aXZlQWdlbnRzID8/IHJhdz8uYWN0aXZlX2FnZW50cyA/PyBhZ2VudHMuZmlsdGVyKChhZ2VudDogYW55KSA9PiBhZ2VudC5zdGF0dXMgPT09ICdhY3RpdmUnKS5sZW5ndGgpLFxuICAgIGJ1eUFnZW50czogTnVtYmVyKHJhdz8uYnV5QWdlbnRzID8/IHJhdz8uYnV5X2FnZW50cyA/PyAwKSxcbiAgICBzZWxsQWdlbnRzOiBOdW1iZXIocmF3Py5zZWxsQWdlbnRzID8/IHJhdz8uc2VsbF9hZ2VudHMgPz8gMCksXG4gICAgc3RhdHVzUGVyY2VudDogTnVtYmVyKHJhdz8uc3RhdHVzUGVyY2VudCA/PyByYXc/LnN0YXR1c19wZXJjZW50ID8/IDApLFxuICAgIGNhbmRsZURhdGEsXG4gICAgZGlzY3Vzc2lvbnMsXG4gICAgY3JlYXRlZEF0OiByYXc/LmNyZWF0ZWRBdCA/PyByYXc/LmNyZWF0ZWRfYXQgPz8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHZvbGF0aWxpdHk6IHR5cGVvZiByYXc/LnZvbGF0aWxpdHkgPT09ICdudW1iZXInID8gTnVtYmVyKHJhdy52b2xhdGlsaXR5LnRvRml4ZWQoNCkpIDogdW5kZWZpbmVkLFxuICAgIHJpc2tTY29yZTogdHlwZW9mIHJhdz8ucmlza1Njb3JlID09PSAnbnVtYmVyJyA/IE51bWJlcihyYXcucmlza1Njb3JlKSA6IHVuZGVmaW5lZCxcbiAgICBsYXN0U2ltdWxhdGVkUHJpY2U6IHR5cGVvZiByYXc/Lmxhc3RTaW11bGF0ZWRQcmljZSA9PT0gJ251bWJlcicgPyBOdW1iZXIocmF3Lmxhc3RTaW11bGF0ZWRQcmljZS50b0ZpeGVkKDIpKSA6IG51bGwsXG4gICAgYmFsYW5jZTogdHlwZW9mIHJhdz8uYmFsYW5jZSA9PT0gJ251bWJlcicgPyBOdW1iZXIocmF3LmJhbGFuY2UudG9GaXhlZCgyKSkgOiAwLFxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hTZWN0b3JzKCk6IFByb21pc2U8U2VjdG9yW10+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXF1ZXN0PFNlY3RvcltdPignL3NlY3RvcnMnKTtcbiAgICBcbiAgICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHJldHVybiBlbXB0eSBhcnJheSB3aGVuIHNraXBwZWRcbiAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmICdza2lwcGVkJyBpbiByZXN1bHQgJiYgKHJlc3VsdCBhcyBhbnkpLnNraXBwZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcGF5bG9hZCA9IHJlc3VsdCBhcyBTZWN0b3JbXTtcbiAgICBpZiAoIXBheWxvYWQpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGF5bG9hZCkgPyBwYXlsb2FkLm1hcChub3JtYWxpemVTZWN0b3IpIDogW107XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc2VjdG9yczonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoU2VjdG9yQnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxTZWN0b3IgfCBudWxsPiB7XG4gIGlmICghaWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3Q8U2VjdG9yPihgL3NlY3RvcnMvJHtpZH1gKTtcbiAgXG4gIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIC0gcmV0dXJuIG51bGwgd2hlbiBza2lwcGVkXG4gIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIFxuICBjb25zdCBwYXlsb2FkID0gcmVzdWx0IGFzIFNlY3RvcjtcbiAgcmV0dXJuIHBheWxvYWQgPyBub3JtYWxpemVTZWN0b3IocGF5bG9hZCkgOiBudWxsO1xufVxuXG4vLyBNYW5hZ2VyIEFnZW50IEFQSSBmdW5jdGlvbnNcbmV4cG9ydCBpbnRlcmZhY2UgTWFuYWdlclN0YXR1cyB7XG4gIGlzUnVubmluZzogYm9vbGVhbjtcbiAgbWFuYWdlckNvdW50OiBudW1iZXI7XG4gIHRpY2tJbnRlcnZhbE1zOiBudW1iZXI7XG4gIGRlY2lzaW9uTG9nU2l6ZTogbnVtYmVyO1xuICBtYW5hZ2VyczogQXJyYXk8e1xuICAgIGlkOiBzdHJpbmc7XG4gICAgc2VjdG9ySWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgbGFzdERlY2lzaW9uOiB7XG4gICAgICBhY3Rpb246IHN0cmluZztcbiAgICAgIGNvbmZpZGVuY2U6IG51bWJlcjtcbiAgICAgIHJlYXNvbjogc3RyaW5nO1xuICAgICAgdGltZXN0YW1wOiBudW1iZXI7XG4gICAgfSB8IG51bGw7XG4gICAgZGVjaXNpb25Db3VudDogbnVtYmVyO1xuICB9Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYW5hZ2VyRGVjaXNpb24ge1xuICBtYW5hZ2VySWQ6IHN0cmluZztcbiAgc2VjdG9ySWQ6IHN0cmluZztcbiAgZGVjaXNpb246IHtcbiAgICBhY3Rpb246IHN0cmluZztcbiAgICBjb25maWRlbmNlOiBudW1iZXI7XG4gICAgcmVhc29uOiBzdHJpbmc7XG4gICAgdm90ZUJyZWFrZG93bj86IHsgQlVZOiBudW1iZXI7IFNFTEw6IG51bWJlcjsgSE9MRDogbnVtYmVyIH07XG4gICAgY29uZmxpY3RTY29yZT86IG51bWJlcjtcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgfTtcbiAgdGltZXN0YW1wOiBudW1iZXI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaE1hbmFnZXJTdGF0dXMoKTogUHJvbWlzZTxNYW5hZ2VyU3RhdHVzIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhOiBNYW5hZ2VyU3RhdHVzIH0+KCcvc2ltdWxhdGlvbi9zdGF0dXMnKTtcbiAgICBcbiAgICAvLyBIYW5kbGUgcmF0ZSBsaW1pdGluZyAtIHJldHVybiBudWxsIHdoZW4gc2tpcHBlZFxuICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgJ3NraXBwZWQnIGluIHJlc3VsdCAmJiAocmVzdWx0IGFzIGFueSkuc2tpcHBlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHBheWxvYWQgPSByZXN1bHQgYXMgeyBzdWNjZXNzOiBib29sZWFuOyBkYXRhOiBNYW5hZ2VyU3RhdHVzIH07XG4gICAgcmV0dXJuIHBheWxvYWQgJiYgcGF5bG9hZC5zdWNjZXNzID8gcGF5bG9hZC5kYXRhIDogbnVsbDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBtYW5hZ2VyIHN0YXR1czonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoTWFuYWdlckRlY2lzaW9ucyhzZWN0b3JJZDogc3RyaW5nKTogUHJvbWlzZTxNYW5hZ2VyRGVjaXNpb25bXT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhOiBNYW5hZ2VyRGVjaXNpb25bXSB9PihgL3NpbXVsYXRpb24vZGVjaXNpb25zLyR7c2VjdG9ySWR9YCk7XG4gICAgXG4gICAgLy8gSGFuZGxlIHJhdGUgbGltaXRpbmcgLSByZXR1cm4gZW1wdHkgYXJyYXkgd2hlbiBza2lwcGVkXG4gICAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHBheWxvYWQgPSByZXN1bHQgYXMgeyBzdWNjZXNzOiBib29sZWFuOyBkYXRhOiBNYW5hZ2VyRGVjaXNpb25bXSB9O1xuICAgIHJldHVybiBwYXlsb2FkICYmIHBheWxvYWQuc3VjY2VzcyA/IHBheWxvYWQuZGF0YSA6IFtdO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG1hbmFnZXIgZGVjaXNpb25zOicsIGVycm9yKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoQWdlbnRzKCk6IFByb21pc2U8QWdlbnRbXT4ge1xuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDxBZ2VudFtdPignL2FnZW50cycpO1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQubWFwKGFnZW50ID0+IG5vcm1hbGl6ZUFnZW50KGFnZW50KSkgOiBbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoQWdlbnRCeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPEFnZW50IHwgbnVsbD4ge1xuICBpZiAoIWlkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDxBZ2VudD4oYC9hZ2VudHMvJHtpZH1gKTtcbiAgcmV0dXJuIHBheWxvYWQgPyBub3JtYWxpemVBZ2VudChwYXlsb2FkKSA6IG51bGw7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaERpc2N1c3Npb25zKCk6IFByb21pc2U8RGlzY3Vzc2lvbltdPiB7XG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0PERpc2N1c3Npb25bXT4oJy9kaXNjdXNzaW9ucycpO1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQubWFwKG5vcm1hbGl6ZURpc2N1c3Npb24pIDogW107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaERpc2N1c3Npb25CeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPERpc2N1c3Npb24gfCBudWxsPiB7XG4gIGlmICghaWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0PERpc2N1c3Npb24+KGAvZGlzY3Vzc2lvbnMvJHtpZH1gKTtcbiAgcmV0dXJuIHBheWxvYWQgPyBub3JtYWxpemVEaXNjdXNzaW9uKHBheWxvYWQpIDogbnVsbDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZURpc2N1c3Npb24oXG4gIHNlY3RvcklkOiBzdHJpbmcsXG4gIHRpdGxlOiBzdHJpbmcsXG4gIGFnZW50SWRzOiBzdHJpbmdbXSA9IFtdXG4pOiBQcm9taXNlPERpc2N1c3Npb24+IHtcbiAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8RGlzY3Vzc2lvbj4oJy9kaXNjdXNzaW9ucycsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0sXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgc2VjdG9ySWQsXG4gICAgICB0aXRsZSxcbiAgICAgIGFnZW50SWRzLFxuICAgIH0pLFxuICB9KTtcbiAgcmV0dXJuIG5vcm1hbGl6ZURpc2N1c3Npb24ocGF5bG9hZCk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRkTWVzc2FnZVBhcmFtcyB7XG4gIGFnZW50SWQ6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICByb2xlPzogc3RyaW5nO1xuICBhZ2VudE5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGREaXNjdXNzaW9uTWVzc2FnZShcbiAgZGlzY3Vzc2lvbklkOiBzdHJpbmcsXG4gIG1lc3NhZ2U6IEFkZE1lc3NhZ2VQYXJhbXNcbik6IFByb21pc2U8RGlzY3Vzc2lvbj4ge1xuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDxEaXNjdXNzaW9uPihgL2Rpc2N1c3Npb25zLyR7ZGlzY3Vzc2lvbklkfS9tZXNzYWdlYCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShtZXNzYWdlKSxcbiAgfSk7XG4gIHJldHVybiBub3JtYWxpemVEaXNjdXNzaW9uKHBheWxvYWQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xvc2VEaXNjdXNzaW9uKGRpc2N1c3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTxEaXNjdXNzaW9uPiB7XG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0PERpc2N1c3Npb24+KGAvZGlzY3Vzc2lvbnMvJHtkaXNjdXNzaW9uSWR9L2Nsb3NlYCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiBub3JtYWxpemVEaXNjdXNzaW9uKHBheWxvYWQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJjaGl2ZURpc2N1c3Npb24oZGlzY3Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPERpc2N1c3Npb24+IHtcbiAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8RGlzY3Vzc2lvbj4oYC9kaXNjdXNzaW9ucy8ke2Rpc2N1c3Npb25JZH0vYXJjaGl2ZWAsIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gbm9ybWFsaXplRGlzY3Vzc2lvbihwYXlsb2FkKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFjY2VwdERpc2N1c3Npb24oZGlzY3Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPERpc2N1c3Npb24+IHtcbiAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8RGlzY3Vzc2lvbj4oYC9kaXNjdXNzaW9ucy8ke2Rpc2N1c3Npb25JZH0vYWNjZXB0YCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiBub3JtYWxpemVEaXNjdXNzaW9uKHBheWxvYWQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVqZWN0RGlzY3Vzc2lvbihkaXNjdXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8RGlzY3Vzc2lvbj4ge1xuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDxEaXNjdXNzaW9uPihgL2Rpc2N1c3Npb25zLyR7ZGlzY3Vzc2lvbklkfS9yZWplY3RgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICB9KTtcbiAgcmV0dXJuIG5vcm1hbGl6ZURpc2N1c3Npb24ocGF5bG9hZCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVTZWN0b3Ioc2VjdG9yTmFtZTogc3RyaW5nLCBzZWN0b3JTeW1ib2w6IHN0cmluZyk6IFByb21pc2U8U2VjdG9yPiB7XG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0PFNlY3Rvcj4oJy9zZWN0b3JzJywge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBzZWN0b3JOYW1lLFxuICAgICAgc2VjdG9yU3ltYm9sLFxuICAgIH0pLFxuICB9KTtcbiAgcmV0dXJuIG5vcm1hbGl6ZVNlY3RvcihwYXlsb2FkKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUFnZW50KFxuICBwcm9tcHQ6IHN0cmluZyxcbiAgc2VjdG9ySWQ6IHN0cmluZyB8IG51bGwsXG4gIHJvbGU/OiBzdHJpbmcgfCBudWxsXG4pOiBQcm9taXNlPEFnZW50PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8dW5rbm93bj4oJy9hZ2VudHMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHByb21wdCxcbiAgICAgICAgc2VjdG9ySWQsXG4gICAgICAgIHJvbGU6IHJvbGUgfHwgbnVsbCxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIGJvdGggYHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogQWdlbnQgfWAgYW5kIGRpcmVjdCBgQWdlbnRgXG4gICAgbGV0IHJhd0FnZW50OiB1bmtub3duO1xuXG4gICAgaWYgKFxuICAgICAgcGF5bG9hZCAmJlxuICAgICAgdHlwZW9mIHBheWxvYWQgPT09ICdvYmplY3QnICYmXG4gICAgICAnc3VjY2VzcycgaW4gcGF5bG9hZCAmJlxuICAgICAgKHBheWxvYWQgYXMgYW55KS5zdWNjZXNzID09PSB0cnVlICYmXG4gICAgICAnZGF0YScgaW4gcGF5bG9hZFxuICAgICkge1xuICAgICAgcmF3QWdlbnQgPSAocGF5bG9hZCBhcyBhbnkpLmRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJhd0FnZW50ID0gcGF5bG9hZDtcbiAgICB9XG5cbiAgICAvLyBBdCB0aGlzIHBvaW50IHdlIGV4cGVjdCBgcmF3QWdlbnRgIHRvIGJlIGFuIEFnZW50LWxpa2Ugb2JqZWN0XG4gICAgY29uc3QgYWdlbnQgPSBub3JtYWxpemVBZ2VudChyYXdBZ2VudCBhcyBBZ2VudCk7XG4gICAgcmV0dXJuIGFnZW50O1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgLy8gT3B0aW9uYWxseSBpbnNwZWN0IGVycm9yLnJlc3BvbnNlIC8gZXJyb3IubWVzc2FnZSBkZXBlbmRpbmcgb24gYHJlcXVlc3RgIGhlbHBlclxuICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgKGVycm9yICYmIGVycm9yLm1lc3NhZ2UpIHx8XG4gICAgICAnRmFpbGVkIHRvIGNyZWF0ZSBhZ2VudC4gUGxlYXNlIHRyeSBhZ2Fpbi4nO1xuXG4gICAgLy8gUmUtdGhyb3cgYXMgYSBzdGFuZGFyZCBFcnJvciBmb3IgY2FsbGVycyAobW9kYWxzL3BhZ2VzKSB0byBoYW5kbGVcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaW11bGF0ZVRpY2tSZXN1bHQge1xuICBzZWN0b3JJZDogc3RyaW5nO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgbmV3UHJpY2U6IG51bWJlcjtcbiAgcmlza1Njb3JlOiBudW1iZXI7XG4gIGV4ZWN1dGVkVHJhZGVzOiBhbnlbXTtcbiAgcmVqZWN0ZWRUcmFkZXM6IGFueVtdO1xuICBvcmRlcmJvb2s6IGFueTtcbiAgbGFzdFRyYWRlOiBhbnk7XG4gIHByaWNlQ2hhbmdlOiBudW1iZXI7XG4gIHByaWNlQ2hhbmdlUGVyY2VudDogbnVtYmVyO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2ltdWxhdGVUaWNrKHNlY3RvcklkOiBzdHJpbmcsIGRlY2lzaW9uczogYW55W10gPSBbXSk6IFByb21pc2U8U2ltdWxhdGVUaWNrUmVzdWx0PiB7XG4gIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXF1ZXN0PHsgc3VjY2VzczogYm9vbGVhbjsgZGF0YTogU2ltdWxhdGVUaWNrUmVzdWx0IH0gfCBTaW11bGF0ZVRpY2tSZXN1bHQ+KGAvc2ltdWxhdGlvbi90aWNrYCwge1xuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBzZWN0b3JJZCxcbiAgICAgIGRlY2lzaW9ucyxcbiAgICB9KSxcbiAgfSk7XG4gIFxuICAvLyBIYW5kbGUgYm90aCB3cmFwcGVkIGFuZCB1bndyYXBwZWQgcmVzcG9uc2VzXG4gIGlmIChwYXlsb2FkICYmIHR5cGVvZiBwYXlsb2FkID09PSAnb2JqZWN0JyAmJiAnc3VjY2VzcycgaW4gcGF5bG9hZCAmJiAnZGF0YScgaW4gcGF5bG9hZCkge1xuICAgIHJldHVybiAocGF5bG9hZCBhcyB7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE6IFNpbXVsYXRlVGlja1Jlc3VsdCB9KS5kYXRhO1xuICB9XG4gIHJldHVybiBwYXlsb2FkIGFzIFNpbXVsYXRlVGlja1Jlc3VsdDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVNlY3RvclBlcmZvcm1hbmNlKHNlY3RvcklkOiBzdHJpbmcpOiBQcm9taXNlPFNlY3Rvcj4ge1xuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE6IFNlY3RvciB9IHwgU2VjdG9yPihgL3NpbXVsYXRpb24vJHtzZWN0b3JJZH0vcGVyZm9ybWFuY2VgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICB9KTtcbiAgXG4gIC8vIEhhbmRsZSBib3RoIHdyYXBwZWQgYW5kIHVud3JhcHBlZCByZXNwb25zZXNcbiAgbGV0IHNlY3RvckRhdGE6IGFueSA9IHBheWxvYWQ7XG4gIGlmIChwYXlsb2FkICYmIHR5cGVvZiBwYXlsb2FkID09PSAnb2JqZWN0JyAmJiAnc3VjY2VzcycgaW4gcGF5bG9hZCAmJiAnZGF0YScgaW4gcGF5bG9hZCkge1xuICAgIHNlY3RvckRhdGEgPSAocGF5bG9hZCBhcyB7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE6IFNlY3RvciB9KS5kYXRhO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVTZWN0b3Ioc2VjdG9yRGF0YSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXBvc2l0U2VjdG9yKHNlY3RvcklkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyKTogUHJvbWlzZTxTZWN0b3I+IHtcbiAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuOyBkYXRhOiBTZWN0b3IgfSB8IFNlY3Rvcj4oYC9zZWN0b3JzLyR7c2VjdG9ySWR9L2RlcG9zaXRgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYW1vdW50IH0pLFxuICB9KTtcbiAgXG4gIC8vIEhhbmRsZSBib3RoIHdyYXBwZWQgYW5kIHVud3JhcHBlZCByZXNwb25zZXNcbiAgbGV0IHNlY3RvckRhdGE6IGFueSA9IHBheWxvYWQ7XG4gIGlmIChwYXlsb2FkICYmIHR5cGVvZiBwYXlsb2FkID09PSAnb2JqZWN0JyAmJiAnc3VjY2VzcycgaW4gcGF5bG9hZCAmJiAnZGF0YScgaW4gcGF5bG9hZCkge1xuICAgIHNlY3RvckRhdGEgPSAocGF5bG9hZCBhcyB7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE6IFNlY3RvciB9KS5kYXRhO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVTZWN0b3Ioc2VjdG9yRGF0YSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVBZ2VudChhZ2VudElkOiBzdHJpbmcsIHVwZGF0ZXM6IHtcbiAgbmFtZT86IHN0cmluZztcbiAgcm9sZT86IHN0cmluZztcbiAgcHJvbXB0Pzogc3RyaW5nO1xuICBzZWN0b3JJZD86IHN0cmluZyB8IG51bGw7XG4gIHBlcnNvbmFsaXR5Pzoge1xuICAgIHJpc2tUb2xlcmFuY2U/OiBzdHJpbmc7XG4gICAgZGVjaXNpb25TdHlsZT86IHN0cmluZztcbiAgfTtcbiAgcHJlZmVyZW5jZXM/OiB7XG4gICAgcmlza1dlaWdodD86IG51bWJlcjtcbiAgICBwcm9maXRXZWlnaHQ/OiBudW1iZXI7XG4gICAgc3BlZWRXZWlnaHQ/OiBudW1iZXI7XG4gICAgYWNjdXJhY3lXZWlnaHQ/OiBudW1iZXI7XG4gIH07XG59KTogUHJvbWlzZTxBZ2VudD4ge1xuICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVxdWVzdDxBZ2VudD4oYC9hZ2VudHMvJHthZ2VudElkfWAsIHtcbiAgICBtZXRob2Q6ICdQVVQnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGVzKSxcbiAgfSk7XG4gIHJldHVybiBub3JtYWxpemVBZ2VudChwYXlsb2FkKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUFnZW50KGFnZW50SWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICBhd2FpdCByZXF1ZXN0PHsgc3VjY2VzczogYm9vbGVhbjsgbWVzc2FnZT86IHN0cmluZyB9PihgL2FnZW50cy8ke2FnZW50SWR9YCwge1xuICAgIG1ldGhvZDogJ0RFTEVURScsXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlU2VjdG9yKHNlY3RvcklkOiBzdHJpbmcsIGNvbmZpcm1hdGlvbkNvZGU6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlPzogc3RyaW5nOyB3aXRoZHJhd25CYWxhbmNlPzogbnVtYmVyIH0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlcXVlc3Q8eyBzdWNjZXNzOiBib29sZWFuOyBtZXNzYWdlPzogc3RyaW5nOyB3aXRoZHJhd25CYWxhbmNlPzogbnVtYmVyIH0+KGAvc2VjdG9ycy8ke3NlY3RvcklkfWAsIHtcbiAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNvbmZpcm1hdGlvbkNvZGUgfSksXG4gIH0pO1xuICByZXR1cm4gcGF5bG9hZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCYWxhbmNlKCk6IFByb21pc2U8bnVtYmVyPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdDx7IGJhbGFuY2U6IG51bWJlciB9PignL3VzZXIvYmFsYW5jZScpO1xuICAgIFxuICAgIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIC0gcmV0dXJuIDAgd2hlbiBza2lwcGVkXG4gICAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZGF0YSA9IHJlc3VsdCBhcyB7IGJhbGFuY2U6IG51bWJlciB9O1xuICAgIHJldHVybiB0eXBlb2YgZGF0YS5iYWxhbmNlID09PSAnbnVtYmVyJyA/IGRhdGEuYmFsYW5jZSA6IDA7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIHVzZXIgYmFsYW5jZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb25maWRlbmNlVGlja1Jlc3VsdCB7XG4gIGFnZW50czogQXJyYXk8e1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGNvbmZpZGVuY2U6IG51bWJlcjtcbiAgfT47XG4gIGRpc2N1c3Npb25SZWFkeTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJ1bkNvbmZpZGVuY2VUaWNrKHNlY3RvcklkOiBzdHJpbmcpOiBQcm9taXNlPENvbmZpZGVuY2VUaWNrUmVzdWx0IHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcXVlc3Q8Q29uZmlkZW5jZVRpY2tSZXN1bHQ+KGAvc2VjdG9ycy8ke3NlY3RvcklkfS9jb25maWRlbmNlLXRpY2tgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe30pLFxuICAgIH0pO1xuICAgIFxuICAgIC8vIEhhbmRsZSByYXRlIGxpbWl0aW5nIC0gcmV0dXJuIG51bGwgd2hlbiBza2lwcGVkIHNvIHBvbGxpbmcgY2FuIGNvbnRpbnVlIHNpbGVudGx5XG4gICAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiAnc2tpcHBlZCcgaW4gcmVzdWx0ICYmIChyZXN1bHQgYXMgYW55KS5za2lwcGVkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdCBhcyBDb25maWRlbmNlVGlja1Jlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIC8vIFJlLXRocm93IGVycm9ycyAob25seSByZWFsIEhUVFAgZXJyb3JzIHNob3VsZCByZWFjaCBoZXJlKVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbiJdLCJuYW1lcyI6WyJnZXRBcGlCYXNlVXJsIiwiZ2V0QmFja2VuZEJhc2VVcmwiLCJyYXRlTGltaXRlZEZldGNoIiwiaXNSYXRlTGltaXRFcnJvciIsImVycm9yIiwiaXNSYXRlTGltaXQiLCJFcnJvciIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImdldEFwaUJhc2UiLCJhcGlVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsInJlcGxhY2UiLCJiYWNrZW5kIiwiTkVYVF9QVUJMSUNfTUFYX0JBQ0tFTkRfVVJMIiwiTkVYVF9QVUJMSUNfQkFDS0VORF9VUkwiLCJBUElfQkFTRSIsIkJBQ0tFTkQiLCJ1bndyYXBQYXlsb2FkIiwicGF5bG9hZCIsImRhdGEiLCJyZXF1ZXN0IiwicGF0aCIsImluaXQiLCJhcGlCYXNlIiwiZnVsbFVybCIsImNvbnNvbGUiLCJsb2ciLCJtZXRob2QiLCJyZXNwb25zZVJlc3VsdCIsImNhY2hlIiwiY3JlZGVudGlhbHMiLCJza2lwcGVkIiwicmVzcG9uc2UiLCJvayIsImVycm9yTWVzc2FnZSIsInN0YXR1cyIsImVycm9yRGF0YSIsImpzb24iLCJ0ZXh0IiwibmFtZSIsImJhY2tlbmRVcmwiLCJhdHRlbXB0ZWRVcmwiLCJlbnZBcGlVcmwiLCJlbnZCYWNrZW5kVXJsIiwibm9ybWFsaXplQ2FuZGxlRGF0YSIsImVudHJ5IiwiaW5kZXgiLCJmYWxsYmFja1ByaWNlIiwidGltZSIsInZhbHVlIiwidmFsdWVDYW5kaWRhdGUiLCJjbG9zZSIsImhvdXJzIiwibWludXRlcyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsInRvRml4ZWQiLCJub3JtYWxpemVBZ2VudCIsInJhdyIsInBlcmZvcm1hbmNlVmFsdWUiLCJwZXJmb3JtYW5jZSIsInBubCIsInRyYWRlc0NvdW50IiwiQXJyYXkiLCJpc0FycmF5IiwidHJhZGVzIiwibGVuZ3RoIiwiaWQiLCJTdHJpbmciLCJyb2xlIiwic2VjdG9ySWQiLCJzZWN0b3JfaWQiLCJzZWN0b3JTeW1ib2wiLCJzZWN0b3Jfc3ltYm9sIiwidW5kZWZpbmVkIiwic2VjdG9yTmFtZSIsInNlY3Rvcl9uYW1lIiwicGVyc29uYWxpdHkiLCJyaXNrVG9sZXJhbmNlIiwicmlza190b2xlcmFuY2UiLCJkZWNpc2lvblN0eWxlIiwiZGVjaXNpb25fc3R5bGUiLCJwcm9tcHQiLCJwcmVmZXJlbmNlcyIsInJpc2tXZWlnaHQiLCJwcm9maXRXZWlnaHQiLCJzcGVlZFdlaWdodCIsImFjY3VyYWN5V2VpZ2h0IiwibW9yYWxlIiwicmV3YXJkUG9pbnRzIiwiY29uZmlkZW5jZSIsImNyZWF0ZWRBdCIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJyYXdUcmFkZXMiLCJyYXdQZXJmb3JtYW5jZSIsIm5vcm1hbGl6ZURpc2N1c3Npb24iLCJtZXNzYWdlcyIsIm1hcCIsImFnZW50TmFtZSIsImFnZW50X25hbWUiLCJjb250ZW50IiwidGltZXN0YW1wIiwidGl0bGUiLCJhZ2VudElkcyIsImFnZW50SWQiLCJhZ2VudF9pZHMiLCJ1cGRhdGVkQXQiLCJ1cGRhdGVkX2F0Iiwibm9ybWFsaXplU2VjdG9yIiwiYmFzZVByaWNlIiwiY3VycmVudFByaWNlIiwicHJpY2UiLCJhZ2VudHMiLCJhZ2VudCIsInN5bWJvbCIsImNhbmRsZURhdGEiLCJmaWx0ZXIiLCJwb2ludCIsIkJvb2xlYW4iLCJkaXNjdXNzaW9ucyIsImRpc2N1c3Npb24iLCJjaGFuZ2UiLCJjaGFuZ2VQZXJjZW50IiwiY2hhbmdlX3BlcmNlbnQiLCJ2b2x1bWUiLCJhY3RpdmVBZ2VudHMiLCJhY3RpdmVfYWdlbnRzIiwiYnV5QWdlbnRzIiwiYnV5X2FnZW50cyIsInNlbGxBZ2VudHMiLCJzZWxsX2FnZW50cyIsInN0YXR1c1BlcmNlbnQiLCJzdGF0dXNfcGVyY2VudCIsInZvbGF0aWxpdHkiLCJyaXNrU2NvcmUiLCJsYXN0U2ltdWxhdGVkUHJpY2UiLCJiYWxhbmNlIiwiZmV0Y2hTZWN0b3JzIiwicmVzdWx0IiwiZmV0Y2hTZWN0b3JCeUlkIiwiZmV0Y2hNYW5hZ2VyU3RhdHVzIiwic3VjY2VzcyIsImZldGNoTWFuYWdlckRlY2lzaW9ucyIsImZldGNoQWdlbnRzIiwiZmV0Y2hBZ2VudEJ5SWQiLCJmZXRjaERpc2N1c3Npb25zIiwiZmV0Y2hEaXNjdXNzaW9uQnlJZCIsImNyZWF0ZURpc2N1c3Npb24iLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGREaXNjdXNzaW9uTWVzc2FnZSIsImRpc2N1c3Npb25JZCIsImNsb3NlRGlzY3Vzc2lvbiIsImFyY2hpdmVEaXNjdXNzaW9uIiwiYWNjZXB0RGlzY3Vzc2lvbiIsInJlamVjdERpc2N1c3Npb24iLCJjcmVhdGVTZWN0b3IiLCJjcmVhdGVBZ2VudCIsInJhd0FnZW50Iiwic2ltdWxhdGVUaWNrIiwiZGVjaXNpb25zIiwidXBkYXRlU2VjdG9yUGVyZm9ybWFuY2UiLCJzZWN0b3JEYXRhIiwiZGVwb3NpdFNlY3RvciIsImFtb3VudCIsInVwZGF0ZUFnZW50IiwidXBkYXRlcyIsImRlbGV0ZUFnZW50IiwiZGVsZXRlU2VjdG9yIiwiY29uZmlybWF0aW9uQ29kZSIsImdldFVzZXJCYWxhbmNlIiwicnVuQ29uZmlkZW5jZVRpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/api.ts\n"));

/***/ })

});