(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7913:function(e,t,r){Promise.resolve().then(r.bind(r,13890))},13890:function(e,t,r){"use strict";r.d(t,{default:function(){return b}});var a=r(57437),l=r(2265),n=r(29116),s=r(39763);let o=(0,s.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var c=r(99397);let i=(0,s.Z)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),d=(0,s.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var m=r(99376),x=r(28325);let h=["1H","4H","12H","24H"],u={"1H":{label:"1H",window:1,increment:5},"4H":{label:"4H",window:4,increment:10},"12H":{label:"12H",window:12,increment:15},"24H":{label:"24H",window:24,increment:30}};function g(e){let{label:t,value:r,options:l,onChange:n}=e;return(0,a.jsxs)("label",{className:"flex flex-col gap-2 text-floral-white/80 text-xs uppercase tracking-[0.3em]",children:[(0,a.jsx)("span",{children:t}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("select",{value:r,onChange:e=>n(e.target.value),className:"appearance-none w-44 rounded-xl border border-ink-500 bg-ink-600/70 px-4 py-2 pr-10 text-sm normal-case tracking-normal text-floral-white focus:outline-none focus:border-sage-green focus:ring-1 focus:ring-sage-green transition-colors",children:l.map(e=>(0,a.jsx)("option",{value:e.value,className:"bg-ink-600 text-floral-white",children:e.label},e.value))}),(0,a.jsx)(o,{className:"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-sage-green"})]})]})}function b(){var e,t,r;let s=(0,m.useRouter)(),[b,p]=(0,l.useState)([]),[f,v]=(0,l.useState)(!0),[w,j]=(0,l.useState)(null),[N,y]=(0,l.useState)(!1),[k,S]=(0,l.useState)(null),[A,C]=(0,l.useState)("overview"),[M,P]=(0,l.useState)(0),[E,H]=(0,l.useState)("4H"),[F,L]=(0,l.useState)("all"),[T,V]=(0,l.useState)("volume"),[R,O]=(0,l.useState)(!1),[U,D]=(0,l.useState)("window"),[I,_]=(0,l.useState)("full"),[z,Z]=(0,l.useState)("csv"),G=(0,l.useRef)(null),[$,q]=(0,l.useState)([]),B=(0,l.useMemo)(()=>{let e=new Map;return b.forEach(t=>e.set(t.id,t)),e},[b]),W=(0,l.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e&&v(!0),y(!0);let t=await (0,n.e3)();p(t),j(null),S(new Date)}catch(e){console.error("Failed to fetch sectors",e),j((null==e?void 0:e.message)||"Unable to load sectors. Please try again.")}finally{v(!1),y(!1)}},[]);(0,l.useEffect)(()=>{W(!0)},[W]);let J=e=>{let[t,r]=e.split(":").map(Number);return 60*t+r},K=(0,l.useMemo)(()=>b,[b]),{marketIndex:X,marketIndexChange:Q,totalVolume:Y,totalAgents:ee,activeAgents:et}=(0,l.useMemo)(()=>{if(!K.length)return{marketIndex:0,marketIndexChange:0,totalVolume:0,totalAgents:0,activeAgents:0};let e=K.reduce((e,t)=>e+t.volume,0),t=K.reduce((e,t)=>e+t.agents.length,0),r=K.reduce((e,t)=>e+t.activeAgents,0),a=K.reduce((e,t)=>e+t.currentPrice,0)/K.length,l=K.reduce((e,t)=>e+t.changePercent,0)/K.length;return{marketIndex:Number((6.93*a).toFixed(2)),marketIndexChange:Number(l.toFixed(2)),totalVolume:e,totalAgents:t,activeAgents:r}},[K]),er=ee>0?(et/ee*100).toFixed(1):"0",ea=(0,l.useMemo)(()=>"number"==typeof A?K[A]:null,[A,K]),el=ea?ea.currentPrice:X,en=ea?ea.changePercent:Q,es=ea?(ea.activeAgents/Math.max(ea.agents.length,1)*100).toFixed(1):null,eo={volumeValue:ea?ea.volume:Y,volumeSubtitle:ea?"".concat(ea.name," sector"):"Across ".concat(K.length," sectors"),totalAgentsValue:ea?ea.agents.length:ee,totalAgentsSubtitle:ea?"".concat(ea.name," team"):"Across ".concat(K.length," sectors"),activeAgentsValue:ea?ea.activeAgents:et,activeAgentsSubtitle:ea?"".concat(es,"% utilization"):"".concat(er,"% utilization")},ec="overview"===A?"All Sectors":"".concat(null!==(e=null==ea?void 0:ea.name)&&void 0!==e?e:"Sector"," • ").concat(null!==(t=null==ea?void 0:ea.symbol)&&void 0!==t?t:""),ei=(0,l.useMemo)(()=>{let e=[...K];switch("gainers"===F?e=e.filter(e=>e.changePercent>=0):"decliners"===F&&(e=e.filter(e=>e.changePercent<0)),T){case"price":e.sort((e,t)=>t.currentPrice-e.currentPrice);break;case"agents":e.sort((e,t)=>t.activeAgents-e.activeAgents);break;case"status":e.sort((e,t)=>t.statusPercent-e.statusPercent);break;default:e.sort((e,t)=>t.volume-e.volume)}return e},[K,F,T]),ed=Math.max(1,Math.ceil(ei.length/6)),em=(0,l.useMemo)(()=>{let e=6*M;return ei.slice(e,e+6)},[ei,M]),ex=ei.length?6*M+1:0,eh=ei.length?Math.min(ei.length,(M+1)*6):0,eu=M>0,eg=M<ed-1,eb=(0,l.useMemo)(()=>{if(!$.length)return[];if(1===$.length){var e;let t=B.get($[0]);return null!==(e=null==t?void 0:t.candleData)&&void 0!==e?e:[]}let t=new Map;return $.forEach(e=>{let r=B.get(e);if(!(null==r?void 0:r.candleData.length))return;let a=r.candleData[0].value;r.candleData.forEach(e=>{var r;let l=e.value-a;t.set(e.time,Number(((null!==(r=t.get(e.time))&&void 0!==r?r:0)+l).toFixed(2)))})}),Array.from(t.entries()).sort((e,t)=>J(e[0])-J(t[0])).map(e=>{let[t,r]=e;return{time:t,value:r}})},[$,B]),ep=(0,l.useMemo)(()=>$.map(e=>B.get(e)).filter(e=>!!e),[$,B]),ef=1===ep.length?"".concat(ep[0].name," (").concat(ep[0].symbol,")"):"".concat(ep.length||0," Sector Net"),ev=1===ep.length?ep[0].symbol:"NET";(0,l.useEffect)(()=>{P(0)},[F,T,K]),(0,l.useEffect)(()=>{let e=Math.max(Math.ceil(ei.length/6)-1,0);P(t=>Math.min(t,e))},[ei.length]),(0,l.useEffect)(()=>{if(!R)return;let e=e=>{G.current&&!G.current.contains(e.target)&&O(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[R]);let ew=e=>e.toFixed(2);if(f)return(0,a.jsx)("div",{className:"min-h-screen bg-pure-black flex items-center justify-center px-8",children:(0,a.jsx)("p",{className:"text-floral-white/70 font-mono text-sm tracking-[0.3em] uppercase",children:"Loading market data..."})});if(w)return(0,a.jsx)("div",{className:"min-h-screen bg-pure-black flex items-center justify-center px-8",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("p",{className:"text-error-red font-mono",children:w}),(0,a.jsx)("button",{onClick:()=>W(!0),disabled:N,className:"rounded-full border border-sage-green px-4 py-2 text-xs uppercase tracking-[0.3em] text-floral-white hover:bg-sage-green/10 disabled:opacity-50",children:N?"Retrying...":"Retry sync"})]})});if(0===b.length)return(0,a.jsx)("div",{className:"min-h-screen bg-pure-black flex items-center justify-center px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-floral-white mb-2 font-mono uppercase",children:"No Sectors Found"}),(0,a.jsx)("p",{className:"text-floral-white/70 font-mono text-sm",children:"Create your first sector to get started. A manager agent will be automatically created for it."})]}),(0,a.jsxs)("button",{onClick:()=>s.push("/sectors"),className:"w-full flex items-center justify-center gap-2 rounded-full bg-sage-green px-5 py-3 text-sm font-semibold uppercase tracking-[0.25em] text-pure-black hover:bg-sage-green/90 transition-colors",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5"}),"Create Sector"]})]})});let ej=h.map(e=>({value:e,label:u[e].label})),eN=Object.entries({volume:"Volume",price:"Price",agents:"Active Agents",status:"Utilization"}).map(e=>{let[t,r]=e;return{value:t,label:r}}),ey=e=>e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e.toLocaleString(),ek=e=>e>=45?"bg-sage-green/15 text-sage-green border border-sage-green/30":e>=30?"bg-warning-amber/15 text-warning-amber border border-warning-amber/30":"bg-error-red/10 text-error-red border border-error-red/20",eS=()=>"focused"===U&&ea?[ea]:"all"===U?ei:em.length?em:ei,eA={summary:{headers:["Symbol","Sector","Price","Change %","Status"],map:e=>[e.symbol,e.name,"$".concat(ew(e.currentPrice)),"".concat(e.changePercent>=0?"+":"").concat(e.changePercent.toFixed(2),"%"),"".concat(e.statusPercent,"%")]},full:{headers:["Symbol","Sector","Price","Change","Change %","Volume","Active Agents","Total Agents","Utilization"],map:e=>[e.symbol,e.name,"$".concat(ew(e.currentPrice)),"".concat(e.change>=0?"+":"").concat(ew(e.change)),"".concat(e.changePercent>=0?"+":"").concat(e.changePercent.toFixed(2),"%"),ey(e.volume),"".concat(e.activeAgents),"".concat(e.agents.length),"".concat(Math.round(e.activeAgents/Math.max(e.agents.length,1)*100),"%")]},deep:{headers:["Symbol","Sector","Price","Volume","Utilization","Top Agents","Current Discussions"],map:e=>{var t,r;return[e.symbol,e.name,"$".concat(ew(e.currentPrice)),ey(e.volume),"".concat(Math.round(e.activeAgents/Math.max(e.agents.length,1)*100),"%"),e.agents.slice(0,3).map(e=>e.name).join(" | ")||"N/A","".concat(null!==(r=null===(t=e.discussions)||void 0===t?void 0:t.length)&&void 0!==r?r:0)]}}},eC=K.length,eM=e=>{q(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},eP=ei.length>0&&ei.every(e=>$.includes(e.id)),eE=null!==(r=u[E])&&void 0!==r?r:u["4H"],eH={"1H":"1 Hour","4H":"4 Hours","12H":"12 Hours","24H":"24 Hours"}[E],eF=k?k.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--",eL=[{id:"window",label:"Visible window",helper:ei.length?"".concat(ex,"-").concat(eh," rows"):"No rows visible"},{id:"all",label:"Full filtered dataset",helper:"".concat(ei.length," rows with filters applied")},{id:"focused",label:ea?"Focused: ".concat(ea.symbol):"Focused sector",helper:ea?ea.name:"Select a sector in the navigator"}];return(0,a.jsx)("div",{className:"min-h-screen bg-pure-black",children:(0,a.jsxs)("div",{className:"max-w-[1920px] mx-auto px-8 py-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"bg-shadow-grey rounded-lg p-6 border border-shadow-grey",children:[(0,a.jsx)("span",{className:"text-xs uppercase text-floral-white/70 tracking-wide font-mono block mb-2",children:"MARKET INDEX"}),ea&&(0,a.jsxs)("span",{className:"text-[0.65rem] uppercase text-floral-white/50 tracking-[0.3em] font-mono block mb-1",children:[ea.name," • ",ea.symbol]}),(0,a.jsx)("div",{className:"text-3xl font-bold text-floral-white mb-1 font-mono",children:el.toFixed(2)}),(0,a.jsx)("div",{className:"text-sm font-medium font-mono ".concat(en>=0?"text-sage-green":"text-error-red"),children:"".concat(en>=0?"+":"").concat(en.toFixed(2),"%")})]}),(0,a.jsxs)("div",{className:"bg-shadow-grey rounded-lg p-6 border border-shadow-grey",children:[(0,a.jsx)("span",{className:"text-xs uppercase text-floral-white/70 tracking-wide block mb-2 font-mono",children:"TOTAL VOLUME"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-floral-white mb-1 font-mono",children:ey(eo.volumeValue)}),(0,a.jsx)("div",{className:"text-xs text-floral-white/50 font-mono",children:eo.volumeSubtitle})]}),(0,a.jsxs)("div",{className:"bg-shadow-grey rounded-lg p-6 border border-shadow-grey",children:[(0,a.jsx)("span",{className:"text-xs uppercase text-floral-white/70 tracking-wide block mb-2 font-mono",children:"TOTAL AGENTS"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-floral-white mb-1 font-mono",children:eo.totalAgentsValue}),(0,a.jsx)("div",{className:"text-xs text-floral-white/50 font-mono",children:eo.totalAgentsSubtitle})]}),(0,a.jsxs)("div",{className:"bg-shadow-grey rounded-lg p-6 border border-shadow-grey",children:[(0,a.jsx)("span",{className:"text-xs uppercase text-floral-white/70 tracking-wide block mb-2 font-mono",children:"ACTIVE AGENTS"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-floral-white mb-1 font-mono",children:eo.activeAgentsValue}),(0,a.jsx)("div",{className:"text-xs text-floral-white/50 font-mono",children:eo.activeAgentsSubtitle})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>{if("overview"===A)C(eC-1);else{let e=A-1;C(e<0?"overview":e)}},className:"px-3 py-2 rounded border border-ink-500 text-lg font-mono text-floral-white hover:border-sage-green transition-colors","aria-label":"View previous sector",children:"<"}),(0,a.jsx)("div",{className:"text-sm font-mono text-floral-white/80 uppercase tracking-[0.3em]",children:ec}),(0,a.jsx)("button",{onClick:()=>{if("overview"===A)C(0);else{let e=A+1;C(e>=eC?"overview":e)}},className:"px-3 py-2 rounded border border-ink-500 text-lg font-mono text-floral-white hover:border-sage-green transition-colors","aria-label":"View next sector",children:">"})]}),(0,a.jsx)("button",{onClick:()=>{C("overview")},className:"inline-flex items-center justify-center rounded-full bg-sage-green px-5 py-2 text-xs font-semibold uppercase tracking-[0.25em] text-pure-black hover:bg-sage-green/90 transition-colors",children:"Overview"})]}),(0,a.jsxs)("div",{className:"bg-card-bg/80 border border-ink-500 rounded-2xl px-5 py-5 mb-6 space-y-5",children:[(0,a.jsx)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between border-b border-ink-500/60 pb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>{eu&&P(e=>Math.max(0,e-1))},disabled:!eu,className:"px-3 py-2 rounded-full border border-ink-500 text-lg font-mono text-floral-white hover:border-sage-green disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:"<"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-floral-white/50 font-mono",children:"Sector Window"}),(0,a.jsxs)("p",{className:"text-sm text-floral-white font-mono",children:[ex,"-",eh," of ",ei.length||0]})]}),(0,a.jsx)("button",{onClick:()=>{eg&&P(e=>Math.min(ed-1,e+1))},disabled:!eg,className:"px-3 py-2 rounded-full border border-ink-500 text-lg font-mono text-floral-white hover:border-sage-green disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:">"})]})}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 xl:flex-row xl:items-end xl:justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsx)(g,{label:"Timeline",value:E,options:ej,onChange:e=>H(e)}),(0,a.jsx)(g,{label:"Filter",value:F,options:[{value:"all",label:"All"},{value:"gainers",label:"Gainers"},{value:"decliners",label:"Decliners"}],onChange:e=>L(e)}),(0,a.jsx)(g,{label:"Sort By",value:T,options:eN,onChange:e=>V(e)})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsxs)("button",{onClick:()=>{W()},disabled:N,className:"flex items-center gap-2 rounded-xl border border-ink-500 bg-card-bg/70 px-3 py-2 text-xs font-semibold uppercase tracking-wide text-floral-white/80 hover:border-sage-green transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(i,{className:"w-3.5 h-3.5 ".concat(N?"animate-spin text-sage-green":"")}),N?"Syncing...":"Sync"]}),(0,a.jsxs)("div",{className:"relative",ref:G,children:[(0,a.jsxs)("button",{onClick:()=>O(e=>!e),className:"flex items-center gap-2 rounded-xl bg-sage-green px-3 py-2 text-xs font-semibold uppercase tracking-wide text-pure-black hover:bg-sage-green/90 transition-colors",children:[(0,a.jsx)(d,{className:"w-3.5 h-3.5"}),"Export",(0,a.jsx)(o,{className:"w-3 h-3 transition-transform ".concat(R?"rotate-180":"")})]}),R&&(0,a.jsxs)("div",{className:"absolute right-0 z-30 mt-3 w-80 rounded-2xl border border-ink-500 bg-card-bg/95 p-4 shadow-[0_20px_60px_rgba(0,0,0,0.65)]",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-[0.6rem] font-semibold uppercase tracking-[0.3em] text-floral-white/60",children:"Scope"}),(0,a.jsx)("div",{className:"mt-2 space-y-2",children:eL.map(e=>(0,a.jsxs)("label",{className:"flex cursor-pointer flex-col rounded-xl border px-3 py-2 transition-colors ".concat(U===e.id?"border-sage-green bg-sage-green/10 text-floral-white":"border-ink-500/80 text-floral-white/70 hover:border-sage-green/60"),children:[(0,a.jsx)("input",{type:"radio",name:"export-scope",className:"sr-only",checked:U===e.id,onChange:()=>D(e.id)}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:e.label}),(0,a.jsx)("span",{className:"text-[0.65rem] text-floral-white/60",children:e.helper})]},e.id))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-[0.6rem] font-semibold uppercase tracking-[0.3em] text-floral-white/60",children:"Detail level"}),(0,a.jsx)("div",{className:"mt-2 grid grid-cols-3 gap-2",children:[{id:"summary",label:"Summary",helper:"Headline KPIs"},{id:"full",label:"Full",helper:"Adds depth + utilization"},{id:"deep",label:"Deep dive",helper:"Includes agents & discussion counts"}].map(e=>(0,a.jsxs)("label",{className:"flex cursor-pointer flex-col rounded-xl border px-3 py-2 text-center transition-colors ".concat(I===e.id?"border-sage-green bg-sage-green/10 text-floral-white":"border-ink-500/80 text-floral-white/70 hover:border-sage-green/60"),children:[(0,a.jsx)("input",{type:"radio",name:"export-detail",className:"sr-only",checked:I===e.id,onChange:()=>_(e.id)}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:e.label}),(0,a.jsx)("span",{className:"text-[0.6rem] text-floral-white/60",children:e.helper})]},e.id))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-[0.6rem] font-semibold uppercase tracking-[0.3em] text-floral-white/60",children:"Format"}),(0,a.jsx)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[{id:"csv",label:"CSV",helper:"Spreadsheet ready"},{id:"json",label:"JSON",helper:"For automation"}].map(e=>(0,a.jsxs)("label",{className:"flex cursor-pointer flex-col rounded-xl border px-3 py-2 transition-colors ".concat(z===e.id?"border-sage-green bg-sage-green/10 text-floral-white":"border-ink-500/80 text-floral-white/70 hover:border-sage-green/60"),children:[(0,a.jsx)("input",{type:"radio",name:"export-format",className:"sr-only",checked:z===e.id,onChange:()=>Z(e.id)}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:e.label}),(0,a.jsx)("span",{className:"text-[0.6rem] text-floral-white/60",children:e.helper})]},e.id))})]}),(0,a.jsx)("button",{onClick:()=>{let e=eS();if(!e.length)return;let t=eA[I];if("json"===z){let t=new Blob([JSON.stringify(e.map(e=>{var t;let[r,a,l,n,s]=eA.summary.map(e);return{symbol:r,sector:a,price:l,changePercent:n,status:s,volume:ey(e.volume),activeAgents:e.activeAgents,totalAgents:e.agents.length,utilization:"".concat(Math.round(e.activeAgents/Math.max(e.agents.length,1)*100),"%"),topAgents:e.agents.slice(0,3).map(e=>({name:e.name,role:e.role,status:e.status})),discussions:(null!==(t=e.discussions)&&void 0!==t?t:[]).length,timeframe:eH}}),null,2)],{type:"application/json;charset=utf-8;"}),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.setAttribute("download","sector-export-".concat(I,".json")),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r),O(!1);return}let r=e.map(e=>t.map(e).join(",")),a=new Blob([[t.headers.join(","),...r].join("\n")],{type:"text/csv;charset=utf-8;"}),l=window.URL.createObjectURL(a),n=document.createElement("a");n.href=l,n.setAttribute("download","sector-export-".concat(I,".csv")),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(l),O(!1)},className:"w-full rounded-xl bg-sage-green py-2 text-xs font-semibold uppercase tracking-[0.25em] text-pure-black hover:bg-sage-green/90 transition-colors",children:"Generate export"})]})]}),(0,a.jsxs)("span",{className:"text-xs text-floral-white/60 font-mono",children:["Updated ",eF]})]})]})]}),(0,a.jsxs)("div",{className:"bg-card-bg/80 rounded-2xl border border-ink-500 mb-6 overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-5 py-4 border-b border-ink-500/70 flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-floral-white uppercase tracking-[0.32em] font-mono",children:"SECTOR PERFORMANCE DATA"}),(0,a.jsxs)("p",{className:"text-xs text-floral-white/60 font-mono mt-1",children:["All sectors • ",eH]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs font-mono",children:[(0,a.jsx)("button",{onClick:()=>{if(eP){q([]);return}q(ei.map(e=>e.id))},className:"rounded-full border border-ink-500 px-3 py-1 uppercase tracking-[0.3em] text-floral-white/70 hover:border-sage-green hover:text-floral-white transition-colors",children:eP?"Clear All":"Select All"}),(0,a.jsxs)("span",{className:"text-floral-white/60",children:["Synced ",eF]})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border border-ink-500 bg-card-bg font-mono text-[0.85rem]",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-ink-600 text-floral-white/70 uppercase tracking-[0.2em]",children:[(0,a.jsx)("th",{className:"px-3 py-3 border border-ink-500 text-center text-[0.6rem]",children:"Chart"}),["Symbol","Sector","Price","Change","Change %","Volume","Agents","Active","Status"].map(e=>(0,a.jsx)("th",{className:"px-4 py-3 border border-ink-500 text-left text-[0.6rem]",children:e},e))]})}),(0,a.jsx)("tbody",{children:em.length?em.map((e,t)=>{let r=$.includes(e.id);return(0,a.jsxs)("tr",{className:"cursor-pointer transition-colors ".concat(t%2==0?"bg-shadow-grey/60":"bg-shadow-grey/40"," hover:bg-shadow-grey/80"),onClick:()=>s.push("/sectors/".concat(e.id)),children:[(0,a.jsx)("td",{className:"px-3 py-3 border border-ink-500 text-center",onClick:e=>e.stopPropagation(),children:(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-ink-500 bg-transparent text-sage-green focus:ring-sage-green",checked:r,onChange:()=>eM(e.id),"aria-label":"Toggle ".concat(e.name," in chart")})}),(0,a.jsx)("td",{className:"px-4 py-3 border border-ink-500 text-floral-white font-semibold",children:e.symbol}),(0,a.jsx)("td",{className:"px-4 py-3 border border-ink-500 text-floral-white/85",children:e.name}),(0,a.jsxs)("td",{className:"px-4 py-3 border border-ink-500 text-floral-white",children:["$",ew(e.currentPrice)]}),(0,a.jsxs)("td",{className:"px-4 py-3 border border-ink-500 ".concat(e.change>=0?"text-sage-green":"text-error-red"),children:[e.change>=0?"+":"",ew(e.change)]}),(0,a.jsxs)("td",{className:"px-4 py-3 border border-ink-500 ".concat(e.changePercent>=0?"text-sage-green":"text-error-red"),children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]}),(0,a.jsx)("td",{className:"px-4 py-3 border border-ink-500 text-floral-white/80",children:ey(e.volume)}),(0,a.jsx)("td",{className:"px-4 py-3 border border-ink-500 text-floral-white/80",children:e.agents.length}),(0,a.jsx)("td",{className:"px-4 py-3 border border-ink-500 text-floral-white",children:e.activeAgents}),(0,a.jsx)("td",{className:"px-4 py-3 border border-ink-500",children:(0,a.jsxs)("span",{className:"px-3 py-1 rounded-full text-[0.65rem] font-semibold uppercase tracking-[0.2em] inline-flex items-center justify-center ".concat(ek(e.statusPercent)),children:[e.statusPercent,"%"]})})]},e.id)}):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:10,className:"px-4 py-8 text-center text-floral-white/60 font-mono",children:0===ei.length&&0===b.length?"No data available for this currently.":"No sectors match the current filters."})})})]})}),(0,a.jsxs)("div",{className:"px-5 py-3 border-t border-ink-500/70 text-xs uppercase tracking-[0.3em] text-floral-white/60 font-mono",children:["Viewing ",ex,"-",eh," of ",ei.length||0," • Page ",Math.min(M+1,ed)," / ",ed]})]}),(0,a.jsxs)("div",{className:"bg-card-bg/80 rounded-2xl border border-ink-500 p-6",children:[(0,a.jsxs)("div",{className:"mb-4 flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-floral-white/50 font-mono",children:"Net movement"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-floral-white font-mono",children:$.length?ef:"Select sectors to plot"}),(0,a.jsxs)("p",{className:"text-sm text-floral-white/60 font-mono",children:["Window ",eE.window,"h \xb7 Increment ",eE.increment,"m \xb7 ",eH," range"]})]}),0===$.length?(0,a.jsx)("div",{className:"rounded-xl border border-dashed border-ink-500/70 bg-ink-600/40 p-6 text-center text-sm text-floral-white/60",children:"Use the chart column in the table above to choose one or more sectors. The combined profit/loss curve will render here automatically."}):0===eb.length?(0,a.jsx)("div",{className:"rounded-xl border border-ink-500 bg-ink-600/40 p-6 text-center text-sm text-floral-white/60",children:"No data available for this currently."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-4 flex flex-wrap gap-2",children:[ep.map(e=>(0,a.jsx)("span",{className:"rounded-full border border-ink-500/70 px-3 py-1 text-[0.65rem] uppercase tracking-[0.3em] text-floral-white/70",children:e.symbol},e.id)),(0,a.jsx)("button",{onClick:()=>q([]),className:"ml-auto text-xs uppercase tracking-[0.3em] text-floral-white/60 hover:text-floral-white",children:"Clear"})]}),(0,a.jsx)(x.Z,{data:eb,sectorName:ef,sectorSymbol:ev,initialWindowHours:eE.window,initialTickIncrement:eE.increment},"".concat($.join("-")||"none","-").concat(E))]})]})]})})}},99397:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},function(e){e.O(0,[153,352,971,117,744],function(){return e(e.s=7913)}),_N_E=e.O()}]);